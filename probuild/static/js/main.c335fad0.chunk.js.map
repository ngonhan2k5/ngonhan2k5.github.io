{"version":3,"sources":["components/Nav.js","components/PopupModel.js","middleware/api.js","actions/memberActions.js","components/FindMemberPopup.js","actions/bookActions.js","components/FindBookPopup.js","components/Checkout.js","components/book/AddBookPopup.js","components/BookManagement.js","components/AddMemberPopup.js","components/MemberManagement.js","components/Home.js","config/urlConfig.js","components/SideBar.js","components/Loading.js","components/AuthenComponent.js","actions/toastActions.js","components/ToastMessage.js","components/ToastComponent.js","App.js","serviceWorker.js","reducers/BooksReducer.js","reducers/MemberReducer.js","middleware/authentication.js","reducers/AuthenticationReducer.js","reducers/ToastReducer.js","reducers/index.js","middleware/loading.js","middleware/toastMiddlewear.js","index.js"],"names":["Nav","className","id","onClick","this","props","toggleSideBar","fullName","Component","PopupModel","show","handleClose","title","body","saveLabel","cancelLabel","clazz","children","noFooter","Modal","onHide","dialogClassName","Header","closeButton","Title","Body","Footer","CALL_API","HTTP_METHODS","apiMiddleware","store","next","action","callApi","undefined","types","startedType","successType","failureType","isLoading","type","endpoint","method","params","url","data","header","axios","makeApiCall","then","res","console","log","ok","payload","catch","error","fail","response","ACTIONS","filterMember","searchString","fetchMembers","fetchCheckoutRecords","memberId","updatePaging","pageNo","FindMemberPopup","state","selected","onSelectMember","member","setState","onSearch","dispatch","filter","idx","key","address","city","zip","phoneNumber","members","name","onChange","evt","target","value","placeholder","scope","_","isArray","map","renderMember","renderBody","connect","memberReducer","records","fetchBooks","filterBook","FindBookPopup","onSelectBook","book","isbn","authors","maxCheckoutLength","copieAvailable","books","renderBook","bookReducer","POPUPS","Checkout","openPopup","popupName","isOpenPopup","onCheckout","checkout","processCheckout","handleClosePopup","renderPopup","disabled","isValid","checkoutEntry","checkoutDate","overDue","returnDueDate","isOverdue","substring","checkoutRecord","checkoutEntries","record","renderCheckoutEntry","renderCheckoutForm","renderCheckoutHistory","AddBookPopup","onAddOK","onAddFail","onFieldChange","e","parseInt","onSelectAuthorChange","select","opt","result","options","i","iLen","length","push","text","getSelectValues","myForm","current","reportValidity","onAddNewBook","React","createRef","nbrOfCopies","addNewBook","success","message","role","renderMessage","ref","htmlFor","required","autoFocus","multiple","a","newBookResult","messages","pop","newBookErrors","BookManagement","onAddBook","isOpenAddNew","handleCloseAddBook","update","setTimeout","totalPage","Math","ceil","hasNext","hasPrevious","tabIndex","range","item","isActive","start","end","visibleBooks","slice","renderPaging","renderFilter","renderBooksList","BookCopyCell","useState","isAddCopy","setIsAddCopy","numCopies","setNumCopies","useDispatch","useEffect","isSafeInteger","numOfCopies","for","newMember","MemberManagement","onFilterMember","onAddNewMember","handleCloseAddNewMember","AddMemberPopup","memners","visibleMembers","renderMembersList","Home","onLogin","preventDefault","userName","password","images","Carousel","img","Item","src","alt","Caption","renderCarousel","onSubmit","isAuthenticated","renderHome","renderLoginForm","withRouter","URL_WITH_PERMISSONS","BOOK_MANAGEMENT","MEMBER_MANAGEMENT","CHECK_OUT","LOGOUT","availableItems","link","label","icon","isAllowToAccessPath","pathname","userPermissions","extractItemFromPathname","isAllow","isEmpty","requiredPermissions","results","up","findIndex","rp","SideBar","history","location","onClickLink","items","permissions","renderMenus","LoadingComponent","AuthenComponent","urlConfig","to","TOAST_TYPE","count","addToast","toastType","errors","tClass","removeToast","ToastMessage","remove","removeRef","useRef","clearTimeout","aria-hidden","isObject","ToastComponent","onTimeOut","onClickRemove","renderItems","toastReducer","App","isOpenSideBar","exact","path","authReducer","Boolean","window","hostname","match","initState","USER_INFO","initUserData","localStorage","getItem","JSON","parse","initData","toasts","concat","combineReducers","succeed","keepEditCopy","loadingMiddleware","$","addClass","removeClass","buildToastMessage","createStore","reducers","composeWithDevTools","applyMiddleware","thunkMiddleWare","memberActions","bookActions","getState","userData","systemUser","setItem","stringify","permissionsGranted","removeItem","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c335fad0.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport '../scss/nav.scss';\n\nexport default class Nav extends Component {\n\n    render() {\n        return (\n            <nav className=\"navbar navbar-expand-lg navbar-light bg-light border-bottom justify-content-between mb-3 border-0\">\n                <div className=\"d-flex justify-content-start\">\n                    <span className=\"btn btn-secondary toggle-button\" id=\"menu-toggle\" onClick={this.props.toggleSideBar}>\n                        <i className=\"fas fa-bars\"></i>\n                    </span>\n                    <span className=\"navbar-brand ml-3\">Library Management</span>\n                </div>\n                <div className=\"d-flex justify-content-end\">\n                    { this.props.fullName ?  (<h5 className=\"text-info\">Welcome, {this.props.fullName}</h5>) : null}\n                </div>\n            </nav>\n        )\n    }\n}","import React from 'react'\nimport { Modal } from 'react-bootstrap'\n\nexport default function PopupModel(props) {\n    const { show, handleClose, title, body, saveLabel, cancelLabel, clazz, children, noFooter } = props\n    return (\n        <>\n            <Modal show={show} onHide={handleClose} dialogClassName={clazz} >\n                <Modal.Header closeButton>\n                    <Modal.Title>{title}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    {children}\n                    {body}\n                </Modal.Body>\n                {\n                    !noFooter\n                        ? (<Modal.Footer>\n                            <span className=\"btn btn-primary shadow\" onClick={() => handleClose('ACCEPT')}>{saveLabel ? saveLabel : 'Save Changes'}</span>\n                            <span className=\"btn btn-secondary shadow\" onClick={() => handleClose('CANCEL')}>{cancelLabel ? cancelLabel : 'Close'}</span>\n                        </Modal.Footer>)\n                        : null\n                }\n            </Modal>\n        </>\n    );\n}","import axios from 'axios'\n\nconst API_BASE_URL = 'http://192.168.0.147:8080/api'\nexport const CALL_API = 'CALL_API'\nexport const HTTP_METHODS = {\n    POST: 'POST',\n    GET: 'GET'\n}\n\nfunction makeApiCall({ endpoint, method = 'GET', body }) {\n    const url = `${API_BASE_URL}${endpoint}`\n    const params = {\n        url,\n        method,\n        data: body,\n        header: {\n            'Content-Type': 'application/json'\n        }\n    }\n\n    return axios(params)\n        // .then(res => {\n        //     console.log('Success:' + res)\n        //     return res\n        // })\n        // .catch(error => {\n        //     console.log('ERROR:' + error)\n        //     return error\n        // })\n}\n\nconst apiMiddleware = store => next => action => {\n    const callApi = action[CALL_API]\n    if (typeof callApi === undefined || callApi === undefined) {\n        return next(action)\n    }\n\n    const [startedType, successType, failureType, isLoading] = callApi.types\n\n    next({ type: startedType, isLoading })\n\n    // if (successType === 'LOGIN_SUCCEEDED') {\n    //     return new Promise(\n    //         () => next({\n    //             type: successType,\n    //             payload: { token: 'This is Khanh' }\n    //         })\n    //     )\n    // }\n\n    return makeApiCall({\n        endpoint: callApi.endpoint,\n        method: callApi.method,\n        body: callApi.body\n    }).then(res => {\n        console.log('Success:' + res)\n        callApi.next?.ok && callApi.next.ok()\n        return next({\n            type: successType,\n            payload: res.data\n        })\n    }).catch(error => {\n        console.log('ERROR:' + error)\n        callApi.next?.fail && callApi.next.fail()\n        return next({\n            type: failureType,\n            payload: error.response?.data\n        })\n    })\n    //     res =>{\n    //         console.log(res)\n    //         return next({\n    //             type: successType,\n    //             payload: res.data\n    //         }) },\n    //     error =>{\n    //         console.log(error)\n    //         return next({\n    //             type: failureType,\n    //             payload: error.message\n    //         })\n    //     }\n    // )\n}\n\nexport default apiMiddleware;","import { CALL_API, HTTP_METHODS } from '../middleware/api'\n\nexport const ACTIONS = {\n    FETCH_MEMBERS: 'FETCH_MEMBERS',\n    FETCH_MEMBERS_SUCCEEDED: 'FETCH_MEMBERS_SUCCEEDED',\n    FETCH_MEMBERS_FAILED: 'FETCH_MEMBERS_FAILED',\n\n    FILTER_MEMBER: 'FILTER_MEMBER',\n    FILTER_MEMBER_SUCCEEDED: 'FILTER_MEMBER_SUCCEEDED',\n    FILTER_MEMBER_FAILED: 'FILTER_MEMBER_FAILED',\n\n    ADD_MEMBER: 'ADD_MEMBER',\n    ADD_MEMBER_SUCCEEDED: 'ADD_MEMBER_SUCCEEDED',\n    ADD_MEMBER_FAILED: 'ADD_MEMBER_FAILED',\n\n    CHECKOUT: 'CHECKOUT',\n    CHECKOUT_SUCCEEDED: 'CHECKOUT_SUCCEEDED',\n    CHECKOUT_FAILED: 'CHECKOUT_FAILED',\n\n    RENT_BOOK: 'RENT_BOOK',\n    RETURN_BOOK: 'RETURN_BOOK',\n\n    SELECT_BOOK: 'SELECT_BOOK',\n    SELECT_MEMBER: 'SELECT_MEMBER',\n\n    FETCH_CHECKOUT_RECORDS: 'FETCH_CHECKOUT_RECORDS',\n    FETCH_CHECKOUT_RECORDS_SUCCEEDED: 'FETCH_CHECKOUT_RECORDS_SUCCEEDED',\n    FETCH_CHECKOUT_RECORDS_FAILED: 'FETCH_CHECKOUT_RECORDS_FAILED',\n\n    LOGIN: 'LOGIN',\n    LOGIN_SUCCEEDED: 'LOGIN_SUCCEEDED',\n    LOGIN_FAILED: 'LOGIN_FAILED',\n    LOGOUT: 'LOGOUT',\n\n    UPDATE_PAGING: 'UPDATE_PAGING'\n}\n\nexport function addNewMember({firstName, lastName, dob, phone}) {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.ADD_MEMBER, ACTIONS.ADD_MEMBER_SUCCEEDED, ACTIONS.ADD_MEMBER_FAILED, true],\n            endpoint: '/members',\n            method: HTTP_METHODS.POST,\n            body: { firstName, lastName, dob, phone }\n        }\n    }\n}\n\nexport function filterMember(searchString) {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.FILTER_MEMBER, ACTIONS.FILTER_MEMBER_SUCCEEDED, ACTIONS.FILTER_MEMBER_FAILED],\n            endpoint: `/member/search?searchString=${searchString}`,\n            method: HTTP_METHODS.GET,\n        }\n    }\n}\n\nexport function processCheckout({memberId, isbn}) {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.CHECKOUT, ACTIONS.CHECKOUT_SUCCEEDED, ACTIONS.CHECKOUT_FAILED, true],\n            endpoint: `/checkout/book/${isbn}/member/${memberId}`,\n            method: HTTP_METHODS.POST,\n        }\n    }\n}\n\nexport function fetchMembers() {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.FETCH_MEMBERS, ACTIONS.FETCH_MEMBERS_SUCCEEDED, ACTIONS.FETCH_MEMBERS_FAILED, true],\n            endpoint: '/member/list',\n            method: HTTP_METHODS.GET,\n        }\n    }\n}\n\nexport function login1({userName, password}) {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.LOGIN, ACTIONS.LOGIN_SUCCEEDED, ACTIONS.LOGIN_FAILED, true],\n            endpoint: `/oauth/token?grant_type=password&username=${userName}&password=${password}`,\n            method: HTTP_METHODS.POST,\n        }\n    }\n}\n\nexport function login(params) {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.LOGIN, ACTIONS.LOGIN_SUCCEEDED, ACTIONS.LOGIN_FAILED, true],\n            endpoint: '/auth/login',\n            method: HTTP_METHODS.POST,\n            body: params\n        }\n    }\n}\n\nexport function logout() {\n    return {\n        type: ACTIONS.LOGOUT\n    }\n}\n\nexport function selectMember(memberId) {\n    return {\n        type: ACTIONS.SELECT_MEMBER,\n        payload: memberId\n    }\n}\n\nexport function selectBook(isbn) {\n    return {\n        type: ACTIONS.SELECT_BOOK,\n        payload: isbn\n    }\n}\n\nexport function fetchCheckoutRecords(memberId) {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.FETCH_CHECKOUT_RECORDS, ACTIONS.FETCH_CHECKOUT_RECORDS_SUCCEEDED, ACTIONS.FETCH_CHECKOUT_RECORDS_FAILED],\n            endpoint: `/member?memberId=${memberId}`,\n            method: HTTP_METHODS.GET,\n        }\n    }\n}\n\nexport function updatePaging(pageNo) {\n    return {\n        type: ACTIONS.UPDATE_PAGING,\n        payload: pageNo\n    }\n}","import React, { Component } from \"react\";\nimport _ from 'lodash'\nimport PopupModel from \"./PopupModel\";\nimport { connect } from \"react-redux\";\nimport { fetchMembers, filterMember } from \"../actions/memberActions\";\n\nclass FindMemberPopup extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            filter: '',\n            selected: ''\n        }\n    }\n\n    componentDidMount() {\n        this.props.dispatch(fetchMembers())\n    }\n\n    handleClose = (action) => {\n        if ('ACCEPT' === action) {\n            this.props.handleClose('SELECT_MEMBER', this.state.selected)\n        } else {\n            this.props.handleClose()\n        }\n    }\n\n    onSelectMember = (member) => {\n        this.setState({selected: member.memberId})\n    }\n\n    onSearch = () => {\n        this.props.dispatch(filterMember(this.state.filter))\n    }\n\n    renderMember(member, idx) {\n        const {selected} = this.state\n        return (\n            <tr key={idx} onClick={() => this.onSelectMember(member)} className={selected === member.memberId ? 'bg-info' : ''}>\n                <td>{idx + 1}</td>\n                <td>{member.fullName}</td>\n                <td>{member.address.city}, {member.address.state}, {member.address.zip}</td>\n                <td>{member.phoneNumber}</td>\n            </tr>\n        )\n    }\n\n    renderBody() {\n        const { members } = this.props\n        return (\n            <div className=\"d-flex flex-column\">\n                <div className=\"d-flex flex-row mb-4\">\n                    <input className=\"form-control col-6 mr-3\"\n                        name=\"memberId\"\n                        onChange={(evt) => this.setState({ filter: evt.target.value })}\n                        placeholder=\"Enter Search String\"></input>\n                    <span className=\"btn btn-info shadow\" onClick={this.onSearch}>\n                        <i className=\"fas fa-search\"></i>\n                    </span>\n                </div>\n                <table className=\"table table-striped\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">#</th>\n                            <th scope=\"col\">Name</th>\n                            <th scope=\"col\">Address</th>\n                            <th scope=\"col\">Phone</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {\n                            _.isArray(members) && members.map((member, idx) => this.renderMember(member, idx))\n                        }\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n\n    render() {\n        const props = {\n            show: true,\n            title: 'Find Member',\n            saveLabel: 'Accept',\n            body: this.renderBody(),\n            handleClose: this.handleClose,\n            clazz: 'modal-lg'\n        }\n        return <PopupModel {...props}/>\n    }\n}\n\nexport default connect(mapStateToProps)(FindMemberPopup)\n\nfunction mapStateToProps(state) {\n    return {\n        members: state.memberReducer.records\n    }\n}","import { CALL_API, HTTP_METHODS } from '../middleware/api'\n\nexport const ACTIONS = {\n    FETCH_BOOKS: 'FETCH_BOOKS',\n    FETCH_BOOKS_SUCCEEDED: 'FETCH_BOOKS_SUCCEEDED',\n    FETCH_BOOKS_FAILED: 'FETCH_BOOKS_FAILED',\n    \n    ADD_BOOK_COPY: 'ADD_BOOK_COPY',\n    ADD_BOOK_COPY_SUCCEEDED: 'ADD_BOOK_COPY_SUCCEEDED',\n    ADD_BOOK_COPY_FAILED: 'ADD_BOOK_COPY_FAILED',\n\n    ADD_NEW_BOOK: 'ADD_NEW_BOOK',\n    ADD_NEW_BOOK_FAILED: 'ADD_NEW_BOOK_FAILED',\n    ADD_NEW_BOOK_SUCCEEDED: 'ADD_NEW_BOOK_SUCCEEDED',\n\n    FILTER_BOOK: 'FILTER_BOOK',\n    FILTER_BOOK_SUCCEEDED: 'FILTER_BOOK_SUCCEEDED',\n    FILTER_BOOK_FAILED: 'FILTER_BOOK_FAILED',\n\n    FETCH_AUTHORS: 'FETCH_AUTHORS',\n    FETCH_AUTHORS_SUCCEEDED: 'FETCH_AUTHORS_SUCCEEDED',\n\n    UPDATE_BOOK_PAGING: 'UPDATE_BOOK_PAGING'\n}\n\nexport function fetchBooks() {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.FETCH_BOOKS, ACTIONS.FETCH_BOOKS_SUCCEEDED, ACTIONS.FETCH_BOOKS_FAILED, true],\n            endpoint: '/book/list',\n            method: HTTP_METHODS.GET,\n        }\n    }\n}\n\nexport function addNewBook({ title, isbn, copieAvailable:nbrOfCopies, maxCheckoutLength, authors}, ok, fail) {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.ADD_NEW_BOOK, ACTIONS.ADD_NEW_BOOK_SUCCEEDED, ACTIONS.ADD_NEW_BOOK_FAILED, true],\n            endpoint: '/book/add',\n            method: HTTP_METHODS.POST,\n            body: { title, isbn, nbrOfCopies, maxCheckoutLength, authors },\n            next: {ok, fail}\n        }\n    }\n}\n\nexport function filterBook(searchString) {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.FILTER_BOOK, ACTIONS.FILTER_BOOK_SUCCEEDED, ACTIONS.FILTER_BOOK_SUCCEEDED, true],\n            endpoint: `/book/search?searchString=${searchString}`,\n            method: HTTP_METHODS.GET,\n        }\n    }\n}\n\nexport function fetchAuthor() {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.FETCH_AUTHORS, ACTIONS.FETCH_AUTHORS_SUCCEEDED, true],\n            endpoint: '/author/list',\n            method: HTTP_METHODS.GET,\n        }\n    }\n}\n\nexport function addBookCopy(isbn, numOfCopies) {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.ADD_BOOK_COPY, ACTIONS.ADD_BOOK_COPY_SUCCEEDED, ACTIONS.ADD_BOOK_COPY_FAILED, true],\n            endpoint: `/book/addcopy/isbn/${isbn}/nbrcopy/${numOfCopies}`,\n            method: HTTP_METHODS.POST,\n        }\n    }\n}\n\nexport function updatePaging(pageNo) {\n    return {\n        type: ACTIONS.UPDATE_BOOK_PAGING,\n        payload: pageNo\n    }\n}","import React, { Component } from \"react\";\nimport _ from 'lodash'\nimport PopupModel from \"./PopupModel\";\nimport { connect } from \"react-redux\";\nimport { fetchBooks,  filterBook} from \"../actions/bookActions\";\n\nclass FindBookPopup extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            filter: '',\n            selected: ''\n        }\n    }\n\n    componentDidMount() {\n        this.props.dispatch(fetchBooks())\n    }\n\n    handleClose = (action) => {\n        if ('ACCEPT' === action) {\n            this.props.handleClose('SELECT_BOOK', this.state.selected)\n        } else {\n            this.props.handleClose()\n        }\n    }\n\n    onSelectBook = (book) => {\n        this.setState({ selected: book.isbn })\n    }\n\n    onSearch = () => {\n        this.props.dispatch(filterBook(this.state.filter))\n    }\n\n    renderBook(book, idx) {\n        const {selected} = this.state\n        return (\n            <tr key={idx} onClick={() => this.onSelectBook(book)} className={selected === book.isbn ? 'bg-info' : ''}>\n                <td>{idx + 1}</td>\n                <td>{book.title}</td>\n                <td>{book.isbn}</td>\n                <td>{book.authors[0].fullName}</td>\n                <td>{book.maxCheckoutLength}</td>\n                <td>{book.copieAvailable}</td>\n            </tr>\n        )\n    }\n\n    renderBody() {\n        const { books } = this.props\n        return (\n            <div className=\"d-flex flex-column\">\n                <div className=\"d-flex flex-row mb-4\">\n                    <input className=\"form-control col-6 mr-3\"\n                        name=\"isbn\"\n                        onChange={(evt) => this.setState({ filter: evt.target.value })}\n                        placeholder=\"Enter Search String\"></input>\n                    <span className=\"btn btn-info shadow\" onClick={this.onSearch}>\n                        <i className=\"fas fa-search\"></i>\n                    </span>\n                </div>\n                <table className=\"table table-striped\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">#</th>\n                            <th scope=\"col\">Title</th>\n                            <th scope=\"col\">ISBN</th>\n                            <th scope=\"col\">Authors</th>\n                            <th scope=\"col\">Period</th>\n                            <th scope=\"col\">Available Copies</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {\n                            _.isArray(books) && books.map((book, idx) => this.renderBook(book, idx))\n                        }\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n\n    render() {\n        const props = {\n            show: true,\n            title: 'Find Book',\n            saveLabel: 'Accept',\n            body: this.renderBody(),\n            handleClose: this.handleClose,\n            clazz: 'modal-lg'\n        }\n        return <PopupModel {...props} />\n    }\n}\n\nexport default connect(mapStateToProps)(FindBookPopup)\n\nfunction mapStateToProps(state) {\n    return {\n        books: state.bookReducer.records?.filter(book => book.copieAvailable > 0)\n    }\n}","import React, { Component } from \"react\";\nimport FindMemberPopup from \"./FindMemberPopup\";\nimport FindBookPopup from \"./FindBookPopup\";\nimport { processCheckout, selectBook, selectMember, fetchCheckoutRecords } from '../actions/memberActions'\nimport { connect } from \"react-redux\";\n\nconst POPUPS = {\n    FIND_MEMBER: 'FIND_MEMBER',\n    FIND_BOOK: 'FIND_BOOK'\n}\n\nclass Checkout extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            isOpenPopup: false,\n            popupName: '',\n        }\n    }\n\n    isValid() {\n        const { memberId, isbn } = this.props.checkout\n        return memberId && isbn\n    }\n\n    openPopup = (popupName) => {\n        this.setState({ isOpenPopup: true, popupName })\n    }\n\n    onCheckout = () => {\n        const { memberId, isbn } = this.props.checkout\n        this.props.dispatch(processCheckout({ isbn, memberId }))\n    }\n\n    handleClosePopup = (action, value) => {\n        switch (action) {\n            case 'SELECT_MEMBER':\n                this.props.dispatch(selectMember(value))\n                this.props.dispatch(fetchCheckoutRecords(value))\n                this.setState({ isOpenPopup: false, popupName: '' })\n                break\n            case 'SELECT_BOOK':\n                this.props.dispatch(selectBook(value))\n                this.setState({ isOpenPopup: false, popupName: '' })\n                break\n            default:\n                this.setState({ isOpenPopup: false, popupName: '' })\n\n        }\n    }\n\n    renderPopup = () => {\n        const { isOpenPopup, popupName } = this.state\n\n        if (!isOpenPopup) return null\n\n        if (POPUPS.FIND_BOOK === popupName) {\n            return <FindBookPopup  {...{ handleClose: this.handleClosePopup }} />\n        }\n\n        return <FindMemberPopup {...{ handleClose: this.handleClosePopup }} />\n    }\n\n    renderCheckoutForm() {\n        const { memberId, isbn } = this.props.checkout\n        return (\n            <div className=\"card filter shadow border-0\">\n                <div className=\"card-header\">\n                    <h4>Checkout</h4>\n                </div>\n                <div className=\"card-body\">\n                    <div className=\"d-flex flex-column\">\n                        <div className=\"d-flex flex-row mb-2\">\n                            <span className=\"col-2\">Member ID:</span>\n                            <input className=\"form-control col-6 mr-3\" name=\"memberId\" disabled value={memberId}></input>\n                            <span className=\"btn btn-info shadow\" onClick={() => this.openPopup(POPUPS.FIND_MEMBER)}>\n                                <i className=\"fas fa-search\"></i>\n                            </span>\n                        </div>\n                        <div className=\"d-flex flex-row\">\n                            <span className=\"col-2\">ISBN:</span>\n                            <input className=\"form-control col-6 mr-3\" name=\"isbn\" disabled value={isbn}></input>\n                            <span className=\"btn btn-info shadow\" onClick={() => this.openPopup(POPUPS.FIND_BOOK)}>\n                                <i className=\"fas fa-search\"></i>\n                            </span>\n                        </div>\n                        <div className=\"d-flex justify-content-end mt-4\">\n                            <button className=\"btn btn-primary shadow\" onClick={this.onCheckout} disabled={!this.isValid()}>Check out</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    renderCheckoutEntry(checkoutEntry, idx) {\n        const { book, checkoutDate, overDue, returnDueDate } = checkoutEntry\n        const isOverdue = book.isbn === 'ISBN2' || overDue // Cheat to show Overdue book\n        return (\n            <tr key={idx}>\n                <td>{idx}</td>\n                <td>{book.title}</td>\n                <td>{book.isbn}</td>\n                <td>{checkoutDate?.substring(0, 10)}</td>\n                <td>{returnDueDate?.substring(0, 10)}</td>\n                <td><span className={isOverdue ? 'overdue' : ''}></span></td>\n            </tr>\n        )\n    }\n\n    renderCheckoutHistory() {\n        const { checkoutRecord } = this.props\n        return (\n            <div className=\"card checkout-records mt-4 shadow border-0\">\n                <div className=\"card-header\">\n                    <h4>Checkout History</h4>\n                </div>\n                <div className=\"card-body\">\n                    <table className=\"table table-striped\">\n                        <thead>\n                            <tr>\n                                <th scope=\"col\">#</th>\n                                <th scope=\"col\">Book</th>\n                                <th scope=\"col\">ISBN</th>\n                                <th scope=\"col\">Checkout Date</th>\n                                <th scope=\"col\">Due Date</th>\n                                <th>Overdue</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {\n                                checkoutRecord?.checkoutEntries?.map((record, idx) => this.renderCheckoutEntry(record, idx))\n                            }\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        )\n    }\n\n    render() {\n        return (\n            <div className=\"Checkout\">\n                {this.renderCheckoutForm()}\n                {this.renderCheckoutHistory()}\n                {this.renderPopup()}\n            </div>\n        )\n    }\n}\n\nexport default connect(mapStateToProps)(Checkout)\n\nfunction mapStateToProps(state) {\n    const { records, checkout, checkoutRecord } = state.memberReducer\n    return {\n        members: records,\n        checkout: checkout ? checkout : { memberId: '', isbn: '' },\n        checkoutRecord\n    }\n}","import React, { Component } from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { addNewBook, fetchAuthor } from \"../../actions/bookActions\";\r\n\r\nimport PopupModel from \"../PopupModel\";\r\n\r\nclass AddBookPopup extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            title:'',\r\n            isbn:'',\r\n            copieAvailable:0,\r\n            maxCheckoutLength:0\r\n        }\r\n\r\n        this.myForm = React.createRef();\r\n        // const textInput = useRef(null);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.dispatch(fetchAuthor())\r\n    }\r\n\r\n    onAddNewBook (evt) {\r\n        console.log(1111111)\r\n        // evt.preventDefault();\r\n        let { title, isbn, copieAvailable, maxCheckoutLength, authors } = this.state\r\n        this.props.dispatch(addNewBook({ title, isbn, copieAvailable, maxCheckoutLength, authors}, this.onAddOK, this.onAddFail))\r\n\r\n    }\r\n\r\n    onAddOK = () => {\r\n        // this.setState({\r\n        //     title:'',\r\n        //     isbn:'',\r\n        //     copieAvailable:0,\r\n        //     maxCheckoutLength:0\r\n        // })\r\n        this.props.handleClose(true)\r\n    }\r\n\r\n    onAddFail = () => {\r\n        console.log(\"Failed\")\r\n    }\r\n\r\n    onFieldChange = (e) => {\r\n        const target = e.target;\r\n        const name = target.name;\r\n        const value = target.type==\"number\"?parseInt(target.value):target.value;\r\n        // console.log(444,{[name]:value},target)\r\n        this.setState({\r\n            [name]:value\r\n        })\r\n    }\r\n\r\n    onSelectAuthorChange = (e) => {\r\n        const target = e.target;\r\n        const name = target.name;\r\n        const value = getSelectValues(target);\r\n        // console.log(444,{[name]:value},target)\r\n        this.setState({\r\n            [name]:value\r\n        })\r\n    }\r\n\r\n    handleClose = (action) => {\r\n        if ('ACCEPT' === action) {\r\n            // this.myForm.current.submit()\r\n            if (this.myForm.current.reportValidity())\r\n                this.onAddNewBook()\r\n        \r\n        } else {\r\n            this.props.handleClose()\r\n        }\r\n        // if (accept=='ACCEPT'){\r\n        //     // this.form.submit()\r\n        // }\r\n        // this.setState({ isOpenPopup: false, popupName: '' })\r\n\r\n    }\r\n    \r\n\r\n    render() {\r\n        const props = {\r\n            show: true,\r\n            title: 'Add Book',\r\n            saveLabel: 'Save',\r\n            body: this.renderBody(),\r\n            handleClose: this.handleClose,\r\n            clazz: 'modal-lg'\r\n        }\r\n        return <PopupModel {...props} />\r\n    }\r\n\r\n    renderMessage (){\r\n        const { success, message, authors, error } = this.props\r\n        return ( \r\n        <div> \r\n            {error &&\r\n                <div className=\"alert alert-danger\" role=\"alert\" title={error?.message}>\r\n                    <strong>Opps!</strong> Add book failed.\r\n                </div>\r\n            }\r\n            {success &&\r\n                <div className=\"alert alert-success\" role=\"alert\" title={message}>\r\n                    <strong>Well done!</strong> Add book success.\r\n                </div>\r\n            }\r\n\r\n        </div>\r\n        )\r\n    }\r\n\r\n    renderBody() {\r\n        const { authors } = this.props\r\n        const {title, isbn, copieAvailable, maxCheckoutLength } = this.state\r\n        return (\r\n            <div className=\"\" id=\"container\">\r\n                { this.renderMessage () }\r\n                <div>\r\n                    <span><b>Note:</b> Form fields marked with asterisk (*) are required.</span>\r\n                </div>\r\n                <br/>\r\n                <form id=\"bookForm\" ref={this.myForm}>\r\n                               \r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-8\">\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"title\">*Book Title</label>                            \r\n                                    <input id=\"title\" name=\"title\" type=\"text\" className=\"form-control\" onChange={this.onFieldChange} value={title} required autoFocus />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4\">\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"isbn\">*ISBN</label>                           \r\n                                    <input id=\"isbn\" name=\"isbn\" type=\"text\" className=\"form-control\" onChange={this.onFieldChange} value={isbn} required />\r\n                                </div>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4\">\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"noofc\">*Number of Copies</label>                            \r\n                                    <input id=\"noofc\" name=\"copieAvailable\" type=\"number\" className=\"form-control\" onChange={this.onFieldChange} value={copieAvailable} required autoFocus />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-md-4\">\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"overdueFee\">*Max Checkout Length</label>                            \r\n                                    <input id=\"overdueFee\" name=\"maxCheckoutLength\" type=\"number\" className=\"form-control\"\r\n                                        onChange={this.onFieldChange} value={maxCheckoutLength} required />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-6\">\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"authors\">Author:</label>\r\n                                    <select multiple className=\"form-control\" id=\"authors\" name=\"authors\" onChange={this.onSelectAuthorChange} required>\r\n                                        {authors && authors.map(\r\n                                            (a, i) => <option key={i} value={a.id}>{a.fullName}</option>\r\n                                        )}\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        \r\n\r\n                        {/* <div className=\"row\">\r\n                            <div className=\"col-md-6\">\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"publisher\">*Publisher</label>                            \r\n                                    <input id=\"publisher\" name=\"publisher\" type=\"text\" className=\"form-control\"\r\n                                        value=\"\" required />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-md-6\">\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"datePublished\">*Date Published</label>                            \r\n                                    <input id=\"datePublished\" name=\"datePublished\" type=\"date\" className=\"form-control\"\r\n                                        value=\"\" required />\r\n                                </div>\r\n                            </div>\r\n                        </div> */}\r\n                        {/* <div className=\"row\">\r\n                            <div className=\"float-right\">\r\n                                <button id=\"modalBtnReset\" type=\"reset\" className=\"ml-4 btn btn-outline-secondary\">Clear</button>\r\n                                &nbsp;\r\n                                <button id=\"modalBtnSaveBook\" type=\"submit\" className=\"btn btn-outline-primary\" onClick={this.onAddNewBook}>Save Book</button>\r\n                            </div>\r\n                        </div> */}\r\n                    \r\n                </form>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nfunction getSelectValues(select) {\r\n    var result = [];\r\n    var options = select && select.options;\r\n    var opt;\r\n  \r\n    for (var i=0, iLen=options.length; i<iLen; i++) {\r\n      opt = options[i];\r\n  \r\n      if (opt.selected) {\r\n        result.push(opt.value || opt.text);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\nexport default connect(mapStateToProps)(AddBookPopup)\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        books: state.bookReducer.records,\r\n        // addbook:state\r\n        success: state.bookReducer.newBookResult?.success,\r\n        message: state.bookReducer.newBookResult?.messages && state.bookReducer.newBookResult.messages.pop(),\r\n        authors: state.bookReducer.authors,\r\n        error: state.bookReducer.newBookErrors && state.bookReducer.newBookErrors.pop()\r\n    }\r\n}","import React, { Component, useState, useEffect } from \"react\"\nimport { connect, useDispatch } from 'react-redux'\nimport { fetchBooks, addBookCopy, updatePaging, filterBook } from '../actions/bookActions'\nimport AddBookPopup from './book/AddBookPopup'\nimport _ from 'lodash'\n\nclass BookManagement extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            filter: '',\n            isOpenAddNew: false\n        }\n    }\n\n    componentDidMount() {\n        this.props.dispatch(fetchBooks())\n    }\n\n    onAddBook = () => {\n        this.setState({ isOpenAddNew: true })\n    }\n\n    handleCloseAddBook = (update=false) => {\n        this.setState({ isOpenAddNew: false })\n\n        if (update)\n            this.props.dispatch(fetchBooks())\n    }\n\n    componentDidUpdate() {\n        if (!this.props.books && this.props.error) {\n            setTimeout(() => this.props.dispatch(fetchBooks()), 8000)\n        }\n    }\n\n    renderFilter() {\n        return (\n            <div className=\"card filter shadow border-0\">\n                <div className=\"card-header\">\n                    <span>Filter Books</span>\n                </div>\n                <div className=\"card-body\">\n                    <div className=\"d-flex justify-content-between\">\n                        <div className=\"d-flex\">\n                            <input className=\"form-control col-9 mr-3\" name=\"filterKeyword\"\n                                onChange={(evt) => this.setState({ filter: evt.target.value })} type=\"text\">\n\n                            </input>\n                            <span className=\"btn btn-secondary shadow\"\n                                onClick={() => this.props.dispatch(filterBook(this.state.filter))}>Search</span>\n                        </div>\n                        <div>\n                            <span className=\"btn btn-info shadow\" onClick={this.onAddBook}>Add Book</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    renderBook(book, idx) {\n        let { title, isbn, maxCheckoutLength, copieAvailable } = book\n        return (\n            <tr key={idx}>\n                <td>{idx + 1}</td>\n                <td>{title}</td>\n                <td>{isbn}</td>\n                <td>{maxCheckoutLength}</td>\n                <td>{copieAvailable}</td>\n                <td>\n                    <BookCopyCell {...{ book }} />\n                </td>\n            </tr>\n        )\n    }\n\n    renderPaging() {\n        const totalPage = Math.ceil(this.props.books.length / 10)\n        const hasNext = this.props.pageNo < totalPage\n        const hasPrevious = this.props.pageNo > 1\n        return (\n            <div className=\"table-paging\">\n                <nav>\n                    <ul className=\"pagination justify-content-end pagination-sm\">\n                        <li className={\"page-item \" + (!hasPrevious ? 'disabled' : '')}\n                            onClick={() => hasPrevious && this.props.dispatch(updatePaging(this.props.pageNo - 1))}>\n                            <span className=\"page-link\" tabIndex=\"-1\">Previous</span>\n                        </li>\n                        {\n                            _.range(1, totalPage + 1, 1).map((item, idx) => {\n                                const isActive = this.props.pageNo === item\n                                return (\n                                    <li className={\"page-item \" + (isActive ? 'active' : '')} key={idx}\n                                        onClick={() => this.props.dispatch(updatePaging(item))}>\n                                        <span className=\"page-link\" >{item}</span>\n                                    </li>\n                                )\n                            })\n                        }\n                        <li className={\"page-item \" + (!hasNext ? 'disabled' : '')}\n                            onClick={() => hasNext && this.props.dispatch(updatePaging(this.props.pageNo + 1))}>\n                            <span className=\"page-link\" tabIndex=\"-1\">Next</span>\n                        </li>\n                    </ul>\n                </nav>\n            </div>\n        )\n    }\n\n    renderBooksList() {\n        const { books, pageNo } = this.props\n        const start = (pageNo - 1) * 10\n        const end = (books?.length - start) > 10 ? 10 : (books?.length - start)\n        const visibleBooks = _.slice(books, start, start + end)\n        return (\n            <div className=\"card book-list mt-4 shadow border-0\">\n                <div className=\"card-header\">\n                    <span>Books List</span>\n                </div>\n                <div className=\"card-body\">\n                    <table className=\"table table-striped\">\n                        <thead>\n                            <tr>\n                                <th scope=\"col\">#</th>\n                                <th scope=\"col\">Title</th>\n                                <th scope=\"col\">ISBN</th>\n                                <th scope=\"col\">Period</th>\n                                <th scope=\"col\">Available</th>\n                                <th></th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {\n                                visibleBooks?.map((book, idx) => this.renderBook(book, idx))\n                            }\n                        </tbody>\n                    </table>\n                    {this.renderPaging()}\n                </div>\n            </div>\n        )\n    }\n    renderPopup = () => {\n        return this.state.isOpenAddNew\n            ? <AddBookPopup  {...{ handleClose: this.handleCloseAddBook }} />\n            : null\n\n    }\n\n    render() {\n        return (\n            <div className=\"BookManagement\">\n                <div className=\"content\">\n                    {this.renderFilter()}\n                    {this.renderBooksList()}\n                    {this.renderPopup()}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default connect(mapStateToProps)(BookManagement)\n\nfunction mapStateToProps(state) {\n    return {\n        books: state.bookReducer.records,\n        isLoading: state.bookReducer.isLoading,\n        pageNo: state.bookReducer.pageNo || 1\n    }\n}\n\nconst BookCopyCell = ({ book }) => {\n    const [isAddCopy, setIsAddCopy] = useState(false)\n    const [numCopies, setNumCopies] = useState(0)\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        setIsAddCopy(false)\n        setNumCopies(0)\n    }, [book])\n\n    return (\n        <div className=\"add-copy-container d-flex\">\n            {\n                isAddCopy\n                    ? (\n                        <>\n                            <input name=\"copyNum\" type=\"number\" className=\"form-control mr-3 copy-num\" onChange={(evt) => _.isSafeInteger(evt.target.value) && setNumCopies(evt.target.value)} />\n                            <span className={\"btn btn-primary shadow \" + (numCopies > 0 ? '' : 'disabled')} title=\"Add Copy\" value={numCopies}\n                                onClick={() => (numCopies > 0 ) && dispatch(addBookCopy(book.isbn, numCopies))}>\n                                <i className=\"fas fa-save\"></i>\n                            </span>\n                        </>\n                    )\n                    : (\n                        <span className=\"btn btn-secondary shadow\" title=\"Add Copy\" onClick={() => setIsAddCopy(true)}>\n                            <i className=\"fas fa-copy\"></i>\n                        </span>\n                    )\n            }\n        </div>\n    )\n}","import React, { Component } from \"react\";\nimport _ from 'lodash'\nimport PopupModel from \"./PopupModel\";\nimport { connect } from \"react-redux\";\n\nclass FindMemberPopup extends Component {\n    renderBody() {\n        return (\n            <div className=\"d-flex flex-column\">\n                <form>\n                    <div className=\"form-group d-flex\">\n                        <label className=\"col-2\" for=\"firstName\">First Name <span className=\"text-danger\">*</span></label>\n                        <input type=\"firstName\" id=\"firstName\" className=\"form-control col-10\" placeholder=\"Enter First Name\" />\n                    </div>\n                    <div className=\"form-group d-flex\">\n                        <label className=\"col-2\" for=\"lastName\">Last Name <span className=\"text-danger\">*</span></label>\n                        <input className=\"form-control col-10\" id=\"lastName\" placeholder=\"Enter Last Name\" />\n                    </div>\n                    <div className=\"form-group d-flex\">\n                        <label className=\"col-2\" for=\"phone\">Phone <span className=\"text-danger\">*</span></label>\n                        <input className=\"form-control col-10\" id=\"phone\" placeholder=\"Enter Phone Number\" />\n                    </div>\n                    <div className=\"form-group d-flex\">\n                        <label className=\"col-2\" for=\"street\">Street <span className=\"text-danger\">*</span></label>\n                        <input className=\"form-control col-10\" id=\"street\" placeholder=\"Enter Street\" />\n                    </div>\n                    <div className=\"form-group d-flex align-items-center\">\n                        <label className=\"col-2\" for=\"city\">City <span className=\"text-danger\">*</span></label>\n                        <input className=\"form-control col-4\" id=\"city\" placeholder=\"Enter City\" />\n                        <label className=\"col-2 text-right\" for=\"state\">State <span className=\"text-danger\">*</span></label>\n                        <input className=\"form-control col-4\" id=\"state\" placeholder=\"Enter State\" />\n                    </div>\n                    <div className=\"form-group d-flex mb-4\">\n                        <label className=\"col-2\" for=\"zipcode\">Zipcode <span className=\"text-danger\">*</span></label>\n                        <input className=\"form-control col-8\" id=\"zipcode\" placeholder=\"Enter Zipcode\" />\n                    </div>\n                    <hr></hr>\n                    <div className=\"d-flex justify-content-end\">\n                        <button className=\"btn btn-primary mr-2\">Submit</button>\n                        <button className=\"btn btn-secondary\">Close</button>\n                    </div>\n                </form>\n            </div>\n        )\n    }\n\n    render() {\n        const props = {\n            ...this.props,\n            body: this.renderBody(),\n            clazz: 'modal-lg',\n            noFooter: true\n        }\n        return <PopupModel {...props} />\n    }\n}\n\nexport default connect(mapStateToProps)(FindMemberPopup)\n\nfunction mapStateToProps(state) {\n    return {\n        member: state.memberReducer.newMember\n    }\n}","import React, { Component } from \"react\";\nimport { connect } from 'react-redux'\nimport { fetchMembers, filterMember, updatePaging } from '../actions/memberActions'\nimport _ from 'lodash'\nimport AddMemberPopup from \"./AddMemberPopup\";\n\nclass MemberManagement extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            filter: '',\n            isOpenAddNew: false\n        }\n    }\n\n    componentDidMount() {\n        this.props.dispatch(fetchMembers())\n    }\n\n    componentDidUpdate() {\n        if (!this.props.memners && this.props.error) {\n            setTimeout(() => this.props.dispatch(fetchMembers()), 8000)\n        }\n    }\n\n    onFilterMember = () => {\n        this.props.dispatch(filterMember(this.state.filter))\n    }\n\n    onAddNewMember = () => {\n        this.setState({ isOpenAddNew: true })\n    }\n\n    handleCloseAddNewMember = () => {\n        this.setState({ isOpenAddNew: false })\n    }\n\n    renderFilter() {\n        return (\n            <div className=\"card filter shadow border-0\">\n                <div className=\"card-header\">\n                    <span>Filter Members</span>\n                </div>\n                <div className=\"card-body\">\n                    <div className=\"d-flex justify-content-between\">\n                        <div className=\"d-flex\">\n                            <input className=\"form-control col-9 mr-3\" name=\"filterKeyword\" onChange={(evt) => this.setState({ filter: evt.target.value })}></input>\n                            <span className=\"btn btn-secondary shadow\" onClick={this.onFilterMember}>Search</span>\n                        </div>\n                        <div>\n                            <span className=\"btn btn-info shadow\" onClick={this.onAddNewMember}>Add Member</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    renderMember(member, idx) {\n        return (\n            <tr key={idx}>\n                <td>{idx + 1}</td>\n                <td>{member.fullName}</td>\n                <td>{member.address.city}, {member.address.state}, {member.address.zip}</td>\n                <td>{member.phoneNumber}</td>\n            </tr>\n        )\n    }\n\n    renderPaging() {\n        const totalPage = Math.ceil(this.props.members.length / 10)\n        const hasNext = this.props.pageNo < totalPage\n        const hasPrevious = this.props.pageNo > 1\n        return (\n            <div className=\"table-paging\">\n                <nav>\n                    <ul className=\"pagination justify-content-end pagination-sm\">\n                        <li className={\"page-item \" + (!hasPrevious ? 'disabled' : '')}\n                            onClick={() => hasPrevious && this.props.dispatch(updatePaging(this.props.pageNo - 1))}>\n                            <span className=\"page-link\" tabIndex=\"-1\">Previous</span>\n                        </li>\n                        {\n                            _.range(1, totalPage + 1, 1).map((item, idx) => {\n                                const isActive = this.props.pageNo === item\n                                return (\n                                    <li className={\"page-item \" + (isActive ? 'active' : '')} key={idx}\n                                        onClick={() => this.props.dispatch(updatePaging(item))}>\n                                        <span className=\"page-link\" >{item}</span>\n                                    </li>\n                                )\n                            })\n                        }\n                        <li className={\"page-item \" + (!hasNext ? 'disabled' : '')}\n                            onClick={() => hasNext && this.props.dispatch(updatePaging(this.props.pageNo + 1))}>\n                            <span className=\"page-link\" tabIndex=\"-1\">Next</span>\n                        </li>\n                    </ul>\n                </nav>\n            </div>\n        )\n    }\n\n    renderMembersList() {\n        const { members, pageNo } = this.props\n        const start = (pageNo - 1) * 10\n        const end = (members?.length - start) > 10 ? 10 : (members?.length - start)\n        const visibleMembers = _.slice(members, start, start + end)\n        return (\n            <div className=\"card book-list mt-4 shadow border-0\">\n                <div className=\"card-header\">\n                    <span>Members List</span>\n                </div>\n                <div className=\"card-body\">\n                    <table className=\"table table-striped\">\n                        <thead>\n                            <tr>\n                                <th scope=\"col\">#</th>\n                                <th scope=\"col\">Name</th>\n                                <th scope=\"col\">Address</th>\n                                <th scope=\"col\">Phone</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {\n                                visibleMembers?.map((member, idx) => this.renderMember(member, idx))\n                            }\n                        </tbody>\n                    </table>\n                    {this.renderPaging()}\n                </div>\n            </div>\n        )\n    }\n\n    renderPopup = () => {\n        const { isOpenAddNew } = this.state\n\n        if (!isOpenAddNew) return null\n\n        const props = {\n            show: isOpenAddNew,\n            title: 'Add New Member',\n            handleClose: this.handleCloseAddNewMember\n        }\n\n        return (\n            <AddMemberPopup {...props} />\n        )\n    }\n\n    render() {\n        return (\n            <div className=\"MemberManagement\">\n                {this.renderFilter()}\n                {this.renderMembersList()}\n                {this.renderPopup()}\n            </div>\n        )\n    }\n}\n\nexport default connect(mapStateToProps)(MemberManagement)\n\nfunction mapStateToProps(state) {\n    return {\n        members: state.memberReducer.records,\n        error: state.memberReducer.error,\n        pageNo: state.memberReducer.pageNo || 1\n    }\n}","import React, { Component } from \"react\";\nimport { connect } from 'react-redux'\nimport { withRouter } from \"react-router-dom\";\nimport { login } from '../actions/memberActions'\nimport _ from 'lodash'\nimport { Carousel } from 'react-bootstrap'\n\nclass Home extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            userName: '',\n            password: '',\n            images: [\n                'https://library.miu.edu/wp-content/uploads/sites/12/2019/11/IMG_0230-860x500.jpg',\n                'https://library.miu.edu/wp-content/uploads/sites/12/2019/05/PicsArt_05-15-08.09.41-860x500.jpg',\n                'https://library.miu.edu/wp-content/uploads/sites/12/2019/11/IMG_0241-860x500.jpg',\n                'https://library.miu.edu/wp-content/uploads/sites/12/2019/11/IMG_0248-860x500.jpg'\n            ]\n        }\n    }\n\n    onLogin = (evt) => {\n        evt.preventDefault()\n        const { userName, password } = this.state\n        this.props.dispatch(login({ userName, password }))\n    }\n\n    renderCarousel() {\n        return (\n            <Carousel>\n                {\n                    _.map(this.state.images, (img, idx) => {\n                        return (\n                            <Carousel.Item key={idx}>\n                                <img src={img} className=\"d-block\" alt=\"\"/>\n                                <Carousel.Caption>\n                                    <h5 className=\"text-info\">Image from https://library.miu.edu/</h5>\n                                </Carousel.Caption>\n                            </Carousel.Item>\n                        )\n                    })\n                }\n            </Carousel>\n        )\n    }\n\n    renderHome() {\n        return (\n            <div className=\"mt-5 text-info\">\n                <h4>Welcome to Maharishi International University Library System</h4>\n                <div className=\"mt-3\">\n                    {this.renderCarousel()}\n                </div>\n            </div>\n        )\n    }\n\n    renderLoginForm() {\n        return (\n            <div className=\"login-form d-flex flex-column col-6\">\n                <form onSubmit={this.onLogin}>\n                    <div className=\"text-center\">\n                        <h1>Login</h1>\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"userName\">Username</label>\n                        <input className=\"form-control\"\n                            id=\"userName\" placeholder=\"Enter username\" required\n                            onChange={(evt) => this.setState({ userName: evt.target.value })} />\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input type=\"password\" className=\"form-control\"\n                            id=\"password\" placeholder=\"Password\" required\n                            onChange={(evt) => this.setState({ password: evt.target.value })} />\n                    </div>\n                    <div className=\"d-flex justify-content-end\">\n                        <button className=\"btn btn-primary\" type=\"submit\">Login</button>\n                    </div>\n                </form>\n                <div className=\"d-flex flex-column mt-5 bg-light\">\n                    <h4>Test users</h4>\n                    <span>admin/12345</span>\n                    <span>superadmin/12345</span>\n                    <span>librarian/12345</span>\n                </div>\n            </div>\n        )\n    }\n\n    render() {\n        return (\n            <div className=\"Home d-flex justify-content-center text-center\">\n                {this.props.isAuthenticated ? this.renderHome() : this.renderLoginForm()}\n            </div>\n        )\n    }\n}\n\nexport default connect(mapStateToProps)(withRouter(Home))\n\nfunction mapStateToProps(state) {\n    return state\n} ","import _ from 'lodash'\n\nexport const URL_WITH_PERMISSONS = {\n    BOOK_MANAGEMENT: ['ADD_BOOK'],\n    MEMBER_MANAGEMENT: ['UPDATE_MEMBER', 'DELETE_MEMBER', 'ADD_MEMBER'],\n    CHECK_OUT: ['CHECKOUT_BOOK'],\n    LOGOUT: ['UPDATE_MEMBER', 'ADD_BOOK', 'CHECKOUT_BOOK']\n}\n\nexport const URLS = {\n    BOOK_MANAGEMENT: 'BOOK_MANAGEMENT',\n    MEMBER_MANAGEMENT: 'MEMBER_MANAGEMENT',\n    CHECK_OUT: 'CHECK_OUT',\n    LOGOUT: 'LOGOUT'\n}\n\nconst availableItems = [\n    { id: 1, link: '/', label: 'Home', icon: 'fa-home'},\n    { id: 2, link: '/member-management', label: 'Member Management', type: URLS.MEMBER_MANAGEMENT, icon: 'fa-user-friends' },\n    { id: 3, link: '/book-management', label: 'Book Management', type: URLS.BOOK_MANAGEMENT, icon: 'fa-book' },\n    { id: 4, link: '/checkout', label: 'Checkout', type: URLS.CHECK_OUT, icon: 'fa-receipt' },\n    { link: 'logout', label: 'Logout', type: URLS.LOGOUT, icon: 'fa-sign-out-alt' }\n]\n\nexport function isAllowToAccessPath(pathname, userPermissions) {\n    const items = extractItemFromPathname(pathname)\n    return items.filter(item => isAllow({type: item.type, userPermissions})).length > 0\n}\n\nexport function getAvailableURLs(userPermissions) {\n    return availableItems.filter(item => isAllow({type: item.type, userPermissions}))\n}\n\nfunction extractItemFromPathname(pathname) {\n    return availableItems.filter(item => item.link === pathname)\n}\n\nfunction isAllow({ type, userPermissions}) {\n    if (_.isEmpty(type))\n        return true\n\n    if (_.isEmpty(userPermissions))\n        return false\n\n    const requiredPermissions = URL_WITH_PERMISSONS[type]\n\n    const results = userPermissions.filter(up => _.findIndex(requiredPermissions, rp => rp === up) > -1)\n\n    return !_.isEmpty(results)\n}","import React, { Component } from \"react\";\nimport '../scss/side-bar.scss'\nimport { withRouter } from 'react-router-dom'\nimport { logout } from '../actions/memberActions'\nimport * as urlConfig from '../config/urlConfig'\n\nclass SideBar extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            items: []\n        }\n    }\n\n    isActive = (item) => {\n        const { history: { location: { pathname } } } = this.props\n        return item.link === pathname\n    }\n\n    onClickLink = (item) => {\n        if (item.link === 'logout') {\n            this.props.dispatch(logout())\n        } else {\n            this.props.history.push(item.link)\n        }\n    }\n\n    renderNav() {\n        return (\n            <div className=\"nav d-sm-none d-md-block d-lg-none\">\n                <nav className=\"navbar navbar-expand-lg\">\n                    <span className=\"navbar-brand\">Library Management</span>\n                </nav>\n            </div>\n        )\n    }\n\n    renderMenus() {\n        const items = urlConfig.getAvailableURLs(this.props.permissions)\n\n        return (\n            items.map((item, idx) => {\n                const isActive = this.isActive(item)\n                return (\n                    <li className={\"nav-item \" + (isActive ? 'active' : '')} key={idx} onClick={() => this.onClickLink(item)}>\n                        <span className={\"nav-link \" + (isActive ? 'active' : '')}>\n                            <i className={\"mr-1 col-2 fas \" + item.icon}></i>{item.label}\n                        </span>\n                    </li>\n                )\n            })\n        )\n\n    }\n\n    render() {\n        return (\n            <div className=\"side-bar d-none d-lg-block\" id=\"sidebar-wrapper\">\n                <nav className=\"\">\n                    <div className=\"sidebar-heading\"></div>\n                    <ul className=\"nav flex-column flex-nowrap\">\n                        {this.renderMenus()}\n                    </ul>\n                </nav>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(SideBar)","import React, { Component } from \"react\";\n\nexport default class LoadingComponent extends Component {\n    render() {\n        return (\n            <div className=\"loading-layout\" id=\"loadingLayout\">\n                <div className=\"loading-overlay\"></div>\n                <div className=\"loading-spinner d-flex justify-content-center\">\n                    <div className=\"spinner-grow text-success\" role=\"status\">\n                        <span className=\"sr-only\">Loading...</span>\n                    </div>\n                    <div className=\"spinner-grow text-success\" role=\"status\">\n                        <span className=\"sr-only\">Loading...</span>\n                    </div>\n                    <div className=\"spinner-grow text-success\" role=\"status\">\n                        <span className=\"sr-only\">Loading...</span>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport { Redirect, withRouter } from \"react-router-dom\";\nimport * as urlConfig from '../config/urlConfig'\n\nclass AuthenComponent extends Component {\n    render() {\n        if (!this.props.isAuthenticated \n            || !urlConfig.isAllowToAccessPath(this.props.history.location.pathname, this.props.permissions)) {\n            return <Redirect to=\"/\" />\n        }\n        return null\n    }\n}\n\nexport default withRouter(AuthenComponent)","export const ACTIONS = {\n    ADD_TOAST: 'ADD_TOAST',\n    REMOVE_TOAST: 'REMOVE_TOAST'\n}\n\nexport const TOAST_TYPE = {\n    ERROR: 'bg-danger',\n    WARNING: 'bg-warning',\n    INFO: 'bg-info',\n    SUCCESS: 'bg-success',\n}\n\nlet count = 0\nfunction uniqueId() {\n    return count++\n}\n\nexport function addToast({title, message, toastType, errors}) {\n    return {\n        type: ACTIONS.ADD_TOAST,\n        payload: {\n            item: {\n                title,\n                message,\n                id: uniqueId(),\n                tClass: toastType,\n                errors\n            }\n        }\n    }\n}\n\nexport function removeToast(id) {\n    return {\n        type: ACTIONS.REMOVE_TOAST,\n        payload: {\n            id\n        }\n    }\n}","import React, { useEffect, useRef } from 'react';\nimport _ from 'lodash'\n\nfunction ToastMessage({ item, remove }) {\n    const removeRef = useRef()\n    removeRef.current = remove\n\n    useEffect(() => {\n        const id = setTimeout(() => removeRef.current(item), 5000);\n        return () => clearTimeout(id);\n    }, [item])\n\n    return (\n        <div className=\"toast show border-0\">\n            <div className={\"toast-header border-0 \" + item.tClass}>\n                <strong className=\"mr-auto\">{item.title}</strong>\n                {/* <small className=\"text-muted\">just now</small> */}\n                <span type=\"button\" className=\"ml-2 mb-1 close\" onClick={() => remove(item)}>\n                    <span aria-hidden=\"true\">&times;</span>\n                </span>\n            </div>\n            <div className=\"toast-body\">\n                {item.message}\n                <div className=\"d-flex flex-column border-info\">\n                    {\n                        _.map(item.errors, (error, idx) =>{\n                            return <span key={idx}>{_.isObject(error) ? error.message : error}</span>\n                        })\n                    }\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ToastMessage;","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport _ from 'lodash'\nimport { removeToast } from '../actions/toastActions'\nimport ToastMessage from './ToastMessage'\n\nclass ToastComponent extends Component {\n\n    onTimeOut = (item) => {\n        setTimeout(() => this.props.dispatch(removeToast(item.id)), 5000)\n    }\n\n    onClickRemove = (item) => {\n        this.props.dispatch(removeToast(item.id))\n    }\n\n    renderItems() {\n        const { items } = this.props\n        return (\n            <div className=\"toasts\">\n                {\n                    _.map(items, (item, idx) => {\n                        return <ToastMessage {...{item, remove: this.onClickRemove}} key={idx}/>\n                    })\n                }\n            </div>\n        )\n    }\n\n    render() {\n        return (\n            <div className=\"toast-container\">\n                {this.renderItems()}\n            </div>\n        )\n    }\n}\n\nexport default connect(mapStateToProps)(ToastComponent)\n\nfunction mapStateToProps(state) {\n    return {\n        items: state.toastReducer.items\n    }\n}","import React, { Component } from 'react';\nimport Nav from './components/Nav';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Checkout from './components/Checkout';\nimport BookManagement from './components/BookManagement';\nimport MemberManagement from './components/MemberManagement';\nimport Home from './components/Home';\nimport SideBar from './components/SideBar';\nimport LoadingComponent from './components/Loading';\nimport {connect} from 'react-redux'\nimport AuthenComponent from './components/AuthenComponent';\nimport ToastComponent from './components/ToastComponent';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      isOpenSideBar: true\n    }\n  }\n\n  toggleSideBar = () => {\n    this.setState({ isOpenSideBar: !this.state.isOpenSideBar })\n  }\n\n  render() {\n    return (\n      <Router>\n        <div className={\"App d-flex \" + (this.state.isOpenSideBar ? '' : 'togged')} id=\"wrapper\">\n          <ToastComponent/>\n          <AuthenComponent {...this.props}/>\n          <LoadingComponent/>\n          <SideBar {...this.props}></SideBar>\n          <div className=\"page-content-wrapper\">\n            <Nav toggleSideBar={this.toggleSideBar} {...this.props}></Nav>\n            <div className=\"container-fluid\">\n              <Switch>\n                <Route exact path=\"/\">\n                  <Home {...this.props}/>\n                </Route>\n                <Route path=\"/checkout\">\n                  <Checkout />\n                </Route>\n                <Route path=\"/book-management\">\n                  <BookManagement />\n                </Route>\n                <Route path=\"/member-management\">\n                  <MemberManagement />\n                </Route>\n              </Switch>\n            </div>\n          </div>\n        </div>\n      </Router>\n    )\n  }\n}\n\nexport default connect(mapStateToProps)(App)\n\nfunction mapStateToProps(state) {\n  return {\n      isAuthenticated: state.authReducer.isAuthenticated,\n      permissions: state.authReducer.permissions,\n      fullName: state.authReducer.fullName\n  }\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ACTIONS } from '../actions/bookActions'\n\nconst initState = {\n    records: [],\n    isLoading: true\n}\n\nexport default function books(state = initState, action) {\n    const { payload, type } = action\n    switch (type) {\n        case ACTIONS.FETCH_BOOKS:\n            return {\n                ...state\n            }\n        case ACTIONS.FETCH_BOOKS_SUCCEEDED:\n            return {\n                records: payload && payload.data,\n                succeed: payload && payload.success,\n                messages: payload && (payload.messages || [payload.message])\n            }\n\n        case ACTIONS.FETCH_BOOKS_FAILED:\n            return {\n                ...state,\n                error: payload\n            }\n\n        case ACTIONS.FILTER_BOOK_SUCCEEDED:\n            return {\n                records: payload.data\n            }\n        // add book\n        case ACTIONS.ADD_NEW_BOOK_SUCCEEDED:\n            return {\n                ...state,\n                records: state.records.concat(action.payload),\n                newBookResult: payload\n            }\n\n        case ACTIONS.ADD_NEW_BOOK_FAILED:\n            return {\n                ...state,\n                newBookErrors: payload.errors\n            }\n        // get authors\n        case ACTIONS.FETCH_AUTHORS_SUCCEEDED:\n            return {\n                ...state,\n                authors: payload.data\n            }\n\n        case ACTIONS.ADD_BOOK_COPY_FAILED:\n            return {\n                ...state,\n                keepEditCopy: true\n            }\n        case ACTIONS.UPDATE_BOOK_PAGING:\n            return {\n                ...state,\n                pageNo: payload\n            }\n\n        default:\n            return state\n    }\n}","import { ACTIONS } from '../actions/memberActions'\n\nconst initState = {\n    records: [],\n    checkout: {\n        isbn: '',\n        memberId: ''\n    },\n    checkoutRecord: ''\n}\n\nexport default function members(state = initState, action) {\n    const { type, payload } = action\n    switch (type) {\n        case ACTIONS.FETCH_MEMBERS_SUCCEEDED:\n            return {\n                ...state,\n                records: payload.data,\n                pageNo: 1\n            }\n\n        case ACTIONS.FILTER_MEMBER_SUCCEEDED:\n            return {\n                ...state,\n                records: payload.data,\n                pageNo: 1\n            }\n\n        case ACTIONS.FETCH_MEMBERS_FAILED:\n            return {\n                ...state,\n                error: payload\n            }\n\n        case ACTIONS.CHECKOUT_SUCCEEDED:\n            return {\n                ...state,\n                checkout: {\n                    memberId: state.checkout.memberId,\n                    isbn: ''\n                }\n            }\n\n        case ACTIONS.SELECT_BOOK:\n            return {\n                ...state,\n                checkout: {\n                    ...state.checkout,\n                    isbn: payload\n                }\n            }\n\n        case ACTIONS.SELECT_MEMBER:\n            return {\n                ...state,\n                checkout: {\n                    ...state.checkout,\n                    memberId: payload\n                }\n            }\n\n        case ACTIONS.FETCH_CHECKOUT_RECORDS_SUCCEEDED:\n            return {\n                ...state,\n                checkoutRecord: payload?.data?.checkoutRecord\n            }\n\n        case ACTIONS.UPDATE_PAGING:\n            return {\n                ...state,\n                pageNo: payload\n            }\n\n        default:\n            return state\n    }\n}","import { ACTIONS } from '../actions/memberActions'\n\nexport const USER_INFO = {\n    ID: 'USER_ID',\n    PERMISSIONS: 'PERMISSIONS',\n    NAME: 'USER_NAME'\n}\n\nexport const authenticationMiddlewear = store => next => action => {\n    switch (action.type) {\n        case ACTIONS.LOGIN_SUCCEEDED:\n            const userData = action.payload?.data?.systemUser\n            localStorage.setItem(USER_INFO.ID, userData.userName)\n            localStorage.setItem(USER_INFO.PERMISSIONS, JSON.stringify(userData.permissionsGranted))\n            localStorage.setItem(USER_INFO.NAME, userData.fullName)\n\n            return next(action)\n\n        case ACTIONS.LOGOUT:\n            localStorage.removeItem(USER_INFO.ID)\n            localStorage.removeItem(USER_INFO.PERMISSIONS)\n            localStorage.removeItem(USER_INFO.NAME)\n            return next(action)\n\n        default:\n            return next(action)\n    }\n}","import {USER_INFO} from '../middleware/authentication'\nimport _ from 'lodash'\n\nfunction authReducer(state = {isAuthenticated: false}, action) {\n    return {\n        ...state,\n        ...initUserData()\n    }\n}\n\nfunction initMockData() {\n    return {\n        isAuthenticated: true,\n        permissions: ['ADD_BOOK', 'CHECKOUT_BOOK', 'ADD_MEMBER']\n    }\n}\n\nfunction initUserData() {\n    return {\n        isAuthenticated: !_.isEmpty(localStorage.getItem(USER_INFO.ID)),\n        permissions: localStorage.getItem(USER_INFO.PERMISSIONS) ? JSON.parse(localStorage.getItem(USER_INFO.PERMISSIONS)) : [],\n        fullName: localStorage.getItem(USER_INFO.NAME)\n    }\n}\n\nexport default authReducer;","import {ACTIONS} from '../actions/toastActions'\n\nconst initData = {\n    items: []\n}\n\nfunction toasts(state = initData, action) {\n    const { type, payload } = action\n    switch (type) {\n        case ACTIONS.ADD_TOAST:\n            return {\n                items: state.items.concat(payload.item)\n            }\n\n        case ACTIONS.REMOVE_TOAST:\n            return {\n                items: state.items.filter(item => item.id !== payload.id)\n            }\n        default:\n            return state\n    }\n}\n\nexport default toasts","import {combineReducers} from 'redux'\nimport bookReducer from './BooksReducer'\nimport memberReducer from './MemberReducer'\nimport authReducer from './AuthenticationReducer'\nimport toastReducer from './ToastReducer'\n\nexport default combineReducers({memberReducer, bookReducer, authReducer, toastReducer});\n","import $ from 'jquery'\n\nconst loadingMiddleware = store => next => action => {\n    if (action && action.isLoading) {\n        $('#loadingLayout').addClass('show')\n    } else {\n        $('#loadingLayout').removeClass('show')\n    }\n    return next(action)\n}\n\nexport default loadingMiddleware","import { addToast, TOAST_TYPE } from \"../actions/toastActions\"\nimport * as memberActions from '../actions/memberActions'\nimport * as bookActions from '../actions/bookActions'\n\nexport const toastMiddleware = store => next => action => {\n    const { type } = action\n\n    switch (type) {\n        case memberActions.ACTIONS.FETCH_MEMBERS_FAILED:\n            store.dispatch(\n                addToast(\n                    buildToastMessage('Error', 'Unable to fetch the Members', TOAST_TYPE.ERROR)\n                )\n            )\n            return next(action)\n\n        case bookActions.ACTIONS.FETCH_BOOKS_FAILED:\n            store.dispatch(\n                addToast(\n                    buildToastMessage('Error', 'Unable to fetch the Books', TOAST_TYPE.ERROR)\n                )\n            )\n            return next(action)\n\n\n        case bookActions.ACTIONS.ADD_NEW_BOOK_SUCCEEDED:\n            store.dispatch(\n                addToast(\n                    buildToastMessage('Info', 'Add the book successfully', TOAST_TYPE.SUCCESS)\n                )\n            )\n            return next(action)\n\n        case memberActions.ACTIONS.CHECKOUT_SUCCEEDED:\n            store.dispatch(\n                addToast(\n                    buildToastMessage('Info', 'Checkout book successfully', TOAST_TYPE.SUCCESS)\n                )\n            )\n            store.dispatch(\n                memberActions.fetchCheckoutRecords(store.getState().memberReducer.checkout.memberId)\n            )\n            return next(action)\n\n        case memberActions.ACTIONS.CHECKOUT_FAILED:\n            const { response: { data: { errors } } } = action.payload\n            store.dispatch(\n                addToast(\n                    buildToastMessage('Unable to Checkout the book', 'Info: ', TOAST_TYPE.WARNING, errors)\n                )\n            )\n            return next(action)\n\n        case memberActions.ACTIONS.LOGIN_FAILED:\n            store.dispatch(\n                addToast(\n                    buildToastMessage('Login Fail', 'Details: ', TOAST_TYPE.WARNING, action.payload?.response?.data?.errors)\n                )\n            )\n            return next(action)\n\n        case bookActions.ACTIONS.ADD_BOOK_COPY_SUCCEEDED:\n            store.dispatch(\n                addToast(\n                    buildToastMessage('Book Copy Added', 'Book Copy added successfully ', TOAST_TYPE.SUCCESS)\n                )\n            )\n            store.dispatch(bookActions.fetchBooks(''))\n            return next(action)\n\n        case bookActions.ACTIONS.ADD_BOOK_COPY_FAILED:\n            store.dispatch(\n                addToast(\n                    buildToastMessage('Error', 'Unable to add book copy', TOAST_TYPE.ERROR)\n                )\n            )\n            return next(action)\n\n        default:\n            return next(action)\n    }\n}\n\nfunction buildToastMessage(title, message, toastType, errors) {\n    return { title, message, toastType, errors }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './scss/main.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport reducers from './reducers'\nimport thunkMiddleWare from 'redux-thunk'\nimport apiMiddleware from './middleware/api'\nimport loadingMiddleware from './middleware/loading'\nimport { authenticationMiddlewear } from './middleware/authentication';\nimport { toastMiddleware } from './middleware/toastMiddlewear';\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nconst store = createStore(\n  reducers,\n  composeWithDevTools(applyMiddleware(// allow dispatch function instead of plain object. Acts like Java Filter\n    thunkMiddleWare,\n    apiMiddleware,\n    toastMiddleware,\n    authenticationMiddlewear,\n    loadingMiddleware\n  ))\n)\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}