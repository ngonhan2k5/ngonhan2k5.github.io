(this["webpackJsonpproject-client"]=this["webpackJsonpproject-client"]||[]).push([[0],{66:function(e,t,a){e.exports=a(97)},71:function(e,t,a){},72:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),o=a.n(l),c=(a(71),a(5)),s=a(6),i=a(8),m=a(7),u=(a(72),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light border-bottom justify-content-between mb-3 border-0"},r.a.createElement("div",{className:"d-flex justify-content-start"},r.a.createElement("span",{className:"btn btn-secondary toggle-button",id:"menu-toggle",onClick:this.props.toggleSideBar},r.a.createElement("i",{className:"fas fa-bars"})),r.a.createElement("span",{className:"navbar-brand ml-3"},"Library Management")),r.a.createElement("div",{className:"d-flex justify-content-end"},this.props.fullName?r.a.createElement("h5",{className:"text-info"},"Welcome, ",this.props.fullName):null))}}]),a}(n.Component)),d=a(29),p=a(25),h=a(9),E=a.n(h),b=a(99);function f(e){var t=e.show,a=e.handleClose,n=e.title,l=e.body,o=e.saveLabel,c=e.cancelLabel,s=e.clazz,i=e.children,m=e.noFooter;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{show:t,onHide:a,dialogClassName:s},r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,null,n)),r.a.createElement(b.a.Body,null,i,l),m?null:r.a.createElement(b.a.Footer,null,r.a.createElement("span",{className:"btn btn-primary shadow",onClick:function(){return a("ACCEPT")}},o||"Save Changes"),r.a.createElement("span",{className:"btn btn-secondary shadow",onClick:function(){return a("CANCEL")}},c||"Close"))))}var v=a(10),N=a(12),g=a(32),y=a(60),k=a.n(y),O="CALL_API",C="POST",j="GET";var S=function(e){return function(e){return function(t){var a=t[O];if(void 0===typeof a||void 0===a)return e(t);var n=Object(g.a)(a.types,4),r=n[0],l=n[1],o=n[2],c=n[3];return e({type:r,isLoading:c}),function(e){var t=e.endpoint,a=e.method,n=void 0===a?"GET":a,r=e.body,l={url:"".concat("http://13.57.212.220:8080/api").concat(t),method:n,data:r,header:{"Content-Type":"application/json"}};return k()(l)}({endpoint:a.endpoint,method:a.method,body:a.body}).then((function(t){var n;return console.log("Success:"+t),(null===(n=a.next)||void 0===n?void 0:n.ok)&&a.next.ok(),e({type:l,payload:t.data})})).catch((function(t){var n,r;return console.log("ERROR:"+t),(null===(n=a.next)||void 0===n?void 0:n.fail)&&a.next.fail(),e({type:o,payload:null===(r=t.response)||void 0===r?void 0:r.data})}))}}},A="FETCH_MEMBERS",w="FETCH_MEMBERS_SUCCEEDED",M="FETCH_MEMBERS_FAILED",B="FILTER_MEMBER",x="FILTER_MEMBER_SUCCEEDED",_="FILTER_MEMBER_FAILED",D="ADD_MEMBER",R="ADD_MEMBER_SUCCEEDED",F="ADD_MEMBER_FAILED",L="CHECKOUT",I="CHECKOUT_SUCCEEDED",T="CHECKOUT_FAILED",P="SELECT_BOOK",U="SELECT_MEMBER",K="FETCH_CHECKOUT_RECORDS",H="FETCH_CHECKOUT_RECORDS_SUCCEEDED",G="FETCH_CHECKOUT_RECORDS_FAILED",z="LOGIN",q="LOGIN_SUCCEEDED",W="LOGIN_FAILED",J="LOGOUT",V="UPDATE_PAGING",Y="OPEN_ADD_NEW_POPUP",Z="CLOSE_ADD_NEW_POPUP";function $(e){return Object(N.a)({},O,{types:[B,x,_],endpoint:"/member/search?searchString=".concat(e),method:j})}function Q(){return Object(N.a)({},O,{types:[A,w,M,!0],endpoint:"/member/list",method:j})}function X(e){return Object(N.a)({},O,{types:[K,H,G],endpoint:"/member?memberId=".concat(e),method:j})}function ee(e){return{type:V,payload:e}}function te(){return{type:Z}}var ae=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleClose=function(e){"ACCEPT"===e?n.props.handleClose("SELECT_MEMBER",n.state.selected):n.props.handleClose()},n.onSelectMember=function(e){n.setState({selected:e.memberId})},n.onSearch=function(){n.props.dispatch($(n.state.filter))},n.state={filter:"",selected:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Q())}},{key:"renderMember",value:function(e,t){var a=this,n=this.state.selected;return r.a.createElement("tr",{key:t,onClick:function(){return a.onSelectMember(e)},className:n===e.memberId?"bg-info":""},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.fullName),r.a.createElement("td",null,e.address.city,", ",e.address.state,", ",e.address.zip),r.a.createElement("td",null,e.phoneNumber))}},{key:"renderBody",value:function(){var e=this,t=this.props.members;return r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("div",{className:"d-flex flex-row mb-4"},r.a.createElement("input",{className:"form-control col-6 mr-3",name:"memberId",onChange:function(t){return e.setState({filter:t.target.value})},placeholder:"Enter Search String"}),r.a.createElement("span",{className:"btn btn-info shadow",onClick:this.onSearch},r.a.createElement("i",{className:"fas fa-search"}))),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Address"),r.a.createElement("th",{scope:"col"},"Phone"))),r.a.createElement("tbody",null,E.a.isArray(t)&&t.map((function(t,a){return e.renderMember(t,a)})))))}},{key:"render",value:function(){var e={show:!0,title:"Find Member",saveLabel:"Accept",body:this.renderBody(),handleClose:this.handleClose,clazz:"modal-lg"};return r.a.createElement(f,e)}}]),a}(n.Component),ne=Object(v.b)((function(e){return{members:e.memberReducer.records}}))(ae);var re="FETCH_BOOKS",le="FETCH_BOOKS_SUCCEEDED",oe="FETCH_BOOKS_FAILED",ce="ADD_BOOK_COPY",se="ADD_BOOK_COPY_SUCCEEDED",ie="ADD_BOOK_COPY_FAILED",me="ADD_NEW_BOOK",ue="ADD_NEW_BOOK_FAILED",de="ADD_NEW_BOOK_SUCCEEDED",pe="FILTER_BOOK",he="FILTER_BOOK_SUCCEEDED",Ee="FETCH_AUTHORS",be="FETCH_AUTHORS_SUCCEEDED",fe="UPDATE_BOOK_PAGING";function ve(){return Object(N.a)({},O,{types:[re,le,oe,!0],endpoint:"/book/list",method:j})}function Ne(e){return Object(N.a)({},O,{types:[pe,he,he,!0],endpoint:"/book/search?searchString=".concat(e),method:j})}function ge(e){return{type:fe,payload:e}}var ye=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleClose=function(e){"ACCEPT"===e?n.props.handleClose("SELECT_BOOK",n.state.selected):n.props.handleClose()},n.onSelectBook=function(e){n.setState({selected:e.isbn})},n.onSearch=function(){n.props.dispatch(Ne(n.state.filter))},n.state={filter:"",selected:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(ve())}},{key:"renderBook",value:function(e,t){var a=this,n=this.state.selected;return r.a.createElement("tr",{key:t,onClick:function(){return a.onSelectBook(e)},className:n===e.isbn?"bg-info":""},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.isbn),r.a.createElement("td",null,e.authors[0].fullName),r.a.createElement("td",null,e.maxCheckoutLength),r.a.createElement("td",null,e.copieAvailable))}},{key:"renderBody",value:function(){var e=this,t=this.props.books;return r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("div",{className:"d-flex flex-row mb-4"},r.a.createElement("input",{className:"form-control col-6 mr-3",name:"isbn",onChange:function(t){return e.setState({filter:t.target.value})},placeholder:"Enter Search String"}),r.a.createElement("span",{className:"btn btn-info shadow",onClick:this.onSearch},r.a.createElement("i",{className:"fas fa-search"}))),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"ISBN"),r.a.createElement("th",{scope:"col"},"Authors"),r.a.createElement("th",{scope:"col"},"Period"),r.a.createElement("th",{scope:"col"},"Available Copies"))),r.a.createElement("tbody",null,E.a.isArray(t)&&t.map((function(t,a){return e.renderBook(t,a)})))))}},{key:"render",value:function(){var e={show:!0,title:"Find Book",saveLabel:"Accept",body:this.renderBody(),handleClose:this.handleClose,clazz:"modal-lg"};return r.a.createElement(f,e)}}]),a}(n.Component),ke=Object(v.b)((function(e){var t;return{books:null===(t=e.bookReducer.records)||void 0===t?void 0:t.filter((function(e){return e.copieAvailable>0}))}}))(ye);var Oe="FIND_MEMBER",Ce="FIND_BOOK",je=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).openPopup=function(e){n.setState({isOpenPopup:!0,popupName:e})},n.onCheckout=function(){var e=n.props.checkout,t=e.memberId,a=e.isbn;n.props.dispatch(function(e){var t=e.memberId,a=e.isbn;return Object(N.a)({},O,{types:[L,I,T,!0],endpoint:"/checkout/book/".concat(a,"/member/").concat(t),method:C})}({isbn:a,memberId:t}))},n.handleClosePopup=function(e,t){switch(e){case"SELECT_MEMBER":n.props.dispatch({type:U,payload:t}),n.props.dispatch(X(t)),n.setState({isOpenPopup:!1,popupName:""});break;case"SELECT_BOOK":n.props.dispatch({type:P,payload:t}),n.setState({isOpenPopup:!1,popupName:""});break;default:n.setState({isOpenPopup:!1,popupName:""})}},n.renderPopup=function(){var e=n.state,t=e.isOpenPopup,a=e.popupName;return t?Ce===a?r.a.createElement(ke,{handleClose:n.handleClosePopup}):r.a.createElement(ne,{handleClose:n.handleClosePopup}):null},n.state={isOpenPopup:!1,popupName:""},n}return Object(s.a)(a,[{key:"isValid",value:function(){var e=this.props.checkout,t=e.memberId,a=e.isbn;return t&&a}},{key:"renderCheckoutForm",value:function(){var e=this,t=this.props.checkout,a=t.memberId,n=t.isbn;return r.a.createElement("div",{className:"card filter shadow border-0"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",null,"Checkout")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("div",{className:"d-flex flex-row mb-2"},r.a.createElement("span",{className:"col-2"},"Member ID:"),r.a.createElement("input",{className:"form-control col-6 mr-3",name:"memberId",disabled:!0,value:a}),r.a.createElement("span",{className:"btn btn-info shadow",onClick:function(){return e.openPopup(Oe)}},r.a.createElement("i",{className:"fas fa-search"}))),r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement("span",{className:"col-2"},"ISBN:"),r.a.createElement("input",{className:"form-control col-6 mr-3",name:"isbn",disabled:!0,value:n}),r.a.createElement("span",{className:"btn btn-info shadow",onClick:function(){return e.openPopup(Ce)}},r.a.createElement("i",{className:"fas fa-search"}))),r.a.createElement("div",{className:"d-flex justify-content-end mt-4"},r.a.createElement("button",{className:"btn btn-primary shadow",onClick:this.onCheckout,disabled:!this.isValid()},"Check out")))))}},{key:"renderCheckoutEntry",value:function(e,t){var a=e.book,n=e.checkoutDate,l=e.overDue,o=e.returnDueDate,c="ISBN2"===a.isbn||l;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),r.a.createElement("td",null,a.title),r.a.createElement("td",null,a.isbn),r.a.createElement("td",null,null===n||void 0===n?void 0:n.substring(0,10)),r.a.createElement("td",null,null===o||void 0===o?void 0:o.substring(0,10)),r.a.createElement("td",null,r.a.createElement("span",{className:c?"overdue":""})))}},{key:"renderCheckoutHistory",value:function(){var e,t=this,a=this.props.checkoutRecord;return r.a.createElement("div",{className:"card checkout-records mt-4 shadow border-0"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",null,"Checkout History")),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Book"),r.a.createElement("th",{scope:"col"},"ISBN"),r.a.createElement("th",{scope:"col"},"Checkout Date"),r.a.createElement("th",{scope:"col"},"Due Date"),r.a.createElement("th",null,"Overdue"))),r.a.createElement("tbody",null,null===a||void 0===a||null===(e=a.checkoutEntries)||void 0===e?void 0:e.map((function(e,a){return t.renderCheckoutEntry(e,a)}))))))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Checkout"},this.renderCheckoutForm(),this.renderCheckoutHistory(),this.renderPopup())}}]),a}(n.Component),Se=Object(v.b)((function(e){var t=e.memberReducer,a=t.records,n=t.checkout,r=t.checkoutRecord;return{members:a,checkout:n||{memberId:"",isbn:""},checkoutRecord:r}}))(je);var Ae=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onAddOK=function(){n.props.handleClose(!0)},n.onAddFail=function(){console.log("Failed")},n.onFieldChange=function(e){var t=e.target,a=t.name,r="number"==t.type?parseInt(t.value):t.value;n.setState(Object(N.a)({},a,r))},n.onSelectAuthorChange=function(e){var t=e.target,a=t.name,r=function(e){for(var t,a=[],n=e&&e.options,r=0,l=n.length;r<l;r++)(t=n[r]).selected&&a.push(t.value||t.text);return a}(t);n.setState(Object(N.a)({},a,r))},n.handleClose=function(e){"ACCEPT"===e?n.myForm.current.reportValidity()&&n.onAddNewBook():n.props.handleClose()},n.state={title:"",isbn:"",copieAvailable:0,maxCheckoutLength:0},n.myForm=r.a.createRef(),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(N.a)({},O,{types:[Ee,be,!0],endpoint:"/author/list",method:j}))}},{key:"onAddNewBook",value:function(e){console.log(1111111);var t=this.state,a=t.title,n=t.isbn,r=t.copieAvailable,l=t.maxCheckoutLength,o=t.authors;this.props.dispatch(function(e,t,a){var n=e.title,r=e.isbn,l=e.copieAvailable,o=e.maxCheckoutLength,c=e.authors;return Object(N.a)({},O,{types:[me,de,ue,!0],endpoint:"/book/add",method:C,body:{title:n,isbn:r,nbrOfCopies:l,maxCheckoutLength:o,authors:c},next:{ok:t,fail:a}})}({title:a,isbn:n,copieAvailable:r,maxCheckoutLength:l,authors:o},this.onAddOK,this.onAddFail))}},{key:"render",value:function(){var e={show:!0,title:"Add Book",saveLabel:"Save",body:this.renderBody(),handleClose:this.handleClose,clazz:"modal-lg"};return r.a.createElement(f,e)}},{key:"renderMessage",value:function(){var e=this.props,t=e.success,a=e.message,n=(e.authors,e.error);return r.a.createElement("div",null,n&&r.a.createElement("div",{className:"alert alert-danger",role:"alert",title:null===n||void 0===n?void 0:n.message},r.a.createElement("strong",null,"Opps!")," Add book failed."),t&&r.a.createElement("div",{className:"alert alert-success",role:"alert",title:a},r.a.createElement("strong",null,"Well done!")," Add book success."))}},{key:"renderBody",value:function(){var e=this.props.authors,t=this.state,a=t.title,n=t.isbn,l=t.copieAvailable,o=t.maxCheckoutLength;return r.a.createElement("div",{className:"",id:"container"},this.renderMessage(),r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("b",null,"Note:")," Form fields marked with asterisk (*) are required.")),r.a.createElement("br",null),r.a.createElement("form",{id:"bookForm",ref:this.myForm},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"*Book Title"),r.a.createElement("input",{id:"title",name:"title",type:"text",className:"form-control",onChange:this.onFieldChange,value:a,required:!0,autoFocus:!0})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"isbn"},"*ISBN"),r.a.createElement("input",{id:"isbn",name:"isbn",type:"text",className:"form-control",onChange:this.onFieldChange,value:n,required:!0})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"noofc"},"*Number of Copies"),r.a.createElement("input",{id:"noofc",name:"copieAvailable",type:"number",className:"form-control",onChange:this.onFieldChange,value:l,required:!0,autoFocus:!0}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"overdueFee"},"*Max Checkout Length"),r.a.createElement("input",{id:"overdueFee",name:"maxCheckoutLength",type:"number",className:"form-control",onChange:this.onFieldChange,value:o,required:!0})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"authors"},"Author:"),r.a.createElement("select",{multiple:!0,className:"form-control",id:"authors",name:"authors",onChange:this.onSelectAuthorChange,required:!0},e&&e.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.fullName)}))))))))}}]),a}(n.Component);var we=Object(v.b)((function(e){var t,a;return{books:e.bookReducer.records,success:null===(t=e.bookReducer.newBookResult)||void 0===t?void 0:t.success,message:(null===(a=e.bookReducer.newBookResult)||void 0===a?void 0:a.messages)&&e.bookReducer.newBookResult.messages.pop(),authors:e.bookReducer.authors,error:e.bookReducer.newBookErrors&&e.bookReducer.newBookErrors.pop()}}))(Ae);var Me=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onAddBook=function(){n.setState({isOpenAddNew:!0})},n.handleCloseAddBook=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setState({isOpenAddNew:!1}),e&&n.props.dispatch(ve())},n.renderPopup=function(){return n.state.isOpenAddNew?r.a.createElement(we,{handleClose:n.handleCloseAddBook}):null},n.state={filter:"",isOpenAddNew:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(ve())}},{key:"componentDidUpdate",value:function(){var e=this;!this.props.books&&this.props.error&&setTimeout((function(){return e.props.dispatch(ve())}),8e3)}},{key:"renderFilter",value:function(){var e=this;return r.a.createElement("div",{className:"card filter shadow border-0"},r.a.createElement("div",{className:"card-header"},r.a.createElement("span",null,"Filter Books")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("input",{className:"form-control col-9 mr-3",name:"filterKeyword",onChange:function(t){return e.setState({filter:t.target.value})},type:"text"}),r.a.createElement("span",{className:"btn btn-secondary shadow",onClick:function(){return e.props.dispatch(Ne(e.state.filter))}},"Search")),r.a.createElement("div",null,r.a.createElement("span",{className:"btn btn-info shadow",onClick:this.onAddBook},"Add Book")))))}},{key:"renderBook",value:function(e,t){var a=e.title,n=e.isbn,l=e.maxCheckoutLength,o=e.copieAvailable;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,o),r.a.createElement("td",null,r.a.createElement(xe,{book:e})))}},{key:"renderPaging",value:function(){var e=this,t=Math.ceil(this.props.books.length/10),a=this.props.pageNo<t,n=this.props.pageNo>1;return r.a.createElement("div",{className:"table-paging"},r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination justify-content-end pagination-sm"},r.a.createElement("li",{className:"page-item "+(n?"":"disabled"),onClick:function(){return n&&e.props.dispatch(ge(e.props.pageNo-1))}},r.a.createElement("span",{className:"page-link",tabIndex:"-1"},"Previous")),E.a.range(1,t+1,1).map((function(t,a){var n=e.props.pageNo===t;return r.a.createElement("li",{className:"page-item "+(n?"active":""),key:a,onClick:function(){return e.props.dispatch(ge(t))}},r.a.createElement("span",{className:"page-link"},t))})),r.a.createElement("li",{className:"page-item "+(a?"":"disabled"),onClick:function(){return a&&e.props.dispatch(ge(e.props.pageNo+1))}},r.a.createElement("span",{className:"page-link",tabIndex:"-1"},"Next")))))}},{key:"renderBooksList",value:function(){var e=this,t=this.props,a=t.books,n=10*(t.pageNo-1),l=(null===a||void 0===a?void 0:a.length)-n>10?10:(null===a||void 0===a?void 0:a.length)-n,o=E.a.slice(a,n,n+l);return r.a.createElement("div",{className:"card book-list mt-4 shadow border-0"},r.a.createElement("div",{className:"card-header"},r.a.createElement("span",null,"Books List")),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"ISBN"),r.a.createElement("th",{scope:"col"},"Period"),r.a.createElement("th",{scope:"col"},"Available"),r.a.createElement("th",null))),r.a.createElement("tbody",null,null===o||void 0===o?void 0:o.map((function(t,a){return e.renderBook(t,a)})))),this.renderPaging()))}},{key:"render",value:function(){return r.a.createElement("div",{className:"BookManagement"},r.a.createElement("div",{className:"content"},this.renderFilter(),this.renderBooksList(),this.renderPopup()))}}]),a}(n.Component),Be=Object(v.b)((function(e){return{books:e.bookReducer.records,isLoading:e.bookReducer.isLoading,pageNo:e.bookReducer.pageNo||1}}))(Me);var xe=function(e){var t=e.book,a=Object(n.useState)(!1),l=Object(g.a)(a,2),o=l[0],c=l[1],s=Object(n.useState)(0),i=Object(g.a)(s,2),m=i[0],u=i[1],d=Object(v.c)();return Object(n.useEffect)((function(){c(!1),u(0)}),[t]),r.a.createElement("div",{className:"add-copy-container d-flex"},o?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{name:"copyNum",type:"number",className:"form-control mr-3 copy-num",onChange:function(e){return u(e.target.value)}}),r.a.createElement("span",{className:"btn btn-primary shadow "+(m>0?"":"disabled"),title:"Add Copy",value:m,onClick:function(){return m>0&&d((e=t.isbn,a=m,Object(N.a)({},O,{types:[ce,se,ie,!0],endpoint:"/book/addcopy/isbn/".concat(e,"/nbrcopy/").concat(a),method:C})));var e,a}},r.a.createElement("i",{className:"fas fa-save"}))):r.a.createElement("span",{className:"btn btn-secondary shadow",title:"Add Copy",onClick:function(){return c(!0)}},r.a.createElement("i",{className:"fas fa-copy"})))},_e=a(2),De=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onSaveNewMember=function(e){e.preventDefault(),n.props.handleClose("ACCEPT",Object(_e.a)({},n.state))},n.state={firstName:"",lastName:"",phoneNumber:"",state:"",zip:"",city:"",street:""},n}return Object(s.a)(a,[{key:"renderBody",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("form",{onSubmit:this.onSaveNewMember},r.a.createElement("div",{className:"form-group d-flex"},r.a.createElement("label",{className:"col-2",htmlFor:"firstName"},"First Name ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{type:"firstName",id:"firstName",className:"form-control col-10",onChange:function(t){return e.setState({firstName:t.target.value})},placeholder:"Enter First Name",required:!0})),r.a.createElement("div",{className:"form-group d-flex"},r.a.createElement("label",{className:"col-2",htmlFor:"lastName"},"Last Name ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control col-10",id:"lastName",placeholder:"Enter Last Name",onChange:function(t){return e.setState({lastName:t.target.value})},required:!0})),r.a.createElement("div",{className:"form-group d-flex"},r.a.createElement("label",{className:"col-2",htmlFor:"phone"},"Phone ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control col-10",id:"phone",placeholder:"Enter Phone Number",minLength:"10",onChange:function(t){return e.setState({phoneNumber:t.target.value})},required:!0})),r.a.createElement("div",{className:"form-group d-flex"},r.a.createElement("label",{className:"col-2",htmlFor:"street"},"Street ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control col-10",id:"street",placeholder:"Enter Street",onChange:function(t){return e.setState({street:t.target.value})}})),r.a.createElement("div",{className:"form-group d-flex align-items-center"},r.a.createElement("label",{className:"col-2",htmlFor:"city"},"City ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control col-4",id:"city",placeholder:"Enter City",onChange:function(t){return e.setState({city:t.target.value})},required:!0}),r.a.createElement("label",{className:"col-2 text-right",htmlFor:"state"},"State ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control col-4",id:"state",placeholder:"Enter State",onChange:function(t){return e.setState({state:t.target.value})},required:!0})),r.a.createElement("div",{className:"form-group d-flex mb-4"},r.a.createElement("label",{className:"col-2",htmlFor:"zipcode"},"Zipcode ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control col-8",id:"zipcode",type:"number",placeholder:"Enter Zipcode",onChange:function(t){return e.setState({zip:t.target.value})},required:!0})),r.a.createElement("hr",null),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("button",{className:"btn btn-primary mr-2",type:"submit"},"Submit"),r.a.createElement("button",{className:"btn btn-secondary",onClick:this.props.handleClose},"Close"))))}},{key:"render",value:function(){var e=Object(_e.a)(Object(_e.a)({},this.props),{},{body:this.renderBody(),clazz:"modal-lg",noFooter:!0});return r.a.createElement(f,e)}}]),a}(n.Component),Re=Object(v.b)((function(e){return{member:e.memberReducer.newMember}}))(De);var Fe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onFilterMember=function(){n.props.dispatch($(n.state.filter))},n.onAddNewMember=function(){n.props.dispatch({type:Y})},n.handleCloseAddNewMember=function(e,t){"ACCEPT"===e?n.props.dispatch(function(e){var t=e.firstName,a=e.lastName,n=e.phoneNumber,r=e.street,l=e.city,o=e.zip,c=e.state;return Object(N.a)({},O,{types:[D,R,F,!0],endpoint:"/member/add",method:C,body:{firstName:t,lastName:a,phoneNumber:n,address:{street:r,city:l,state:c,zip:o}}})}(t)):n.props.dispatch(te())},n.renderPopup=function(){var e=n.props.openAddNewPopup;if(!e)return null;var t={show:e,title:"Add New Member",handleClose:n.handleCloseAddNewMember};return r.a.createElement(Re,t)},n.state={filter:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Q())}},{key:"componentDidUpdate",value:function(){var e=this;!this.props.memners&&this.props.error&&setTimeout((function(){return e.props.dispatch(Q())}),8e3)}},{key:"renderFilter",value:function(){var e=this;return r.a.createElement("div",{className:"card filter shadow border-0"},r.a.createElement("div",{className:"card-header"},r.a.createElement("span",null,"Filter Members")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("input",{className:"form-control col-9 mr-3",name:"filterKeyword",onChange:function(t){return e.setState({filter:t.target.value})}}),r.a.createElement("span",{className:"btn btn-secondary shadow",onClick:this.onFilterMember},"Search")),r.a.createElement("div",null,r.a.createElement("span",{className:"btn btn-info shadow",onClick:this.onAddNewMember},"Add Member")))))}},{key:"renderMember",value:function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.fullName),r.a.createElement("td",null,e.address.city,", ",e.address.state,", ",e.address.zip),r.a.createElement("td",null,e.phoneNumber))}},{key:"renderPaging",value:function(){var e=this,t=Math.ceil(this.props.members.length/10),a=this.props.pageNo<t,n=this.props.pageNo>1;return r.a.createElement("div",{className:"table-paging"},r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination justify-content-end pagination-sm"},r.a.createElement("li",{className:"page-item "+(n?"":"disabled"),onClick:function(){return n&&e.props.dispatch(ee(e.props.pageNo-1))}},r.a.createElement("span",{className:"page-link",tabIndex:"-1"},"Previous")),E.a.range(1,t+1,1).map((function(t,a){var n=e.props.pageNo===t;return r.a.createElement("li",{className:"page-item "+(n?"active":""),key:a,onClick:function(){return e.props.dispatch(ee(t))}},r.a.createElement("span",{className:"page-link"},t))})),r.a.createElement("li",{className:"page-item "+(a?"":"disabled"),onClick:function(){return a&&e.props.dispatch(ee(e.props.pageNo+1))}},r.a.createElement("span",{className:"page-link",tabIndex:"-1"},"Next")))))}},{key:"renderMembersList",value:function(){var e=this,t=this.props,a=t.members,n=10*(t.pageNo-1),l=(null===a||void 0===a?void 0:a.length)-n>10?10:(null===a||void 0===a?void 0:a.length)-n,o=E.a.slice(a,n,n+l);return r.a.createElement("div",{className:"card book-list mt-4 shadow border-0"},r.a.createElement("div",{className:"card-header"},r.a.createElement("span",null,"Members List")),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Address"),r.a.createElement("th",{scope:"col"},"Phone"))),r.a.createElement("tbody",null,null===o||void 0===o?void 0:o.map((function(t,a){return e.renderMember(t,a)})))),this.renderPaging()))}},{key:"render",value:function(){return r.a.createElement("div",{className:"MemberManagement"},this.renderFilter(),this.renderMembersList(),this.renderPopup())}}]),a}(n.Component),Le=Object(v.b)((function(e){return{members:e.memberReducer.records,error:e.memberReducer.error,pageNo:e.memberReducer.pageNo||1,openAddNewPopup:e.memberReducer.openAddNewPopup}}))(Fe);var Ie=a(100),Te=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onLogin=function(e){e.preventDefault();var t,a=n.state,r=a.userName,l=a.password;n.props.dispatch((t={userName:r,password:l},Object(N.a)({},O,{types:[z,q,W,!0],endpoint:"/auth/login",method:C,body:t})))},n.state={userName:"",password:"",images:["https://library.miu.edu/wp-content/uploads/sites/12/2019/11/IMG_0230-860x500.jpg","https://library.miu.edu/wp-content/uploads/sites/12/2019/05/PicsArt_05-15-08.09.41-860x500.jpg","https://library.miu.edu/wp-content/uploads/sites/12/2019/11/IMG_0241-860x500.jpg","https://library.miu.edu/wp-content/uploads/sites/12/2019/11/IMG_0248-860x500.jpg"]},n}return Object(s.a)(a,[{key:"renderCarousel",value:function(){return r.a.createElement(Ie.a,null,E.a.map(this.state.images,(function(e,t){return r.a.createElement(Ie.a.Item,{key:t},r.a.createElement("img",{src:e,className:"d-block",alt:""}),r.a.createElement(Ie.a.Caption,null,r.a.createElement("h5",{className:"text-info"},"Image from https://library.miu.edu/")))})))}},{key:"renderHome",value:function(){return r.a.createElement("div",{className:"mt-5 text-info"},r.a.createElement("h4",null,"Welcome to Maharishi International University Library System"),r.a.createElement("div",{className:"mt-3"},this.renderCarousel()))}},{key:"renderLoginForm",value:function(){var e=this;return r.a.createElement("div",{className:"login-form d-flex flex-column col-6"},r.a.createElement("form",{onSubmit:this.onLogin},r.a.createElement("div",{className:"text-center mb-4"},r.a.createElement("h1",null,"Login")),r.a.createElement("div",{className:"form-group d-flex align-items-center"},r.a.createElement("label",{htmlFor:"userName"},"Username"),r.a.createElement("input",{className:"form-control ml-3",id:"userName",placeholder:"Enter username",required:!0,onChange:function(t){return e.setState({userName:t.target.value})}})),r.a.createElement("div",{className:"form-group d-flex align-items-center"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"form-control ml-3",id:"password",placeholder:"Password",required:!0,onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Login"))),r.a.createElement("div",{className:"d-flex flex-column mt-5 bg-light"},r.a.createElement("h4",null,"Test users"),r.a.createElement("span",null,"admin/12345"),r.a.createElement("span",null,"superadmin/12345"),r.a.createElement("span",null,"librarian/12345")))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Home d-flex justify-content-center text-center"},this.props.isAuthenticated?this.renderHome():this.renderLoginForm())}}]),a}(n.Component),Pe=Object(v.b)((function(e){return e}))(Object(p.g)(Te));a(96);var Ue={BOOK_MANAGEMENT:["ADD_BOOK"],MEMBER_MANAGEMENT:["UPDATE_MEMBER","DELETE_MEMBER","ADD_MEMBER"],CHECK_OUT:["CHECKOUT_BOOK"],LOGOUT:["UPDATE_MEMBER","ADD_BOOK","CHECKOUT_BOOK"]},Ke=[{id:1,link:"/",label:"Home",icon:"fa-home"},{id:2,link:"/member-management",label:"Member Management",type:"MEMBER_MANAGEMENT",icon:"fa-user-friends"},{id:3,link:"/book-management",label:"Book Management",type:"BOOK_MANAGEMENT",icon:"fa-book"},{id:4,link:"/checkout",label:"Checkout",type:"CHECK_OUT",icon:"fa-receipt"},{link:"logout",label:"Logout",type:"LOGOUT",icon:"fa-sign-out-alt"}];function He(e,t){return function(e){return Ke.filter((function(t){return t.link===e}))}(e).filter((function(e){return Ge({type:e.type,userPermissions:t})})).length>0}function Ge(e){var t=e.type,a=e.userPermissions;if(E.a.isEmpty(t))return!0;if(E.a.isEmpty(a))return!1;var n=Ue[t],r=a.filter((function(e){return E.a.findIndex(n,(function(t){return t===e}))>-1}));return!E.a.isEmpty(r)}var ze=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).isActive=function(e){var t=n.props.history.location.pathname;return e.link===t},n.onClickLink=function(e){"logout"===e.link?n.props.dispatch({type:J}):n.props.history.push(e.link)},n.state={items:[]},n}return Object(s.a)(a,[{key:"renderNav",value:function(){return r.a.createElement("div",{className:"nav d-sm-none d-md-block d-lg-none"},r.a.createElement("nav",{className:"navbar navbar-expand-lg"},r.a.createElement("span",{className:"navbar-brand"},"Library Management")))}},{key:"renderMenus",value:function(){var e,t=this;return(e=this.props.permissions,Ke.filter((function(t){return Ge({type:t.type,userPermissions:e})}))).map((function(e,a){var n=t.isActive(e);return r.a.createElement("li",{className:"nav-item "+(n?"active":""),key:a,onClick:function(){return t.onClickLink(e)}},r.a.createElement("span",{className:"nav-link "+(n?"active":"")},r.a.createElement("i",{className:"mr-1 col-2 fas "+e.icon}),e.label))}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"side-bar d-none d-lg-block",id:"sidebar-wrapper"},r.a.createElement("nav",{className:""},r.a.createElement("div",{className:"sidebar-heading"}),r.a.createElement("ul",{className:"nav flex-column flex-nowrap"},this.renderMenus())))}}]),a}(n.Component),qe=Object(p.g)(ze),We=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"loading-layout",id:"loadingLayout"},r.a.createElement("div",{className:"loading-overlay"}),r.a.createElement("div",{className:"loading-spinner d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-grow text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),r.a.createElement("div",{className:"spinner-grow text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),r.a.createElement("div",{className:"spinner-grow text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))))}}]),a}(n.Component),Je=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return this.props.isAuthenticated&&He(this.props.history.location.pathname,this.props.permissions)?null:r.a.createElement(p.a,{to:"/"})}}]),a}(n.Component),Ve=Object(p.g)(Je),Ye="ADD_TOAST",Ze="REMOVE_TOAST",$e="bg-danger",Qe="bg-warning",Xe="bg-success",et=0;function tt(e){var t=e.title,a=e.message,n=e.toastType,r=e.errors;return{type:Ye,payload:{item:{title:t,message:a,id:et++,tClass:n,errors:r}}}}function at(e){return{type:Ze,payload:{id:e}}}var nt=function(e){var t=e.item,a=e.remove,l=Object(n.useRef)();return l.current=a,Object(n.useEffect)((function(){var e=setTimeout((function(){return l.current(t)}),5e3);return function(){return clearTimeout(e)}}),[t]),r.a.createElement("div",{className:"toast show border-0"},r.a.createElement("div",{className:"toast-header border-0 "+t.tClass},r.a.createElement("strong",{className:"mr-auto"},t.title),r.a.createElement("span",{type:"button",className:"ml-2 mb-1 close",onClick:function(){return a(t)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"toast-body"},t.message,r.a.createElement("div",{className:"d-flex flex-column border-info"},E.a.map(t.errors,(function(e,t){return r.a.createElement("span",{key:t},E.a.isObject(e)?e.message:e)})))))},rt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).onTimeOut=function(t){setTimeout((function(){return e.props.dispatch(at(t.id))}),5e3)},e.onClickRemove=function(t){e.props.dispatch(at(t.id))},e}return Object(s.a)(a,[{key:"renderItems",value:function(){var e=this,t=this.props.items;return r.a.createElement("div",{className:"toasts"},E.a.map(t,(function(t,a){return r.a.createElement(nt,Object.assign({item:t,remove:e.onClickRemove},{key:a}))})))}},{key:"render",value:function(){return r.a.createElement("div",{className:"toast-container"},this.renderItems())}}]),a}(n.Component),lt=Object(v.b)((function(e){return{items:e.toastReducer.items}}))(rt);var ot=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).toggleSideBar=function(){n.setState({isOpenSideBar:!n.state.isOpenSideBar})},n.state={isOpenSideBar:!0},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,{basename:"/probuild"},r.a.createElement("div",{className:"App d-flex "+(this.state.isOpenSideBar?"":"togged"),id:"wrapper"},r.a.createElement(lt,null),r.a.createElement(Ve,this.props),r.a.createElement(We,null),r.a.createElement(qe,this.props),r.a.createElement("div",{className:"page-content-wrapper"},r.a.createElement(u,Object.assign({toggleSideBar:this.toggleSideBar},this.props)),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(Pe,this.props)),r.a.createElement(p.b,{path:"/checkout"},r.a.createElement(Se,null)),r.a.createElement(p.b,{path:"/book-management"},r.a.createElement(Be,null)),r.a.createElement(p.b,{path:"/member-management"},r.a.createElement(Le,null)))))))}}]),a}(n.Component),ct=Object(v.b)((function(e){return{isAuthenticated:e.authReducer.isAuthenticated,permissions:e.authReducer.permissions,fullName:e.authReducer.fullName}}))(ot);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var st=a(24),it={records:[],isLoading:!0};var mt={records:[],checkout:{isbn:"",memberId:""},checkoutRecord:""};var ut="USER_ID",dt="PERMISSIONS",pt="USER_NAME";function ht(){return{isAuthenticated:!E.a.isEmpty(localStorage.getItem(ut)),permissions:localStorage.getItem(dt)?JSON.parse(localStorage.getItem(dt)):[],fullName:localStorage.getItem(pt)}}var Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isAuthenticated:!1};return arguments.length>1&&arguments[1],Object(_e.a)(Object(_e.a)({},e),ht())},bt={items:[]};var ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Ye:return{items:e.items.concat(n.item)};case Ze:return{items:e.items.filter((function(e){return e.id!==n.id}))};default:return e}},vt=Object(st.combineReducers)({memberReducer:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,a=arguments.length>1?arguments[1]:void 0,n=a.type,r=a.payload;switch(n){case w:case x:return Object(_e.a)(Object(_e.a)({},t),{},{records:r.data,pageNo:1});case M:return Object(_e.a)(Object(_e.a)({},t),{},{error:r});case I:return Object(_e.a)(Object(_e.a)({},t),{},{checkout:{memberId:t.checkout.memberId,isbn:""}});case P:return Object(_e.a)(Object(_e.a)({},t),{},{checkout:Object(_e.a)(Object(_e.a)({},t.checkout),{},{isbn:r})});case U:return Object(_e.a)(Object(_e.a)({},t),{},{checkout:Object(_e.a)(Object(_e.a)({},t.checkout),{},{memberId:r})});case H:return Object(_e.a)(Object(_e.a)({},t),{},{checkoutRecord:null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.checkoutRecord});case V:return Object(_e.a)(Object(_e.a)({},t),{},{pageNo:r});case Y:return Object(_e.a)(Object(_e.a)({},t),{},{openAddNewPopup:!0});case Z:return Object(_e.a)(Object(_e.a)({},t),{},{openAddNewPopup:!1});default:return t}},bookReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0,a=t.payload,n=t.type;switch(n){case re:return Object(_e.a)({},e);case le:return{records:a&&a.data,succeed:a&&a.success,messages:a&&(a.messages||[a.message])};case oe:return Object(_e.a)(Object(_e.a)({},e),{},{error:a});case he:return{records:a.data};case de:return Object(_e.a)(Object(_e.a)({},e),{},{records:e.records.concat(t.payload),newBookResult:a});case ue:return Object(_e.a)(Object(_e.a)({},e),{},{newBookErrors:a.errors});case be:return Object(_e.a)(Object(_e.a)({},e),{},{authors:a.data});case ie:return Object(_e.a)(Object(_e.a)({},e),{},{keepEditCopy:!0});case fe:return Object(_e.a)(Object(_e.a)({},e),{},{pageNo:a});default:return e}},authReducer:Et,toastReducer:ft}),Nt=a(62),gt=a(46),yt=a.n(gt),kt=function(e){return function(e){return function(t){return t&&t.isLoading?yt()("#loadingLayout").addClass("show"):yt()("#loadingLayout").removeClass("show"),e(t)}}};function Ot(e,t,a,n){return{title:e,message:t,toastType:a,errors:n}}var Ct=a(63),jt=Object(st.createStore)(vt,Object(Ct.composeWithDevTools)(Object(st.applyMiddleware)(Nt.a,S,(function(e){return function(t){return function(a){var n,r,l,o,c,s;switch(a.type){case M:return e.dispatch(tt(Ot("Error","Unable to fetch the Members",$e))),t(a);case oe:return e.dispatch(tt(Ot("Error","Unable to fetch the Books",$e))),t(a);case de:return e.dispatch(tt(Ot("Info","Add the book successfully",Xe))),t(a);case I:return e.dispatch(tt(Ot("Info","Checkout book successfully",Xe))),e.dispatch(X(e.getState().memberReducer.checkout.memberId)),t(a);case T:var i=a.payload.response.data.errors;return e.dispatch(tt(Ot("Unable to Checkout the book","Info: ",Qe,i))),t(a);case W:return e.dispatch(tt(Ot("Login Fail","Details: ",Qe,null===(n=a.payload)||void 0===n||null===(r=n.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.errors))),t(a);case se:return e.dispatch(tt(Ot("Book Copy Added","Book Copy added successfully ",Xe))),e.dispatch(ve()),t(a);case ie:return e.dispatch(tt(Ot("Error","Unable to add book copy",$e))),t(a);case F:return e.dispatch(tt(Ot("Error","Unable to add New Member",$e,null===(o=a.payload)||void 0===o||null===(c=o.response)||void 0===c||null===(s=c.data)||void 0===s?void 0:s.errors))),t(a);case R:return e.dispatch(tt(Ot("Success","Add New Member successfully",Xe))),e.dispatch(Q()),e.dispatch(te()),t(a);default:return t(a)}}}}),(function(e){return function(e){return function(t){var a,n;switch(t.type){case q:var r=null===(a=t.payload)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.systemUser;return localStorage.setItem(ut,r.userName),localStorage.setItem(dt,JSON.stringify(r.permissionsGranted)),localStorage.setItem(pt,r.fullName),e(t);case J:return localStorage.removeItem(ut),localStorage.removeItem(dt),localStorage.removeItem(pt),e(t);default:return e(t)}}}}),kt)));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v.a,{store:jt},r.a.createElement(ct,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[66,1,2]]]);
//# sourceMappingURL=main.4b2db880.chunk.js.map