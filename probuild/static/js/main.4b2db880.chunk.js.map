{"version":3,"sources":["components/Nav.js","components/PopupModel.js","middleware/api.js","actions/memberActions.js","components/FindMemberPopup.js","actions/bookActions.js","components/FindBookPopup.js","components/Checkout.js","components/book/AddBookPopup.js","components/BookManagement.js","components/AddMemberPopup.js","components/MemberManagement.js","components/Home.js","config/urlConfig.js","components/SideBar.js","components/Loading.js","components/AuthenComponent.js","actions/toastActions.js","components/ToastMessage.js","components/ToastComponent.js","App.js","serviceWorker.js","reducers/BooksReducer.js","reducers/MemberReducer.js","middleware/authentication.js","reducers/AuthenticationReducer.js","reducers/ToastReducer.js","reducers/index.js","middleware/loading.js","middleware/toastMiddlewear.js","index.js"],"names":["Nav","className","id","onClick","this","props","toggleSideBar","fullName","Component","PopupModel","show","handleClose","title","body","saveLabel","cancelLabel","clazz","children","noFooter","Modal","onHide","dialogClassName","Header","closeButton","Title","Body","Footer","CALL_API","HTTP_METHODS","apiMiddleware","store","next","action","callApi","undefined","types","startedType","successType","failureType","isLoading","type","endpoint","method","params","url","data","header","axios","makeApiCall","then","res","console","log","ok","payload","catch","error","fail","response","ACTIONS","filterMember","searchString","fetchMembers","fetchCheckoutRecords","memberId","updatePaging","pageNo","closeAddNewPopup","FindMemberPopup","state","selected","onSelectMember","member","setState","onSearch","dispatch","filter","idx","key","address","city","zip","phoneNumber","members","name","onChange","evt","target","value","placeholder","scope","_","isArray","map","renderMember","renderBody","connect","memberReducer","records","fetchBooks","filterBook","FindBookPopup","onSelectBook","book","isbn","authors","maxCheckoutLength","copieAvailable","books","renderBook","bookReducer","POPUPS","Checkout","openPopup","popupName","isOpenPopup","onCheckout","checkout","processCheckout","handleClosePopup","renderPopup","disabled","isValid","checkoutEntry","checkoutDate","overDue","returnDueDate","isOverdue","substring","checkoutRecord","checkoutEntries","record","renderCheckoutEntry","renderCheckoutForm","renderCheckoutHistory","AddBookPopup","onAddOK","onAddFail","onFieldChange","e","parseInt","onSelectAuthorChange","select","opt","result","options","i","iLen","length","push","text","getSelectValues","myForm","current","reportValidity","onAddNewBook","React","createRef","nbrOfCopies","addNewBook","success","message","role","renderMessage","ref","htmlFor","required","autoFocus","multiple","a","newBookResult","messages","pop","newBookErrors","BookManagement","onAddBook","isOpenAddNew","handleCloseAddBook","update","setTimeout","totalPage","Math","ceil","hasNext","hasPrevious","tabIndex","range","item","isActive","start","end","visibleBooks","slice","renderPaging","renderFilter","renderBooksList","BookCopyCell","useState","isAddCopy","setIsAddCopy","numCopies","setNumCopies","useDispatch","useEffect","numOfCopies","onSaveNewMember","preventDefault","firstName","lastName","street","onSubmit","minLength","newMember","MemberManagement","onFilterMember","onAddNewMember","handleCloseAddNewMember","addNewMember","openAddNewPopup","AddMemberPopup","memners","visibleMembers","renderMembersList","Home","onLogin","userName","password","images","Carousel","img","Item","src","alt","Caption","renderCarousel","isAuthenticated","renderHome","renderLoginForm","withRouter","URL_WITH_PERMISSONS","BOOK_MANAGEMENT","MEMBER_MANAGEMENT","CHECK_OUT","LOGOUT","availableItems","link","label","icon","isAllowToAccessPath","pathname","userPermissions","extractItemFromPathname","isAllow","isEmpty","requiredPermissions","results","up","findIndex","rp","SideBar","history","location","onClickLink","items","permissions","renderMenus","LoadingComponent","AuthenComponent","urlConfig","to","TOAST_TYPE","count","addToast","toastType","errors","tClass","removeToast","ToastMessage","remove","removeRef","useRef","clearTimeout","aria-hidden","isObject","ToastComponent","onTimeOut","onClickRemove","renderItems","toastReducer","App","isOpenSideBar","basename","exact","path","authReducer","Boolean","window","hostname","match","initState","USER_INFO","initUserData","localStorage","getItem","JSON","parse","initData","toasts","concat","combineReducers","succeed","keepEditCopy","loadingMiddleware","$","addClass","removeClass","buildToastMessage","createStore","reducers","composeWithDevTools","applyMiddleware","thunkMiddleWare","memberActions","bookActions","getState","userData","systemUser","setItem","stringify","permissionsGranted","removeItem","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"0SAGqBA,G,6KAGb,OACI,yBAAKC,UAAU,qGACX,yBAAKA,UAAU,gCACX,0BAAMA,UAAU,kCAAkCC,GAAG,cAAcC,QAASC,KAAKC,MAAMC,eACnF,uBAAGL,UAAU,iBAEjB,0BAAMA,UAAU,qBAAhB,uBAEJ,yBAAKA,UAAU,8BACTG,KAAKC,MAAME,SAAa,wBAAIN,UAAU,aAAd,YAAoCG,KAAKC,MAAME,UAAkB,W,GAZ9EC,c,wCCAlB,SAASC,EAAWJ,GAAQ,IAC/BK,EAAsFL,EAAtFK,KAAMC,EAAgFN,EAAhFM,YAAaC,EAAmEP,EAAnEO,MAAOC,EAA4DR,EAA5DQ,KAAMC,EAAsDT,EAAtDS,UAAWC,EAA2CV,EAA3CU,YAAaC,EAA8BX,EAA9BW,MAAOC,EAAuBZ,EAAvBY,SAAUC,EAAab,EAAba,SACjF,OACI,oCACI,kBAACC,EAAA,EAAD,CAAOT,KAAMA,EAAMU,OAAQT,EAAaU,gBAAiBL,GACrD,kBAACG,EAAA,EAAMG,OAAP,CAAcC,aAAW,GACrB,kBAACJ,EAAA,EAAMK,MAAP,KAAcZ,IAElB,kBAACO,EAAA,EAAMM,KAAP,KACKR,EACAJ,GAGAK,EAKK,KAJC,kBAACC,EAAA,EAAMO,OAAP,KACC,0BAAMzB,UAAU,yBAAyBE,QAAS,kBAAMQ,EAAY,YAAYG,GAAwB,gBACxG,0BAAMb,UAAU,2BAA2BE,QAAS,kBAAMQ,EAAY,YAAYI,GAA4B,Y,6CCf7HY,EAAW,WACXC,EACH,OADGA,EAEJ,MAiBT,IA+BeC,EA/BO,SAAAC,GAAK,OAAI,SAAAC,GAAI,OAAI,SAAAC,GACnC,IAAMC,EAAUD,EAAOL,GACvB,QAAuBO,WAAZD,QAAqCC,IAAZD,EAChC,OAAOF,EAAKC,GAH6B,kBAMcC,EAAQE,MANtB,GAMtCC,EANsC,KAMzBC,EANyB,KAMZC,EANY,KAMCC,EAND,KAU7C,OAFAR,EAAK,CAAES,KAAMJ,EAAaG,cAtB9B,YAA0D,IAAnCE,EAAkC,EAAlCA,SAAkC,IAAxBC,cAAwB,MAAf,MAAe,EAAR7B,EAAQ,EAARA,KAEvC8B,EAAS,CACXC,IAFK,UATQ,iCASR,OAAqBH,GAG1BC,SACAG,KAAMhC,EACNiC,OAAQ,CACJ,eAAgB,qBAIxB,OAAOC,IAAMJ,GAaNK,CAAY,CACfP,SAAUR,EAAQQ,SAClBC,OAAQT,EAAQS,OAChB7B,KAAMoB,EAAQpB,OACfoC,MAAK,SAAAC,GAAQ,IAAD,EAGX,OAFAC,QAAQC,IAAI,WAAaF,IACzB,UAAAjB,EAAQF,YAAR,eAAcsB,KAAMpB,EAAQF,KAAKsB,KAC1BtB,EAAK,CACRS,KAAMH,EACNiB,QAASJ,EAAIL,UAElBU,OAAM,SAAAC,GAAU,IAAD,IAGd,OAFAL,QAAQC,IAAI,SAAWI,IACvB,UAAAvB,EAAQF,YAAR,eAAc0B,OAAQxB,EAAQF,KAAK0B,OAC5B1B,EAAK,CACRS,KAAMF,EACNgB,QAAO,UAAEE,EAAME,gBAAR,aAAE,EAAgBb,aChDxBc,EACM,gBADNA,EAEgB,0BAFhBA,EAGa,uBAHbA,EAKM,gBALNA,EAMgB,0BANhBA,EAOa,uBAPbA,EASG,aATHA,EAUa,uBAVbA,EAWU,oBAXVA,EAaC,WAbDA,EAcW,qBAdXA,EAeQ,kBAfRA,EAoBI,cApBJA,EAqBM,gBArBNA,EAuBe,yBAvBfA,EAwByB,mCAxBzBA,EAyBsB,gCAzBtBA,EA2BF,QA3BEA,EA4BQ,kBA5BRA,EA6BK,eA7BLA,EA8BD,SA9BCA,EAgCM,gBAhCNA,EAkCW,qBAlCXA,EAmCY,sBAwBlB,SAASC,EAAaC,GACzB,OAAO,eACFlC,EAAW,CACRQ,MAAO,CAACwB,EAAuBA,EAAiCA,GAChElB,SAAS,+BAAD,OAAiCoB,GACzCnB,OAAQd,IAeb,SAASkC,IACZ,OAAO,eACFnC,EAAW,CACRQ,MAAO,CAACwB,EAAuBA,EAAiCA,GAA8B,GAC9FlB,SAAU,eACVC,OAAQd,IA8Cb,SAASmC,EAAqBC,GACjC,OAAO,eACFrC,EAAW,CACRQ,MAAO,CAACwB,EAAgCA,EAA0CA,GAClFlB,SAAS,oBAAD,OAAsBuB,GAC9BtB,OAAQd,IAKb,SAASqC,GAAaC,GACzB,MAAO,CACH1B,KAAMmB,EACNL,QAASY,GAUV,SAASC,KACZ,MAAO,CACH3B,KAAMmB,G,ICvJRS,G,kDAEF,WAAY/D,GAAQ,IAAD,8BACf,cAAMA,IAWVM,YAAc,SAACqB,GACP,WAAaA,EACb,EAAK3B,MAAMM,YAAY,gBAAiB,EAAK0D,MAAMC,UAEnD,EAAKjE,MAAMM,eAhBA,EAoBnB4D,eAAiB,SAACC,GACd,EAAKC,SAAS,CAACH,SAAUE,EAAOR,YArBjB,EAwBnBU,SAAW,WACP,EAAKrE,MAAMsE,SAASf,EAAa,EAAKS,MAAMO,UAvB5C,EAAKP,MAAQ,CACTO,OAAQ,GACRN,SAAU,IAJC,E,gEASflE,KAAKC,MAAMsE,SAASb,O,mCAmBXU,EAAQK,GAAM,IAAD,OACfP,EAAYlE,KAAKiE,MAAjBC,SACP,OACI,wBAAIQ,IAAKD,EAAK1E,QAAS,kBAAM,EAAKoE,eAAeC,IAASvE,UAAWqE,IAAaE,EAAOR,SAAW,UAAY,IAC5G,4BAAKa,EAAM,GACX,4BAAKL,EAAOjE,UACZ,4BAAKiE,EAAOO,QAAQC,KAApB,KAA4BR,EAAOO,QAAQV,MAA3C,KAAoDG,EAAOO,QAAQE,KACnE,4BAAKT,EAAOU,gB,mCAKV,IAAD,OACDC,EAAY/E,KAAKC,MAAjB8E,QACR,OACI,yBAAKlF,UAAU,sBACX,yBAAKA,UAAU,wBACX,2BAAOA,UAAU,0BACbmF,KAAK,WACLC,SAAU,SAACC,GAAD,OAAS,EAAKb,SAAS,CAAEG,OAAQU,EAAIC,OAAOC,SACtDC,YAAY,wBAChB,0BAAMxF,UAAU,sBAAsBE,QAASC,KAAKsE,UAChD,uBAAGzE,UAAU,oBAGrB,2BAAOA,UAAU,uBACb,+BACI,4BACI,wBAAIyF,MAAM,OAAV,KACA,wBAAIA,MAAM,OAAV,QACA,wBAAIA,MAAM,OAAV,WACA,wBAAIA,MAAM,OAAV,WAGR,+BAEQC,IAAEC,QAAQT,IAAYA,EAAQU,KAAI,SAACrB,EAAQK,GAAT,OAAiB,EAAKiB,aAAatB,EAAQK,W,+BASjG,IAAMxE,EAAQ,CACVK,MAAM,EACNE,MAAO,cACPE,UAAW,SACXD,KAAMT,KAAK2F,aACXpF,YAAaP,KAAKO,YAClBK,MAAO,YAEX,OAAO,kBAACP,EAAeJ,O,GAnFDG,aAuFfwF,gBAEf,SAAyB3B,GACrB,MAAO,CACHc,QAASd,EAAM4B,cAAcC,WAJtBF,CAAyB5B,IC3FjC,IAAMT,GACI,cADJA,GAEc,wBAFdA,GAGW,qBAHXA,GAKM,gBALNA,GAMgB,0BANhBA,GAOa,uBAPbA,GASK,eATLA,GAUY,sBAVZA,GAWe,yBAXfA,GAaI,cAbJA,GAcc,wBAddA,GAiBM,gBAjBNA,GAkBgB,0BAlBhBA,GAoBW,qBAGjB,SAASwC,KACZ,OAAO,eACFxE,EAAW,CACRQ,MAAO,CAACwB,GAAqBA,GAA+BA,IAA4B,GACxFlB,SAAU,aACVC,OAAQd,IAiBb,SAASwE,GAAWvC,GACvB,OAAO,eACFlC,EAAW,CACRQ,MAAO,CAACwB,GAAqBA,GAA+BA,IAA+B,GAC3FlB,SAAS,6BAAD,OAA+BoB,GACvCnB,OAAQd,IAyBb,SAASqC,GAAaC,GACzB,MAAO,CACH1B,KAAMmB,GACNL,QAASY,G,IC1EXmC,G,kDAEF,WAAYhG,GAAQ,IAAD,8BACf,cAAMA,IAWVM,YAAc,SAACqB,GACP,WAAaA,EACb,EAAK3B,MAAMM,YAAY,cAAe,EAAK0D,MAAMC,UAEjD,EAAKjE,MAAMM,eAhBA,EAoBnB2F,aAAe,SAACC,GACZ,EAAK9B,SAAS,CAAEH,SAAUiC,EAAKC,QArBhB,EAwBnB9B,SAAW,WACP,EAAKrE,MAAMsE,SAASyB,GAAW,EAAK/B,MAAMO,UAvB1C,EAAKP,MAAQ,CACTO,OAAQ,GACRN,SAAU,IAJC,E,gEASflE,KAAKC,MAAMsE,SAASwB,Q,iCAmBbI,EAAM1B,GAAM,IAAD,OACXP,EAAYlE,KAAKiE,MAAjBC,SACP,OACI,wBAAIQ,IAAKD,EAAK1E,QAAS,kBAAM,EAAKmG,aAAaC,IAAOtG,UAAWqE,IAAaiC,EAAKC,KAAO,UAAY,IAClG,4BAAK3B,EAAM,GACX,4BAAK0B,EAAK3F,OACV,4BAAK2F,EAAKC,MACV,4BAAKD,EAAKE,QAAQ,GAAGlG,UACrB,4BAAKgG,EAAKG,mBACV,4BAAKH,EAAKI,mB,mCAKR,IAAD,OACDC,EAAUxG,KAAKC,MAAfuG,MACR,OACI,yBAAK3G,UAAU,sBACX,yBAAKA,UAAU,wBACX,2BAAOA,UAAU,0BACbmF,KAAK,OACLC,SAAU,SAACC,GAAD,OAAS,EAAKb,SAAS,CAAEG,OAAQU,EAAIC,OAAOC,SACtDC,YAAY,wBAChB,0BAAMxF,UAAU,sBAAsBE,QAASC,KAAKsE,UAChD,uBAAGzE,UAAU,oBAGrB,2BAAOA,UAAU,uBACb,+BACI,4BACI,wBAAIyF,MAAM,OAAV,KACA,wBAAIA,MAAM,OAAV,SACA,wBAAIA,MAAM,OAAV,QACA,wBAAIA,MAAM,OAAV,WACA,wBAAIA,MAAM,OAAV,UACA,wBAAIA,MAAM,OAAV,sBAGR,+BAEQC,IAAEC,QAAQgB,IAAUA,EAAMf,KAAI,SAACU,EAAM1B,GAAP,OAAe,EAAKgC,WAAWN,EAAM1B,W,+BASvF,IAAMxE,EAAQ,CACVK,MAAM,EACNE,MAAO,YACPE,UAAW,SACXD,KAAMT,KAAK2F,aACXpF,YAAaP,KAAKO,YAClBK,MAAO,YAEX,OAAO,kBAACP,EAAeJ,O,GAvFHG,aA2FbwF,gBAEf,SAAyB3B,GAAQ,IAAD,EAC5B,MAAO,CACHuC,MAAK,UAAEvC,EAAMyC,YAAYZ,eAApB,aAAE,EAA2BtB,QAAO,SAAA2B,GAAI,OAAIA,EAAKI,eAAiB,QAJhEX,CAAyBK,IC3FxC,IAAMU,GACW,cADXA,GAES,YAGTC,G,kDAEF,WAAY3G,GAAQ,IAAD,8BACf,cAAMA,IAYV4G,UAAY,SAACC,GACT,EAAKzC,SAAS,CAAE0C,aAAa,EAAMD,eAdpB,EAiBnBE,WAAa,WAAO,IAAD,EACY,EAAK/G,MAAMgH,SAA9BrD,EADO,EACPA,SAAUwC,EADH,EACGA,KAClB,EAAKnG,MAAMsE,SJuCZ,YAA8C,IAAnBX,EAAkB,EAAlBA,SAAUwC,EAAQ,EAARA,KACxC,OAAO,eACF7E,EAAW,CACRQ,MAAO,CAACwB,EAAkBA,EAA4BA,GAAyB,GAC/ElB,SAAS,kBAAD,OAAoB+D,EAApB,mBAAmCxC,GAC3CtB,OAAQd,II5CQ0F,CAAgB,CAAEd,OAAMxC,eAnB7B,EAsBnBuD,iBAAmB,SAACvF,EAAQwD,GACxB,OAAQxD,GACJ,IAAK,gBACD,EAAK3B,MAAMsE,SJiFhB,CACHnC,KAAMmB,EACNL,QInFyCkC,IACjC,EAAKnF,MAAMsE,SAASZ,EAAqByB,IACzC,EAAKf,SAAS,CAAE0C,aAAa,EAAOD,UAAW,KAC/C,MACJ,IAAK,cACD,EAAK7G,MAAMsE,SJmFhB,CACHnC,KAAMmB,EACNL,QIrFuCkC,IAC/B,EAAKf,SAAS,CAAE0C,aAAa,EAAOD,UAAW,KAC/C,MACJ,QACI,EAAKzC,SAAS,CAAE0C,aAAa,EAAOD,UAAW,OAlCxC,EAuCnBM,YAAc,WAAO,IAAD,EACmB,EAAKnD,MAAhC8C,EADQ,EACRA,YAAaD,EADL,EACKA,UAErB,OAAKC,EAEDJ,KAAqBG,EACd,kBAAC,GAAmB,CAAEvG,YAAa,EAAK4G,mBAG5C,kBAAC,GAAoB,CAAE5G,YAAa,EAAK4G,mBANvB,MAxCzB,EAAKlD,MAAQ,CACT8C,aAAa,EACbD,UAAW,IAJA,E,sDAQR,IAAD,EACqB9G,KAAKC,MAAMgH,SAA9BrD,EADF,EACEA,SAAUwC,EADZ,EACYA,KAClB,OAAOxC,GAAYwC,I,2CAyCD,IAAD,SACUpG,KAAKC,MAAMgH,SAA9BrD,EADS,EACTA,SAAUwC,EADD,EACCA,KAClB,OACI,yBAAKvG,UAAU,+BACX,yBAAKA,UAAU,eACX,yCAEJ,yBAAKA,UAAU,aACX,yBAAKA,UAAU,sBACX,yBAAKA,UAAU,wBACX,0BAAMA,UAAU,SAAhB,cACA,2BAAOA,UAAU,0BAA0BmF,KAAK,WAAWqC,UAAQ,EAACjC,MAAOxB,IAC3E,0BAAM/D,UAAU,sBAAsBE,QAAS,kBAAM,EAAK8G,UAAUF,MAChE,uBAAG9G,UAAU,oBAGrB,yBAAKA,UAAU,mBACX,0BAAMA,UAAU,SAAhB,SACA,2BAAOA,UAAU,0BAA0BmF,KAAK,OAAOqC,UAAQ,EAACjC,MAAOgB,IACvE,0BAAMvG,UAAU,sBAAsBE,QAAS,kBAAM,EAAK8G,UAAUF,MAChE,uBAAG9G,UAAU,oBAGrB,yBAAKA,UAAU,mCACX,4BAAQA,UAAU,yBAAyBE,QAASC,KAAKgH,WAAYK,UAAWrH,KAAKsH,WAArF,mB,0CAQJC,EAAe9C,GAAM,IAC7B0B,EAA+CoB,EAA/CpB,KAAMqB,EAAyCD,EAAzCC,aAAcC,EAA2BF,EAA3BE,QAASC,EAAkBH,EAAlBG,cAC/BC,EAA0B,UAAdxB,EAAKC,MAAoBqB,EAC3C,OACI,wBAAI/C,IAAKD,GACL,4BAAKA,GACL,4BAAK0B,EAAK3F,OACV,4BAAK2F,EAAKC,MACV,mCAAKoB,QAAL,IAAKA,OAAL,EAAKA,EAAcI,UAAU,EAAG,KAChC,mCAAKF,QAAL,IAAKA,OAAL,EAAKA,EAAeE,UAAU,EAAG,KACjC,4BAAI,0BAAM/H,UAAW8H,EAAY,UAAY,S,8CAKhC,IAAD,SACZE,EAAmB7H,KAAKC,MAAxB4H,eACR,OACI,yBAAKhI,UAAU,8CACX,yBAAKA,UAAU,eACX,iDAEJ,yBAAKA,UAAU,aACX,2BAAOA,UAAU,uBACb,+BACI,4BACI,wBAAIyF,MAAM,OAAV,KACA,wBAAIA,MAAM,OAAV,QACA,wBAAIA,MAAM,OAAV,QACA,wBAAIA,MAAM,OAAV,iBACA,wBAAIA,MAAM,OAAV,YACA,yCAGR,sCAEQuC,QAFR,IAEQA,GAFR,UAEQA,EAAgBC,uBAFxB,aAEQ,EAAiCrC,KAAI,SAACsC,EAAQtD,GAAT,OAAiB,EAAKuD,oBAAoBD,EAAQtD,Y,+BAU/G,OACI,yBAAK5E,UAAU,YACVG,KAAKiI,qBACLjI,KAAKkI,wBACLlI,KAAKoH,mB,GAvIChH,aA6IRwF,gBAEf,SAAyB3B,GAAQ,IAAD,EACkBA,EAAM4B,cAA5CC,EADoB,EACpBA,QAASmB,EADW,EACXA,SAAUY,EADC,EACDA,eAC3B,MAAO,CACH9C,QAASe,EACTmB,SAAUA,GAAsB,CAAErD,SAAU,GAAIwC,KAAM,IACtDyB,oBAPOjC,CAAyBgB,I,ICjJlCuB,G,kDACF,WAAYlI,GAAQ,IAAD,8BACf,cAAMA,IAwBVmI,QAAU,WAON,EAAKnI,MAAMM,aAAY,IAhCR,EAmCnB8H,UAAY,WACRtF,QAAQC,IAAI,WApCG,EAuCnBsF,cAAgB,SAACC,GACb,IAAMpD,EAASoD,EAAEpD,OACXH,EAAOG,EAAOH,KACdI,EAAqB,UAAbD,EAAO/C,KAAeoG,SAASrD,EAAOC,OAAOD,EAAOC,MAElE,EAAKf,SAAL,eACKW,EAAMI,KA7CI,EAiDnBqD,qBAAuB,SAACF,GACpB,IAAMpD,EAASoD,EAAEpD,OACXH,EAAOG,EAAOH,KACdI,EAiJd,SAAyBsD,GAKrB,IAJA,IAEIC,EAFAC,EAAS,GACTC,EAAUH,GAAUA,EAAOG,QAGtBC,EAAE,EAAGC,EAAKF,EAAQG,OAAQF,EAAEC,EAAMD,KACzCH,EAAME,EAAQC,IAEN5E,UACN0E,EAAOK,KAAKN,EAAIvD,OAASuD,EAAIO,MAGjC,OAAON,EA7JWO,CAAgBhE,GAE9B,EAAKd,SAAL,eACKW,EAAMI,KAvDI,EA2DnB7E,YAAc,SAACqB,GACP,WAAaA,EAET,EAAKwH,OAAOC,QAAQC,kBACpB,EAAKC,eAGT,EAAKtJ,MAAMM,eAhEf,EAAK0D,MAAQ,CACTzD,MAAM,GACN4F,KAAK,GACLG,eAAe,EACfD,kBAAkB,GAGtB,EAAK8C,OAASI,IAAMC,YATL,E,gEAcfzJ,KAAKC,MAAMsE,SHoCR,eACFhD,EAAW,CACRQ,MAAO,CAACwB,GAAuBA,IAAiC,GAChElB,SAAU,eACVC,OAAQd,O,mCGrCF0D,GACVnC,QAAQC,IAAI,SADG,MAGmDhD,KAAKiE,MAAjEzD,EAHS,EAGTA,MAAO4F,EAHE,EAGFA,KAAMG,EAHJ,EAGIA,eAAgBD,EAHpB,EAGoBA,kBAAmBD,EAHvC,EAGuCA,QACtDrG,KAAKC,MAAMsE,SHMZ,WAA4FtB,EAAII,GAAO,IAAjF7C,EAAgF,EAAhFA,MAAO4F,EAAyE,EAAzEA,KAAqBsD,EAAoD,EAAnEnD,eAA4BD,EAAuC,EAAvCA,kBAAmBD,EAAoB,EAApBA,QACrF,OAAO,eACF9E,EAAW,CACRQ,MAAO,CAACwB,GAAsBA,GAAgCA,IAA6B,GAC3FlB,SAAU,YACVC,OAAQd,EACRf,KAAM,CAAED,QAAO4F,OAAMsD,cAAapD,oBAAmBD,WACrD1E,KAAM,CAACsB,KAAII,UGbKsG,CAAW,CAAEnJ,QAAO4F,OAAMG,iBAAgBD,oBAAmBD,WAAUrG,KAAKoI,QAASpI,KAAKqI,c,+BAwD9G,IAAMpI,EAAQ,CACVK,MAAM,EACNE,MAAO,WACPE,UAAW,OACXD,KAAMT,KAAK2F,aACXpF,YAAaP,KAAKO,YAClBK,MAAO,YAEX,OAAO,kBAACP,EAAeJ,K,sCAGV,IAAD,EACiCD,KAAKC,MAA1C2J,EADI,EACJA,QAASC,EADL,EACKA,QAAkBzG,GADvB,EACciD,QADd,EACuBjD,OACnC,OACA,6BACKA,GACG,yBAAKvD,UAAU,qBAAqBiK,KAAK,QAAQtJ,MAAK,OAAE4C,QAAF,IAAEA,OAAF,EAAEA,EAAOyG,SAC3D,yCADJ,qBAIHD,GACG,yBAAK/J,UAAU,sBAAsBiK,KAAK,QAAQtJ,MAAOqJ,GACrD,8CADJ,yB,mCASE,IACFxD,EAAYrG,KAAKC,MAAjBoG,QADC,EAEiDrG,KAAKiE,MAAxDzD,EAFE,EAEFA,MAAO4F,EAFL,EAEKA,KAAMG,EAFX,EAEWA,eAAgBD,EAF3B,EAE2BA,kBACpC,OACI,yBAAKzG,UAAU,GAAGC,GAAG,aACfE,KAAK+J,gBACP,6BACI,8BAAM,oCAAN,wDAEJ,6BACA,0BAAMjK,GAAG,WAAWkK,IAAKhK,KAAKoJ,QAEtB,yBAAKvJ,UAAU,OACX,yBAAKA,UAAU,YACX,yBAAKA,UAAU,cACX,2BAAOoK,QAAQ,SAAf,eACA,2BAAOnK,GAAG,QAAQkF,KAAK,QAAQ5C,KAAK,OAAOvC,UAAU,eAAeoF,SAAUjF,KAAKsI,cAAelD,MAAO5E,EAAO0J,UAAQ,EAACC,WAAS,OAI9I,yBAAKtK,UAAU,OACX,yBAAKA,UAAU,YACX,yBAAKA,UAAU,cACX,2BAAOoK,QAAQ,QAAf,SACA,2BAAOnK,GAAG,OAAOkF,KAAK,OAAO5C,KAAK,OAAOvC,UAAU,eAAeoF,SAAUjF,KAAKsI,cAAelD,MAAOgB,EAAM8D,UAAQ,OAKjI,yBAAKrK,UAAU,OACX,yBAAKA,UAAU,YACX,yBAAKA,UAAU,cACX,2BAAOoK,QAAQ,SAAf,qBACA,2BAAOnK,GAAG,QAAQkF,KAAK,iBAAiB5C,KAAK,SAASvC,UAAU,eAAeoF,SAAUjF,KAAKsI,cAAelD,MAAOmB,EAAgB2D,UAAQ,EAACC,WAAS,MAG9J,yBAAKtK,UAAU,YACX,yBAAKA,UAAU,cACX,2BAAOoK,QAAQ,cAAf,wBACA,2BAAOnK,GAAG,aAAakF,KAAK,oBAAoB5C,KAAK,SAASvC,UAAU,eACpEoF,SAAUjF,KAAKsI,cAAelD,MAAOkB,EAAmB4D,UAAQ,OAIhF,yBAAKrK,UAAU,OACX,yBAAKA,UAAU,YACX,yBAAKA,UAAU,cACX,2BAAOoK,QAAQ,WAAf,WACA,4BAAQG,UAAQ,EAACvK,UAAU,eAAeC,GAAG,UAAUkF,KAAK,UAAUC,SAAUjF,KAAKyI,qBAAsByB,UAAQ,GAC9G7D,GAAWA,EAAQZ,KAChB,SAAC4E,EAAGvB,GAAJ,OAAU,4BAAQpE,IAAKoE,EAAG1D,MAAOiF,EAAEvK,IAAKuK,EAAElK,uB,GA9J3DC,aAqNZwF,oBAEf,SAAyB3B,GAAQ,IAAD,IAC5B,MAAO,CACHuC,MAAOvC,EAAMyC,YAAYZ,QAEzB8D,QAAO,UAAE3F,EAAMyC,YAAY4D,qBAApB,aAAE,EAAiCV,QAC1CC,SAAS,UAAA5F,EAAMyC,YAAY4D,qBAAlB,eAAiCC,WAAYtG,EAAMyC,YAAY4D,cAAcC,SAASC,MAC/FnE,QAASpC,EAAMyC,YAAYL,QAC3BjD,MAAOa,EAAMyC,YAAY+D,eAAiBxG,EAAMyC,YAAY+D,cAAcD,SATnE5E,CAAyBuC,I,ICtNlCuC,G,kDAEF,WAAYzK,GAAQ,IAAD,8BACf,cAAMA,IAWV0K,UAAY,WACR,EAAKtG,SAAS,CAAEuG,cAAc,KAbf,EAgBnBC,mBAAqB,WAAmB,IAAlBC,EAAiB,wDACnC,EAAKzG,SAAS,CAAEuG,cAAc,IAE1BE,GACA,EAAK7K,MAAMsE,SAASwB,OApBT,EAwInBqB,YAAc,WACV,OAAO,EAAKnD,MAAM2G,aACZ,kBAAC,GAAkB,CAAErK,YAAa,EAAKsK,qBACvC,MAzIN,EAAK5G,MAAQ,CACTO,OAAQ,GACRoG,cAAc,GAJH,E,gEASf5K,KAAKC,MAAMsE,SAASwB,Q,2CAcF,IAAD,QACZ/F,KAAKC,MAAMuG,OAASxG,KAAKC,MAAMmD,OAChC2H,YAAW,kBAAM,EAAK9K,MAAMsE,SAASwB,QAAe,O,qCAI5C,IAAD,OACX,OACI,yBAAKlG,UAAU,+BACX,yBAAKA,UAAU,eACX,+CAEJ,yBAAKA,UAAU,aACX,yBAAKA,UAAU,kCACX,yBAAKA,UAAU,UACX,2BAAOA,UAAU,0BAA0BmF,KAAK,gBAC5CC,SAAU,SAACC,GAAD,OAAS,EAAKb,SAAS,CAAEG,OAAQU,EAAIC,OAAOC,SAAUhD,KAAK,SAGzE,0BAAMvC,UAAU,2BACZE,QAAS,kBAAM,EAAKE,MAAMsE,SAASyB,GAAW,EAAK/B,MAAMO,WAD7D,WAGJ,6BACI,0BAAM3E,UAAU,sBAAsBE,QAASC,KAAK2K,WAApD,kB,iCAQbxE,EAAM1B,GAAM,IACbjE,EAAmD2F,EAAnD3F,MAAO4F,EAA4CD,EAA5CC,KAAME,EAAsCH,EAAtCG,kBAAmBC,EAAmBJ,EAAnBI,eACtC,OACI,wBAAI7B,IAAKD,GACL,4BAAKA,EAAM,GACX,4BAAKjE,GACL,4BAAK4F,GACL,4BAAKE,GACL,4BAAKC,GACL,4BACI,kBAAC,GAAiB,CAAEJ,a,qCAMpB,IAAD,OACL6E,EAAYC,KAAKC,KAAKlL,KAAKC,MAAMuG,MAAMwC,OAAS,IAChDmC,EAAUnL,KAAKC,MAAM6D,OAASkH,EAC9BI,EAAcpL,KAAKC,MAAM6D,OAAS,EACxC,OACI,yBAAKjE,UAAU,gBACX,6BACI,wBAAIA,UAAU,gDACV,wBAAIA,UAAW,cAAiBuL,EAA2B,GAAb,YAC1CrL,QAAS,kBAAMqL,GAAe,EAAKnL,MAAMsE,SAASV,GAAa,EAAK5D,MAAM6D,OAAS,MACnF,0BAAMjE,UAAU,YAAYwL,SAAS,MAArC,aAGA9F,IAAE+F,MAAM,EAAGN,EAAY,EAAG,GAAGvF,KAAI,SAAC8F,EAAM9G,GACpC,IAAM+G,EAAW,EAAKvL,MAAM6D,SAAWyH,EACvC,OACI,wBAAI1L,UAAW,cAAgB2L,EAAW,SAAW,IAAK9G,IAAKD,EAC3D1E,QAAS,kBAAM,EAAKE,MAAMsE,SAASV,GAAa0H,MAChD,0BAAM1L,UAAU,aAAc0L,OAK9C,wBAAI1L,UAAW,cAAiBsL,EAAuB,GAAb,YACtCpL,QAAS,kBAAMoL,GAAW,EAAKlL,MAAMsE,SAASV,GAAa,EAAK5D,MAAM6D,OAAS,MAC/E,0BAAMjE,UAAU,YAAYwL,SAAS,MAArC,c,wCAQL,IAAD,SACYrL,KAAKC,MAAvBuG,EADM,EACNA,MACFiF,EAAuB,IAFf,EACC3H,OACS,GAClB4H,GAAY,OAALlF,QAAK,IAALA,OAAA,EAAAA,EAAOwC,QAASyC,EAAS,GAAK,IAAW,OAALjF,QAAK,IAALA,OAAA,EAAAA,EAAOwC,QAASyC,EAC3DE,EAAepG,IAAEqG,MAAMpF,EAAOiF,EAAOA,EAAQC,GACnD,OACI,yBAAK7L,UAAU,uCACX,yBAAKA,UAAU,eACX,6CAEJ,yBAAKA,UAAU,aACX,2BAAOA,UAAU,uBACb,+BACI,4BACI,wBAAIyF,MAAM,OAAV,KACA,wBAAIA,MAAM,OAAV,SACA,wBAAIA,MAAM,OAAV,QACA,wBAAIA,MAAM,OAAV,UACA,wBAAIA,MAAM,OAAV,aACA,+BAGR,sCAEQqG,QAFR,IAEQA,OAFR,EAEQA,EAAclG,KAAI,SAACU,EAAM1B,GAAP,OAAe,EAAKgC,WAAWN,EAAM1B,QAIlEzE,KAAK6L,mB,+BAalB,OACI,yBAAKhM,UAAU,kBACX,yBAAKA,UAAU,WACVG,KAAK8L,eACL9L,KAAK+L,kBACL/L,KAAKoH,oB,GAvJGhH,aA8JdwF,gBAEf,SAAyB3B,GACrB,MAAO,CACHuC,MAAOvC,EAAMyC,YAAYZ,QACzB3D,UAAW8B,EAAMyC,YAAYvE,UAC7B2B,OAAQG,EAAMyC,YAAY5C,QAAU,KAN7B8B,CAAyB8E,IAUxC,IAAMsB,GAAe,SAAC,GAAc,IAAZ7F,EAAW,EAAXA,KAAW,EACG8F,oBAAS,GADZ,mBACxBC,EADwB,KACbC,EADa,OAEGF,mBAAS,GAFZ,mBAExBG,EAFwB,KAEbC,EAFa,KAGzB9H,EAAW+H,cAOjB,OALAC,qBAAU,WACNJ,GAAa,GACbE,EAAa,KACd,CAAClG,IAGA,yBAAKtG,UAAU,6BAEPqM,EAEQ,oCACI,2BAAOlH,KAAK,UAAU5C,KAAK,SAASvC,UAAU,6BAA6BoF,SAAU,SAACC,GAAD,OAASmH,EAAanH,EAAIC,OAAOC,UACtH,0BAAMvF,UAAW,2BAA6BuM,EAAY,EAAI,GAAK,YAAa5L,MAAM,WAAW4E,MAAOgH,EACpGrM,QAAS,kBAAOqM,EAAY,GAAO7H,GJ7HvC6B,EI6H4DD,EAAKC,KJ7H3DoG,EI6HiEJ,EJ5HxF,eACF7K,EAAW,CACRQ,MAAO,CAACwB,GAAuBA,GAAiCA,IAA8B,GAC9FlB,SAAS,sBAAD,OAAwB+D,EAAxB,oBAAwCoG,GAChDlK,OAAQd,MALb,IAAqB4E,EAAMoG,II8HF,uBAAG3M,UAAU,kBAKrB,0BAAMA,UAAU,2BAA2BW,MAAM,WAAWT,QAAS,kBAAMoM,GAAa,KACpF,uBAAGtM,UAAU,mB,QClMnCmE,G,kDAEF,WAAY/D,GAAQ,IAAD,8BACf,cAAMA,IAYVwM,gBAAkB,SAACvH,GACfA,EAAIwH,iBACJ,EAAKzM,MAAMM,YAAY,SAAvB,gBAAqC,EAAK0D,SAb1C,EAAKA,MAAQ,CACT0I,UAAW,GACXC,SAAU,GACV9H,YAAa,GACbb,MAAO,GACPY,IAAK,GACLD,KAAM,GACNiI,OAAQ,IATG,E,yDAkBL,IAAD,OACT,OACI,yBAAKhN,UAAU,sBACX,0BAAMiN,SAAU9M,KAAKyM,iBACjB,yBAAK5M,UAAU,qBACX,2BAAOA,UAAU,QAAQoK,QAAQ,aAAjC,cAAwD,0BAAMpK,UAAU,eAAhB,MACxD,2BAAOuC,KAAK,YAAYtC,GAAG,YAAYD,UAAU,sBAC7CoF,SAAU,SAACC,GAAD,OAAS,EAAKb,SAAS,CAAEsI,UAAWzH,EAAIC,OAAOC,SACzDC,YAAY,mBAAmB6E,UAAQ,KAE/C,yBAAKrK,UAAU,qBACX,2BAAOA,UAAU,QAAQoK,QAAQ,YAAjC,aAAsD,0BAAMpK,UAAU,eAAhB,MACtD,2BAAOA,UAAU,sBAAsBC,GAAG,WAAWuF,YAAY,kBAC7DJ,SAAU,SAACC,GAAD,OAAS,EAAKb,SAAS,CAAEuI,SAAU1H,EAAIC,OAAOC,SAAU8E,UAAQ,KAElF,yBAAKrK,UAAU,qBACX,2BAAOA,UAAU,QAAQoK,QAAQ,SAAjC,SAA+C,0BAAMpK,UAAU,eAAhB,MAC/C,2BAAOA,UAAU,sBAAsBC,GAAG,QAAQuF,YAAY,qBAAqB0H,UAAU,KACzF9H,SAAU,SAACC,GAAD,OAAS,EAAKb,SAAS,CAAES,YAAaI,EAAIC,OAAOC,SAAU8E,UAAQ,KAErF,yBAAKrK,UAAU,qBACX,2BAAOA,UAAU,QAAQoK,QAAQ,UAAjC,UAAiD,0BAAMpK,UAAU,eAAhB,MACjD,2BAAOA,UAAU,sBAAsBC,GAAG,SAASuF,YAAY,eAC3DJ,SAAU,SAACC,GAAD,OAAS,EAAKb,SAAS,CAAEwI,OAAQ3H,EAAIC,OAAOC,YAE9D,yBAAKvF,UAAU,wCACX,2BAAOA,UAAU,QAAQoK,QAAQ,QAAjC,QAA6C,0BAAMpK,UAAU,eAAhB,MAC7C,2BAAOA,UAAU,qBAAqBC,GAAG,OAAOuF,YAAY,aACxDJ,SAAU,SAACC,GAAD,OAAS,EAAKb,SAAS,CAAEO,KAAMM,EAAIC,OAAOC,SAAU8E,UAAQ,IAC1E,2BAAOrK,UAAU,mBAAmBoK,QAAQ,SAA5C,SAA0D,0BAAMpK,UAAU,eAAhB,MAC1D,2BAAOA,UAAU,qBAAqBC,GAAG,QAAQuF,YAAY,cACzDJ,SAAU,SAACC,GAAD,OAAS,EAAKb,SAAS,CAAEJ,MAAOiB,EAAIC,OAAOC,SAAU8E,UAAQ,KAE/E,yBAAKrK,UAAU,0BACX,2BAAOA,UAAU,QAAQoK,QAAQ,WAAjC,WAAmD,0BAAMpK,UAAU,eAAhB,MACnD,2BAAOA,UAAU,qBAAqBC,GAAG,UAAUsC,KAAK,SAASiD,YAAY,gBAC7EJ,SAAU,SAACC,GAAD,OAAS,EAAKb,SAAS,CAACQ,IAAKK,EAAIC,OAAOC,SAAS8E,UAAQ,KAEvE,6BACA,yBAAKrK,UAAU,8BACX,4BAAQA,UAAU,uBAAuBuC,KAAK,UAA9C,UACA,4BAAQvC,UAAU,oBAAoBE,QAASC,KAAKC,MAAMM,aAA1D,c,+BAQhB,IAAMN,EAAK,6BACJD,KAAKC,OADD,IAEPQ,KAAMT,KAAK2F,aACX/E,MAAO,WACPE,UAAU,IAEd,OAAO,kBAACT,EAAeJ,O,GA3EDG,aA+EfwF,gBAEf,SAAyB3B,GACrB,MAAO,CACHG,OAAQH,EAAM4B,cAAcmH,aAJrBpH,CAAyB5B,I,IC9ElCiJ,G,kDAEF,WAAYhN,GAAQ,IAAD,8BACf,cAAMA,IAgBViN,eAAiB,WACb,EAAKjN,MAAMsE,SAASf,EAAa,EAAKS,MAAMO,UAlB7B,EAqBnB2I,eAAiB,WACb,EAAKlN,MAAMsE,SRwHR,CACHnC,KAAMmB,KQ/IS,EAyBnB6J,wBAA0B,SAACxL,EAAQa,GAC3B,WAAab,EACb,EAAK3B,MAAMsE,SRKhB,YAAuF,IAA/DoI,EAA8D,EAA9DA,UAAWC,EAAmD,EAAnDA,SAAU9H,EAAyC,EAAzCA,YAAa+H,EAA4B,EAA5BA,OAAQjI,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,IAAKZ,EAAS,EAATA,MAChF,OAAO,eACF1C,EAAW,CACRQ,MAAO,CAACwB,EAAoBA,EAA8BA,GAA2B,GACrFlB,SAAU,cACVC,OAAQd,EACRf,KAAM,CACFkM,YACAC,WACA9H,cACAH,QAAS,CACLkI,SACAjI,OACAX,QACAY,UQnBYwI,CAAa5K,IAEjC,EAAKxC,MAAMsE,SAASR,OA7BT,EAkInBqD,YAAc,WAAO,IACTkG,EAAoB,EAAKrN,MAAzBqN,gBAER,IAAKA,EAAiB,OAAO,KAE7B,IAAMrN,EAAQ,CACVK,KAAMgN,EACN9M,MAAO,iBACPD,YAAa,EAAK6M,yBAGtB,OACI,kBAACG,GAAmBtN,IA5IxB,EAAKgE,MAAQ,CACTO,OAAQ,IAHG,E,gEAQfxE,KAAKC,MAAMsE,SAASb,O,2CAGF,IAAD,QACZ1D,KAAKC,MAAMuN,SAAWxN,KAAKC,MAAMmD,OAClC2H,YAAW,kBAAM,EAAK9K,MAAMsE,SAASb,OAAiB,O,qCAoB9C,IAAD,OACX,OACI,yBAAK7D,UAAU,+BACX,yBAAKA,UAAU,eACX,iDAEJ,yBAAKA,UAAU,aACX,yBAAKA,UAAU,kCACX,yBAAKA,UAAU,UACX,2BAAOA,UAAU,0BAA0BmF,KAAK,gBAAgBC,SAAU,SAACC,GAAD,OAAS,EAAKb,SAAS,CAAEG,OAAQU,EAAIC,OAAOC,WACtH,0BAAMvF,UAAU,2BAA2BE,QAASC,KAAKkN,gBAAzD,WAEJ,6BACI,0BAAMrN,UAAU,sBAAsBE,QAASC,KAAKmN,gBAApD,oB,mCAQX/I,EAAQK,GACjB,OACI,wBAAIC,IAAKD,GACL,4BAAKA,EAAM,GACX,4BAAKL,EAAOjE,UACZ,4BAAKiE,EAAOO,QAAQC,KAApB,KAA4BR,EAAOO,QAAQV,MAA3C,KAAoDG,EAAOO,QAAQE,KACnE,4BAAKT,EAAOU,gB,qCAKR,IAAD,OACLkG,EAAYC,KAAKC,KAAKlL,KAAKC,MAAM8E,QAAQiE,OAAS,IAClDmC,EAAUnL,KAAKC,MAAM6D,OAASkH,EAC9BI,EAAcpL,KAAKC,MAAM6D,OAAS,EACxC,OACI,yBAAKjE,UAAU,gBACX,6BACI,wBAAIA,UAAU,gDACV,wBAAIA,UAAW,cAAiBuL,EAA2B,GAAb,YAC1CrL,QAAS,kBAAMqL,GAAe,EAAKnL,MAAMsE,SAASV,GAAa,EAAK5D,MAAM6D,OAAS,MACnF,0BAAMjE,UAAU,YAAYwL,SAAS,MAArC,aAGA9F,IAAE+F,MAAM,EAAGN,EAAY,EAAG,GAAGvF,KAAI,SAAC8F,EAAM9G,GACpC,IAAM+G,EAAW,EAAKvL,MAAM6D,SAAWyH,EACvC,OACI,wBAAI1L,UAAW,cAAgB2L,EAAW,SAAW,IAAK9G,IAAKD,EAC3D1E,QAAS,kBAAM,EAAKE,MAAMsE,SAASV,GAAa0H,MAChD,0BAAM1L,UAAU,aAAc0L,OAK9C,wBAAI1L,UAAW,cAAiBsL,EAAuB,GAAb,YACtCpL,QAAS,kBAAMoL,GAAW,EAAKlL,MAAMsE,SAASV,GAAa,EAAK5D,MAAM6D,OAAS,MAC/E,0BAAMjE,UAAU,YAAYwL,SAAS,MAArC,c,0CAQH,IAAD,SACYrL,KAAKC,MAAzB8E,EADQ,EACRA,QACF0G,EAAuB,IAFb,EACC3H,OACO,GAClB4H,GAAc,OAAP3G,QAAO,IAAPA,OAAA,EAAAA,EAASiE,QAASyC,EAAS,GAAK,IAAa,OAAP1G,QAAO,IAAPA,OAAA,EAAAA,EAASiE,QAASyC,EAC/DgC,EAAiBlI,IAAEqG,MAAM7G,EAAS0G,EAAOA,EAAQC,GACvD,OACI,yBAAK7L,UAAU,uCACX,yBAAKA,UAAU,eACX,+CAEJ,yBAAKA,UAAU,aACX,2BAAOA,UAAU,uBACb,+BACI,4BACI,wBAAIyF,MAAM,OAAV,KACA,wBAAIA,MAAM,OAAV,QACA,wBAAIA,MAAM,OAAV,WACA,wBAAIA,MAAM,OAAV,WAGR,sCAEQmI,QAFR,IAEQA,OAFR,EAEQA,EAAgBhI,KAAI,SAACrB,EAAQK,GAAT,OAAiB,EAAKiB,aAAatB,EAAQK,QAI1EzE,KAAK6L,mB,+BAuBlB,OACI,yBAAKhM,UAAU,oBACVG,KAAK8L,eACL9L,KAAK0N,oBACL1N,KAAKoH,mB,GAzJShH,aA+JhBwF,gBAEf,SAAyB3B,GACrB,MAAO,CACHc,QAASd,EAAM4B,cAAcC,QAC7B1C,MAAOa,EAAM4B,cAAczC,MAC3BU,OAAQG,EAAM4B,cAAc/B,QAAU,EACtCwJ,gBAAiBrJ,EAAM4B,cAAcyH,mBAP9B1H,CAAyBqH,I,cC9JlCU,G,kDACF,WAAY1N,GAAQ,IAAD,8BACf,cAAMA,IAaV2N,QAAU,SAAC1I,GACPA,EAAIwH,iBADW,IT+EDnK,ES/EC,EAEgB,EAAK0B,MAA5B4J,EAFO,EAEPA,SAAUC,EAFH,EAEGA,SAClB,EAAK7N,MAAMsE,UT4EGhC,ES5EY,CAAEsL,WAAUC,YT6EnC,eACFvM,EAAW,CACRQ,MAAO,CAACwB,EAAeA,EAAyBA,GAAsB,GACtElB,SAAU,cACVC,OAAQd,EACRf,KAAM8B,OSjGV,EAAK0B,MAAQ,CACT4J,SAAU,GACVC,SAAU,GACVC,OAAQ,CACJ,mFACA,iGACA,mFACA,qFATO,E,6DAqBf,OACI,kBAACC,GAAA,EAAD,KAEQzI,IAAEE,IAAIzF,KAAKiE,MAAM8J,QAAQ,SAACE,EAAKxJ,GAC3B,OACI,kBAACuJ,GAAA,EAASE,KAAV,CAAexJ,IAAKD,GAChB,yBAAK0J,IAAKF,EAAKpO,UAAU,UAAUuO,IAAI,KACvC,kBAACJ,GAAA,EAASK,QAAV,KACI,wBAAIxO,UAAU,aAAd,+C,mCAW5B,OACI,yBAAKA,UAAU,kBACX,4FACA,yBAAKA,UAAU,QACVG,KAAKsO,qB,wCAMH,IAAD,OACd,OACI,yBAAKzO,UAAU,uCACX,0BAAMiN,SAAU9M,KAAK4N,SACjB,yBAAK/N,UAAU,oBACX,sCAEJ,yBAAKA,UAAU,wCACX,2BAAOoK,QAAQ,YAAf,YACA,2BAAOpK,UAAU,oBACbC,GAAG,WAAWuF,YAAY,iBAAiB6E,UAAQ,EACnDjF,SAAU,SAACC,GAAD,OAAS,EAAKb,SAAS,CAAEwJ,SAAU3I,EAAIC,OAAOC,YAEhE,yBAAKvF,UAAU,wCACX,2BAAOoK,QAAQ,YAAf,YACA,2BAAO7H,KAAK,WAAWvC,UAAU,oBAC7BC,GAAG,WAAWuF,YAAY,WAAW6E,UAAQ,EAC7CjF,SAAU,SAACC,GAAD,OAAS,EAAKb,SAAS,CAAEyJ,SAAU5I,EAAIC,OAAOC,YAEhE,yBAAKvF,UAAU,8BACX,4BAAQA,UAAU,kBAAkBuC,KAAK,UAAzC,WAGR,yBAAKvC,UAAU,oCACX,0CACA,6CACA,kDACA,qD,+BAOZ,OACI,yBAAKA,UAAU,kDACVG,KAAKC,MAAMsO,gBAAkBvO,KAAKwO,aAAexO,KAAKyO,uB,GAvFpDrO,aA6FJwF,gBAEf,SAAyB3B,GACrB,OAAOA,IAHI2B,CAAyB8I,YAAWf,K,UClGtCgB,GAAsB,CAC/BC,gBAAiB,CAAC,YAClBC,kBAAmB,CAAC,gBAAiB,gBAAiB,cACtDC,UAAW,CAAC,iBACZC,OAAQ,CAAC,gBAAiB,WAAY,kBAUpCC,GAAiB,CACnB,CAAElP,GAAI,EAAGmP,KAAM,IAAKC,MAAO,OAAQC,KAAM,WACzC,CAAErP,GAAI,EAAGmP,KAAM,qBAAsBC,MAAO,oBAAqB9M,KAP9C,oBAO4E+M,KAAM,mBACrG,CAAErP,GAAI,EAAGmP,KAAM,mBAAoBC,MAAO,kBAAmB9M,KAT5C,kBASwE+M,KAAM,WAC/F,CAAErP,GAAI,EAAGmP,KAAM,YAAaC,MAAO,WAAY9M,KARpC,YAQ0D+M,KAAM,cAC3E,CAAEF,KAAM,SAAUC,MAAO,SAAU9M,KAR3B,SAQ8C+M,KAAM,oBAGzD,SAASC,GAAoBC,EAAUC,GAE1C,OAOJ,SAAiCD,GAC7B,OAAOL,GAAexK,QAAO,SAAA+G,GAAI,OAAIA,EAAK0D,OAASI,KATrCE,CAAwBF,GACzB7K,QAAO,SAAA+G,GAAI,OAAIiE,GAAQ,CAACpN,KAAMmJ,EAAKnJ,KAAMkN,uBAAmBtG,OAAS,EAWtF,SAASwG,GAAT,GAA4C,IAAzBpN,EAAwB,EAAxBA,KAAMkN,EAAkB,EAAlBA,gBACrB,GAAI/J,IAAEkK,QAAQrN,GACV,OAAO,EAEX,GAAImD,IAAEkK,QAAQH,GACV,OAAO,EAEX,IAAMI,EAAsBf,GAAoBvM,GAE1CuN,EAAUL,EAAgB9K,QAAO,SAAAoL,GAAE,OAAIrK,IAAEsK,UAAUH,GAAqB,SAAAI,GAAE,OAAIA,IAAOF,MAAO,KAElG,OAAQrK,IAAEkK,QAAQE,G,IC1ChBI,G,kDACF,WAAY9P,GAAQ,IAAD,8BACf,cAAMA,IAMVuL,SAAW,SAACD,GAAU,IACa8D,EAAiB,EAAKpP,MAA7C+P,QAAWC,SAAYZ,SAC/B,OAAO9D,EAAK0D,OAASI,GATN,EAYnBa,YAAc,SAAC3E,GACO,WAAdA,EAAK0D,KACL,EAAKhP,MAAMsE,SX4FZ,CACHnC,KAAMmB,IW3FF,EAAKtD,MAAM+P,QAAQ/G,KAAKsC,EAAK0D,OAdjC,EAAKhL,MAAQ,CACTkM,MAAO,IAHI,E,wDAqBf,OACI,yBAAKtQ,UAAU,sCACX,yBAAKA,UAAU,2BACX,0BAAMA,UAAU,gBAAhB,0B,oCAMD,IDRcyP,ECQf,OAGV,ODXyBA,ECSgBtP,KAAKC,MAAMmQ,YDRjDpB,GAAexK,QAAO,SAAA+G,GAAI,OAAIiE,GAAQ,CAACpN,KAAMmJ,EAAKnJ,KAAMkN,wBCWjD7J,KAAI,SAAC8F,EAAM9G,GACb,IAAM+G,EAAW,EAAKA,SAASD,GAC/B,OACI,wBAAI1L,UAAW,aAAe2L,EAAW,SAAW,IAAK9G,IAAKD,EAAK1E,QAAS,kBAAM,EAAKmQ,YAAY3E,KAC/F,0BAAM1L,UAAW,aAAe2L,EAAW,SAAW,KAClD,uBAAG3L,UAAW,kBAAoB0L,EAAK4D,OAAW5D,EAAK2D,a,+BAU3E,OACI,yBAAKrP,UAAU,6BAA6BC,GAAG,mBAC3C,yBAAKD,UAAU,IACX,yBAAKA,UAAU,oBACf,wBAAIA,UAAU,+BACTG,KAAKqQ,qB,GAvDRjQ,aA+DPsO,eAAWqB,ICnELO,G,uKAEb,OACI,yBAAKzQ,UAAU,iBAAiBC,GAAG,iBAC/B,yBAAKD,UAAU,oBACf,yBAAKA,UAAU,iDACX,yBAAKA,UAAU,4BAA4BiK,KAAK,UAC5C,0BAAMjK,UAAU,WAAhB,eAEJ,yBAAKA,UAAU,4BAA4BiK,KAAK,UAC5C,0BAAMjK,UAAU,WAAhB,eAEJ,yBAAKA,UAAU,4BAA4BiK,KAAK,UAC5C,0BAAMjK,UAAU,WAAhB,qB,GAbsBO,aCExCmQ,G,uKAEE,OAAKvQ,KAAKC,MAAMsO,iBACRiC,GAA8BxQ,KAAKC,MAAM+P,QAAQC,SAASZ,SAAUrP,KAAKC,MAAMmQ,aAGhF,KAFI,kBAAC,IAAD,CAAUK,GAAG,U,GAJFrQ,aAUfsO,eAAW6B,ICdbhN,GACE,YADFA,GAEK,eAGLmN,GACF,YADEA,GAEA,aAFAA,GAIA,aAGTC,GAAQ,EAKL,SAASC,GAAT,GAAwD,IAArCpQ,EAAoC,EAApCA,MAAOqJ,EAA6B,EAA7BA,QAASgH,EAAoB,EAApBA,UAAWC,EAAS,EAATA,OACjD,MAAO,CACH1O,KAAMmB,GACNL,QAAS,CACLqI,KAAM,CACF/K,QACAqJ,UACA/J,GAVL6Q,KAWKI,OAAQF,EACRC,YAMT,SAASE,GAAYlR,GACxB,MAAO,CACHsC,KAAMmB,GACNL,QAAS,CACLpD,OCDGmR,OAhCf,YAAyC,IAAjB1F,EAAgB,EAAhBA,KAAM2F,EAAU,EAAVA,OACpBC,EAAYC,mBAQlB,OAPAD,EAAU9H,QAAU6H,EAEpB3E,qBAAU,WACN,IAAMzM,EAAKiL,YAAW,kBAAMoG,EAAU9H,QAAQkC,KAAO,KACrD,OAAO,kBAAM8F,aAAavR,MAC3B,CAACyL,IAGA,yBAAK1L,UAAU,uBACX,yBAAKA,UAAW,yBAA2B0L,EAAKwF,QAC5C,4BAAQlR,UAAU,WAAW0L,EAAK/K,OAElC,0BAAM4B,KAAK,SAASvC,UAAU,kBAAkBE,QAAS,kBAAMmR,EAAO3F,KAClE,0BAAM+F,cAAY,QAAlB,UAGR,yBAAKzR,UAAU,cACV0L,EAAK1B,QACN,yBAAKhK,UAAU,kCAEP0F,IAAEE,IAAI8F,EAAKuF,QAAQ,SAAC1N,EAAOqB,GACvB,OAAO,0BAAMC,IAAKD,GAAMc,IAAEgM,SAASnO,GAASA,EAAMyG,QAAUzG,UCpBlFoO,G,4MAEFC,UAAY,SAAClG,GACTR,YAAW,kBAAM,EAAK9K,MAAMsE,SAASyM,GAAYzF,EAAKzL,OAAM,M,EAGhE4R,cAAgB,SAACnG,GACb,EAAKtL,MAAMsE,SAASyM,GAAYzF,EAAKzL,M,4DAG1B,IAAD,OACFqQ,EAAUnQ,KAAKC,MAAfkQ,MACR,OACI,yBAAKtQ,UAAU,UAEP0F,IAAEE,IAAI0K,GAAO,SAAC5E,EAAM9G,GAChB,OAAO,kBAAC,GAAD,cAAkB,CAAC8G,OAAM2F,OAAQ,EAAKQ,eAAtC,CAAsDhN,IAAKD,W,+BAQlF,OACI,yBAAK5E,UAAU,mBACVG,KAAK2R,mB,GA1BOvR,aAgCdwF,gBAEf,SAAyB3B,GACrB,MAAO,CACHkM,MAAOlM,EAAM2N,aAAazB,SAJnBvK,CAAyB4L,I,ICzBlCK,G,kDAEJ,WAAY5R,GAAQ,IAAD,8BACjB,cAAMA,IAMRC,cAAgB,WACd,EAAKmE,SAAS,CAAEyN,eAAgB,EAAK7N,MAAM6N,iBAN3C,EAAK7N,MAAQ,CACX6N,eAAe,GAHA,E,qDAYjB,OACE,kBAAC,IAAD,CAAQC,SAAkD,aACxD,yBAAKlS,UAAW,eAAiBG,KAAKiE,MAAM6N,cAAgB,GAAK,UAAWhS,GAAG,WAC7E,kBAAC,GAAD,MACA,kBAAC,GAAoBE,KAAKC,OAC1B,kBAAC,GAAD,MACA,kBAAC,GAAYD,KAAKC,OAClB,yBAAKJ,UAAU,wBACb,kBAAC,EAAD,eAAKK,cAAeF,KAAKE,eAAmBF,KAAKC,QACjD,yBAAKJ,UAAU,mBACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOmS,OAAK,EAACC,KAAK,KAChB,kBAAC,GAASjS,KAAKC,QAEjB,kBAAC,IAAD,CAAOgS,KAAK,aACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,oBACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,sBACV,kBAAC,GAAD,gB,GAnCA7R,aA8CHwF,gBAEf,SAAyB3B,GACvB,MAAO,CACHsK,gBAAiBtK,EAAMiO,YAAY3D,gBACnC6B,YAAanM,EAAMiO,YAAY9B,YAC/BjQ,SAAU8D,EAAMiO,YAAY/R,YANnByF,CAAyBiM,IC/CpBM,QACW,cAA7BC,OAAOnC,SAASoC,UAEe,UAA7BD,OAAOnC,SAASoC,UAEhBD,OAAOnC,SAASoC,SAASC,MACvB,2D,aChBAC,GAAY,CACdzM,QAAS,GACT3D,WAAW,GCFf,IAAMoQ,GAAY,CACdzM,QAAS,GACTmB,SAAU,CACNb,KAAM,GACNxC,SAAU,IAEdiE,eAAgB,ICNb,IAAM2K,GACL,UADKA,GAEI,cAFJA,GAGH,YCYV,SAASC,KACL,MAAO,CACHlE,iBAAkBhJ,IAAEkK,QAAQiD,aAAaC,QAAQH,KACjDpC,YAAasC,aAAaC,QAAQH,IAAyBI,KAAKC,MAAMH,aAAaC,QAAQH,KAA0B,GACrHrS,SAAUuS,aAAaC,QAAQH,KAIxBN,OAtBf,WAAgE,IAA3CjO,EAA0C,uDAAlC,CAACsK,iBAAiB,GAC3C,OAD2D,iCACpD,6BACAtK,GACAwO,OCJLK,GAAW,CACb3C,MAAO,IAoBI4C,OAjBf,WAA2C,IAA3B9O,EAA0B,uDAAlB6O,GAAUlR,EAAQ,uCAC9BQ,EAAkBR,EAAlBQ,KAAMc,EAAYtB,EAAZsB,QACd,OAAQd,GACJ,KAAKmB,GACD,MAAO,CACH4M,MAAOlM,EAAMkM,MAAM6C,OAAO9P,EAAQqI,OAG1C,KAAKhI,GACD,MAAO,CACH4M,MAAOlM,EAAMkM,MAAM3L,QAAO,SAAA+G,GAAI,OAAIA,EAAKzL,KAAOoD,EAAQpD,OAE9D,QACI,OAAOmE,ICbJgP,8BAAgB,CAACpN,cJKjB,WAA6C,IAAD,EAA3B5B,EAA2B,uDAAnBsO,GAAW3Q,EAAQ,uCAC/CQ,EAAkBR,EAAlBQ,KAAMc,EAAYtB,EAAZsB,QACd,OAAQd,GACJ,KAAKmB,EAOL,KAAKA,EACD,OAAO,6BACAU,GADP,IAEI6B,QAAS5C,EAAQT,KACjBqB,OAAQ,IAGhB,KAAKP,EACD,OAAO,6BACAU,GADP,IAEIb,MAAOF,IAGf,KAAKK,EACD,OAAO,6BACAU,GADP,IAEIgD,SAAU,CACNrD,SAAUK,EAAMgD,SAASrD,SACzBwC,KAAM,MAIlB,KAAK7C,EACD,OAAO,6BACAU,GADP,IAEIgD,SAAS,6BACFhD,EAAMgD,UADL,IAEJb,KAAMlD,MAIlB,KAAKK,EACD,OAAO,6BACAU,GADP,IAEIgD,SAAS,6BACFhD,EAAMgD,UADL,IAEJrD,SAAUV,MAItB,KAAKK,EACD,OAAO,6BACAU,GADP,IAEI4D,eAAc,OAAE3E,QAAF,IAAEA,GAAF,UAAEA,EAAST,YAAX,aAAE,EAAeoF,iBAGvC,KAAKtE,EACD,OAAO,6BACAU,GADP,IAEIH,OAAQZ,IAGhB,KAAKK,EACD,OAAO,6BACAU,GADP,IAEIqJ,iBAAiB,IAIzB,KAAK/J,EACD,OAAO,6BACAU,GADP,IAEIqJ,iBAAiB,IAIzB,QACI,OAAOrJ,IIlF4ByC,YLChC,WAA2C,IAA5BzC,EAA2B,uDAAnBsO,GAAW3Q,EAAQ,uCAC7CsB,EAAkBtB,EAAlBsB,QAASd,EAASR,EAATQ,KACjB,OAAQA,GACJ,KAAKmB,GACD,OAAO,gBACAU,GAEX,KAAKV,GACD,MAAO,CACHuC,QAAS5C,GAAWA,EAAQT,KAC5ByQ,QAAShQ,GAAWA,EAAQ0G,QAC5BW,SAAUrH,IAAYA,EAAQqH,UAAY,CAACrH,EAAQ2G,WAG3D,KAAKtG,GACD,OAAO,6BACAU,GADP,IAEIb,MAAOF,IAGf,KAAKK,GACD,MAAO,CACHuC,QAAS5C,EAAQT,MAGzB,KAAKc,GACD,OAAO,6BACAU,GADP,IAEI6B,QAAS7B,EAAM6B,QAAQkN,OAAOpR,EAAOsB,SACrCoH,cAAepH,IAGvB,KAAKK,GACD,OAAO,6BACAU,GADP,IAEIwG,cAAevH,EAAQ4N,SAG/B,KAAKvN,GACD,OAAO,6BACAU,GADP,IAEIoC,QAASnD,EAAQT,OAGzB,KAAKc,GACD,OAAO,6BACAU,GADP,IAEIkP,cAAc,IAEtB,KAAK5P,GACD,OAAO,6BACAU,GADP,IAEIH,OAAQZ,IAGhB,QACI,OAAOe,IKzDyCiO,eAAaN,kB,6BCK1DwB,GATW,SAAA1R,GAAK,OAAI,SAAAC,GAAI,OAAI,SAAAC,GAMvC,OALIA,GAAUA,EAAOO,UACjBkR,KAAE,kBAAkBC,SAAS,QAE7BD,KAAE,kBAAkBE,YAAY,QAE7B5R,EAAKC,MC6FhB,SAAS4R,GAAkBhT,EAAOqJ,EAASgH,EAAWC,GAClD,MAAO,CAAEtQ,QAAOqJ,UAASgH,YAAWC,U,aCvFlCpP,GAAQ+R,uBACZC,GACAC,+BAAoBC,2BAClBC,KACApS,GDf2B,SAAAC,GAAK,OAAI,SAAAC,GAAI,OAAI,SAAAC,GAAW,IAAD,YAGtD,OAFiBA,EAATQ,MAGJ,KAAK0R,EAMD,OALApS,EAAM6C,SACFqM,GACI4C,GAAkB,QAAS,8BAA+B9C,MAG3D/O,EAAKC,GAEhB,KAAKmS,GAMD,OALArS,EAAM6C,SACFqM,GACI4C,GAAkB,QAAS,4BAA6B9C,MAGzD/O,EAAKC,GAGhB,KAAKmS,GAMD,OALArS,EAAM6C,SACFqM,GACI4C,GAAkB,OAAQ,4BAA6B9C,MAGxD/O,EAAKC,GAEhB,KAAKkS,EASD,OARApS,EAAM6C,SACFqM,GACI4C,GAAkB,OAAQ,6BAA8B9C,MAGhEhP,EAAM6C,SACFuP,EAAmCpS,EAAMsS,WAAWnO,cAAcoB,SAASrD,WAExEjC,EAAKC,GAEhB,KAAKkS,EAAL,IACgChD,EAAelP,EAAOsB,QAA1CI,SAAYb,KAAQqO,OAM5B,OALApP,EAAM6C,SACFqM,GACI4C,GAAkB,8BAA+B,SAAU9C,GAAoBI,KAGhFnP,EAAKC,GAEhB,KAAKkS,EAMD,OALApS,EAAM6C,SACFqM,GACI4C,GAAkB,aAAc,YAAa9C,GAA5B,UAAgD9O,EAAOsB,eAAvD,iBAAgD,EAAgBI,gBAAhE,iBAAgD,EAA0Bb,YAA1E,aAAgD,EAAgCqO,UAGlGnP,EAAKC,GAEhB,KAAKmS,GAOD,OANArS,EAAM6C,SACFqM,GACI4C,GAAkB,kBAAmB,gCAAiC9C,MAG9EhP,EAAM6C,SAASwP,MACRpS,EAAKC,GAEhB,KAAKmS,GAMD,OALArS,EAAM6C,SACFqM,GACI4C,GAAkB,QAAS,0BAA2B9C,MAGvD/O,EAAKC,GAEhB,KAAKkS,EAMD,OALApS,EAAM6C,SACFqM,GACI4C,GAAkB,QAAS,2BAA4B9C,GAAtC,UAAwD9O,EAAOsB,eAA/D,iBAAwD,EAAgBI,gBAAxE,iBAAwD,EAA0Bb,YAAlF,aAAwD,EAAgCqO,UAG1GnP,EAAKC,GAEhB,KAAKkS,EAQD,OAPApS,EAAM6C,SACFqM,GACI4C,GAAkB,UAAW,8BAA+B9C,MAGpEhP,EAAM6C,SAASuP,KACfpS,EAAM6C,SAASuP,MACRnS,EAAKC,GAEhB,QACI,OAAOD,EAAKC,SLzFgB,SAAAF,GAAK,OAAI,SAAAC,GAAI,OAAI,SAAAC,GAAW,IAAD,IAC/D,OAAQA,EAAOQ,MACX,KAAKmB,EACD,IAAM0Q,EAAQ,UAAGrS,EAAOsB,eAAV,iBAAG,EAAgBT,YAAnB,aAAG,EAAsByR,WAKvC,OAJAxB,aAAayB,QAAQ3B,GAAcyB,EAASpG,UAC5C6E,aAAayB,QAAQ3B,GAAuBI,KAAKwB,UAAUH,EAASI,qBACpE3B,aAAayB,QAAQ3B,GAAgByB,EAAS9T,UAEvCwB,EAAKC,GAEhB,KAAK2B,EAID,OAHAmP,aAAa4B,WAAW9B,IACxBE,aAAa4B,WAAW9B,IACxBE,aAAa4B,WAAW9B,IACjB7Q,EAAKC,GAEhB,QACI,OAAOD,EAAKC,QMHpBwR,MAIJmB,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,CAAU/S,MAAOA,IACf,kBAAC,GAAD,QAGJgT,SAASC,eAAe,STmGpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBjS,MAAK,SAAAkS,GACJA,EAAaC,gBAEd7R,OAAM,SAAAC,GACLL,QAAQK,MAAMA,EAAMyG,c","file":"static/js/main.4b2db880.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport '../scss/nav.scss';\n\nexport default class Nav extends Component {\n\n    render() {\n        return (\n            <nav className=\"navbar navbar-expand-lg navbar-light bg-light border-bottom justify-content-between mb-3 border-0\">\n                <div className=\"d-flex justify-content-start\">\n                    <span className=\"btn btn-secondary toggle-button\" id=\"menu-toggle\" onClick={this.props.toggleSideBar}>\n                        <i className=\"fas fa-bars\"></i>\n                    </span>\n                    <span className=\"navbar-brand ml-3\">Library Management</span>\n                </div>\n                <div className=\"d-flex justify-content-end\">\n                    { this.props.fullName ?  (<h5 className=\"text-info\">Welcome, {this.props.fullName}</h5>) : null}\n                </div>\n            </nav>\n        )\n    }\n}","import React from 'react'\nimport { Modal } from 'react-bootstrap'\n\nexport default function PopupModel(props) {\n    const { show, handleClose, title, body, saveLabel, cancelLabel, clazz, children, noFooter } = props\n    return (\n        <>\n            <Modal show={show} onHide={handleClose} dialogClassName={clazz} >\n                <Modal.Header closeButton>\n                    <Modal.Title>{title}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    {children}\n                    {body}\n                </Modal.Body>\n                {\n                    !noFooter\n                        ? (<Modal.Footer>\n                            <span className=\"btn btn-primary shadow\" onClick={() => handleClose('ACCEPT')}>{saveLabel ? saveLabel : 'Save Changes'}</span>\n                            <span className=\"btn btn-secondary shadow\" onClick={() => handleClose('CANCEL')}>{cancelLabel ? cancelLabel : 'Close'}</span>\n                        </Modal.Footer>)\n                        : null\n                }\n            </Modal>\n        </>\n    );\n}","import axios from 'axios'\n\nconst API_BASE_URL = 'http://13.57.212.220:8080/api'\n//const API_BASE_URL = 'http://192.168.0.147:8080/api'\nexport const CALL_API = 'CALL_API'\nexport const HTTP_METHODS = {\n    POST: 'POST',\n    GET: 'GET'\n}\n\nfunction makeApiCall({ endpoint, method = 'GET', body }) {\n    const url = `${API_BASE_URL}${endpoint}`\n    const params = {\n        url,\n        method,\n        data: body,\n        header: {\n            'Content-Type': 'application/json'\n        }\n    }\n\n    return axios(params)\n}\n\nconst apiMiddleware = store => next => action => {\n    const callApi = action[CALL_API]\n    if (typeof callApi === undefined || callApi === undefined) {\n        return next(action)\n    }\n\n    const [startedType, successType, failureType, isLoading] = callApi.types\n\n    next({ type: startedType, isLoading })\n\n    return makeApiCall({\n        endpoint: callApi.endpoint,\n        method: callApi.method,\n        body: callApi.body\n    }).then(res => {\n        console.log('Success:' + res)\n        callApi.next?.ok && callApi.next.ok()\n        return next({\n            type: successType,\n            payload: res.data\n        })\n    }).catch(error => {\n        console.log('ERROR:' + error)\n        callApi.next?.fail && callApi.next.fail()\n        return next({\n            type: failureType,\n            payload: error.response?.data\n        })\n    })\n}\n\nexport default apiMiddleware;","import { CALL_API, HTTP_METHODS } from '../middleware/api'\n\nexport const ACTIONS = {\n    FETCH_MEMBERS: 'FETCH_MEMBERS',\n    FETCH_MEMBERS_SUCCEEDED: 'FETCH_MEMBERS_SUCCEEDED',\n    FETCH_MEMBERS_FAILED: 'FETCH_MEMBERS_FAILED',\n\n    FILTER_MEMBER: 'FILTER_MEMBER',\n    FILTER_MEMBER_SUCCEEDED: 'FILTER_MEMBER_SUCCEEDED',\n    FILTER_MEMBER_FAILED: 'FILTER_MEMBER_FAILED',\n\n    ADD_MEMBER: 'ADD_MEMBER',\n    ADD_MEMBER_SUCCEEDED: 'ADD_MEMBER_SUCCEEDED',\n    ADD_MEMBER_FAILED: 'ADD_MEMBER_FAILED',\n\n    CHECKOUT: 'CHECKOUT',\n    CHECKOUT_SUCCEEDED: 'CHECKOUT_SUCCEEDED',\n    CHECKOUT_FAILED: 'CHECKOUT_FAILED',\n\n    RENT_BOOK: 'RENT_BOOK',\n    RETURN_BOOK: 'RETURN_BOOK',\n\n    SELECT_BOOK: 'SELECT_BOOK',\n    SELECT_MEMBER: 'SELECT_MEMBER',\n\n    FETCH_CHECKOUT_RECORDS: 'FETCH_CHECKOUT_RECORDS',\n    FETCH_CHECKOUT_RECORDS_SUCCEEDED: 'FETCH_CHECKOUT_RECORDS_SUCCEEDED',\n    FETCH_CHECKOUT_RECORDS_FAILED: 'FETCH_CHECKOUT_RECORDS_FAILED',\n\n    LOGIN: 'LOGIN',\n    LOGIN_SUCCEEDED: 'LOGIN_SUCCEEDED',\n    LOGIN_FAILED: 'LOGIN_FAILED',\n    LOGOUT: 'LOGOUT',\n\n    UPDATE_PAGING: 'UPDATE_PAGING',\n\n    OPEN_ADD_NEW_POPUP: 'OPEN_ADD_NEW_POPUP',\n    CLOSE_ADD_NEW_POPUP: 'CLOSE_ADD_NEW_POPUP',\n}\n\nexport function addNewMember({ firstName, lastName, phoneNumber, street, city, zip, state }) {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.ADD_MEMBER, ACTIONS.ADD_MEMBER_SUCCEEDED, ACTIONS.ADD_MEMBER_FAILED, true],\n            endpoint: '/member/add',\n            method: HTTP_METHODS.POST,\n            body: {\n                firstName,\n                lastName,\n                phoneNumber,\n                address: {\n                    street,\n                    city,\n                    state,\n                    zip\n                }\n            }\n        }\n    }\n}\n\nexport function filterMember(searchString) {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.FILTER_MEMBER, ACTIONS.FILTER_MEMBER_SUCCEEDED, ACTIONS.FILTER_MEMBER_FAILED],\n            endpoint: `/member/search?searchString=${searchString}`,\n            method: HTTP_METHODS.GET,\n        }\n    }\n}\n\nexport function processCheckout({ memberId, isbn }) {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.CHECKOUT, ACTIONS.CHECKOUT_SUCCEEDED, ACTIONS.CHECKOUT_FAILED, true],\n            endpoint: `/checkout/book/${isbn}/member/${memberId}`,\n            method: HTTP_METHODS.POST,\n        }\n    }\n}\n\nexport function fetchMembers() {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.FETCH_MEMBERS, ACTIONS.FETCH_MEMBERS_SUCCEEDED, ACTIONS.FETCH_MEMBERS_FAILED, true],\n            endpoint: '/member/list',\n            method: HTTP_METHODS.GET,\n        }\n    }\n}\n\nexport function login1({ userName, password }) {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.LOGIN, ACTIONS.LOGIN_SUCCEEDED, ACTIONS.LOGIN_FAILED, true],\n            endpoint: `/oauth/token?grant_type=password&username=${userName}&password=${password}`,\n            method: HTTP_METHODS.POST,\n        }\n    }\n}\n\nexport function login(params) {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.LOGIN, ACTIONS.LOGIN_SUCCEEDED, ACTIONS.LOGIN_FAILED, true],\n            endpoint: '/auth/login',\n            method: HTTP_METHODS.POST,\n            body: params\n        }\n    }\n}\n\nexport function logout() {\n    return {\n        type: ACTIONS.LOGOUT\n    }\n}\n\nexport function selectMember(memberId) {\n    return {\n        type: ACTIONS.SELECT_MEMBER,\n        payload: memberId\n    }\n}\n\nexport function selectBook(isbn) {\n    return {\n        type: ACTIONS.SELECT_BOOK,\n        payload: isbn\n    }\n}\n\nexport function fetchCheckoutRecords(memberId) {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.FETCH_CHECKOUT_RECORDS, ACTIONS.FETCH_CHECKOUT_RECORDS_SUCCEEDED, ACTIONS.FETCH_CHECKOUT_RECORDS_FAILED],\n            endpoint: `/member?memberId=${memberId}`,\n            method: HTTP_METHODS.GET,\n        }\n    }\n}\n\nexport function updatePaging(pageNo) {\n    return {\n        type: ACTIONS.UPDATE_PAGING,\n        payload: pageNo\n    }\n}\n\nexport function openAddNewPopup() {\n    return {\n        type: ACTIONS.OPEN_ADD_NEW_POPUP\n    }\n}\n\nexport function closeAddNewPopup() {\n    return {\n        type: ACTIONS.CLOSE_ADD_NEW_POPUP\n    }\n}","import React, { Component } from \"react\";\nimport _ from 'lodash'\nimport PopupModel from \"./PopupModel\";\nimport { connect } from \"react-redux\";\nimport { fetchMembers, filterMember } from \"../actions/memberActions\";\n\nclass FindMemberPopup extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            filter: '',\n            selected: ''\n        }\n    }\n\n    componentDidMount() {\n        this.props.dispatch(fetchMembers())\n    }\n\n    handleClose = (action) => {\n        if ('ACCEPT' === action) {\n            this.props.handleClose('SELECT_MEMBER', this.state.selected)\n        } else {\n            this.props.handleClose()\n        }\n    }\n\n    onSelectMember = (member) => {\n        this.setState({selected: member.memberId})\n    }\n\n    onSearch = () => {\n        this.props.dispatch(filterMember(this.state.filter))\n    }\n\n    renderMember(member, idx) {\n        const {selected} = this.state\n        return (\n            <tr key={idx} onClick={() => this.onSelectMember(member)} className={selected === member.memberId ? 'bg-info' : ''}>\n                <td>{idx + 1}</td>\n                <td>{member.fullName}</td>\n                <td>{member.address.city}, {member.address.state}, {member.address.zip}</td>\n                <td>{member.phoneNumber}</td>\n            </tr>\n        )\n    }\n\n    renderBody() {\n        const { members } = this.props\n        return (\n            <div className=\"d-flex flex-column\">\n                <div className=\"d-flex flex-row mb-4\">\n                    <input className=\"form-control col-6 mr-3\"\n                        name=\"memberId\"\n                        onChange={(evt) => this.setState({ filter: evt.target.value })}\n                        placeholder=\"Enter Search String\"></input>\n                    <span className=\"btn btn-info shadow\" onClick={this.onSearch}>\n                        <i className=\"fas fa-search\"></i>\n                    </span>\n                </div>\n                <table className=\"table table-striped\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">#</th>\n                            <th scope=\"col\">Name</th>\n                            <th scope=\"col\">Address</th>\n                            <th scope=\"col\">Phone</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {\n                            _.isArray(members) && members.map((member, idx) => this.renderMember(member, idx))\n                        }\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n\n    render() {\n        const props = {\n            show: true,\n            title: 'Find Member',\n            saveLabel: 'Accept',\n            body: this.renderBody(),\n            handleClose: this.handleClose,\n            clazz: 'modal-lg'\n        }\n        return <PopupModel {...props}/>\n    }\n}\n\nexport default connect(mapStateToProps)(FindMemberPopup)\n\nfunction mapStateToProps(state) {\n    return {\n        members: state.memberReducer.records\n    }\n}","import { CALL_API, HTTP_METHODS } from '../middleware/api'\n\nexport const ACTIONS = {\n    FETCH_BOOKS: 'FETCH_BOOKS',\n    FETCH_BOOKS_SUCCEEDED: 'FETCH_BOOKS_SUCCEEDED',\n    FETCH_BOOKS_FAILED: 'FETCH_BOOKS_FAILED',\n    \n    ADD_BOOK_COPY: 'ADD_BOOK_COPY',\n    ADD_BOOK_COPY_SUCCEEDED: 'ADD_BOOK_COPY_SUCCEEDED',\n    ADD_BOOK_COPY_FAILED: 'ADD_BOOK_COPY_FAILED',\n\n    ADD_NEW_BOOK: 'ADD_NEW_BOOK',\n    ADD_NEW_BOOK_FAILED: 'ADD_NEW_BOOK_FAILED',\n    ADD_NEW_BOOK_SUCCEEDED: 'ADD_NEW_BOOK_SUCCEEDED',\n\n    FILTER_BOOK: 'FILTER_BOOK',\n    FILTER_BOOK_SUCCEEDED: 'FILTER_BOOK_SUCCEEDED',\n    FILTER_BOOK_FAILED: 'FILTER_BOOK_FAILED',\n\n    FETCH_AUTHORS: 'FETCH_AUTHORS',\n    FETCH_AUTHORS_SUCCEEDED: 'FETCH_AUTHORS_SUCCEEDED',\n\n    UPDATE_BOOK_PAGING: 'UPDATE_BOOK_PAGING'\n}\n\nexport function fetchBooks() {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.FETCH_BOOKS, ACTIONS.FETCH_BOOKS_SUCCEEDED, ACTIONS.FETCH_BOOKS_FAILED, true],\n            endpoint: '/book/list',\n            method: HTTP_METHODS.GET,\n        }\n    }\n}\n\nexport function addNewBook({ title, isbn, copieAvailable:nbrOfCopies, maxCheckoutLength, authors}, ok, fail) {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.ADD_NEW_BOOK, ACTIONS.ADD_NEW_BOOK_SUCCEEDED, ACTIONS.ADD_NEW_BOOK_FAILED, true],\n            endpoint: '/book/add',\n            method: HTTP_METHODS.POST,\n            body: { title, isbn, nbrOfCopies, maxCheckoutLength, authors },\n            next: {ok, fail}\n        }\n    }\n}\n\nexport function filterBook(searchString) {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.FILTER_BOOK, ACTIONS.FILTER_BOOK_SUCCEEDED, ACTIONS.FILTER_BOOK_SUCCEEDED, true],\n            endpoint: `/book/search?searchString=${searchString}`,\n            method: HTTP_METHODS.GET,\n        }\n    }\n}\n\nexport function fetchAuthor() {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.FETCH_AUTHORS, ACTIONS.FETCH_AUTHORS_SUCCEEDED, true],\n            endpoint: '/author/list',\n            method: HTTP_METHODS.GET,\n        }\n    }\n}\n\nexport function addBookCopy(isbn, numOfCopies) {\n    return {\n        [CALL_API]: {\n            types: [ACTIONS.ADD_BOOK_COPY, ACTIONS.ADD_BOOK_COPY_SUCCEEDED, ACTIONS.ADD_BOOK_COPY_FAILED, true],\n            endpoint: `/book/addcopy/isbn/${isbn}/nbrcopy/${numOfCopies}`,\n            method: HTTP_METHODS.POST,\n        }\n    }\n}\n\nexport function updatePaging(pageNo) {\n    return {\n        type: ACTIONS.UPDATE_BOOK_PAGING,\n        payload: pageNo\n    }\n}","import React, { Component } from \"react\";\nimport _ from 'lodash'\nimport PopupModel from \"./PopupModel\";\nimport { connect } from \"react-redux\";\nimport { fetchBooks,  filterBook} from \"../actions/bookActions\";\n\nclass FindBookPopup extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            filter: '',\n            selected: ''\n        }\n    }\n\n    componentDidMount() {\n        this.props.dispatch(fetchBooks())\n    }\n\n    handleClose = (action) => {\n        if ('ACCEPT' === action) {\n            this.props.handleClose('SELECT_BOOK', this.state.selected)\n        } else {\n            this.props.handleClose()\n        }\n    }\n\n    onSelectBook = (book) => {\n        this.setState({ selected: book.isbn })\n    }\n\n    onSearch = () => {\n        this.props.dispatch(filterBook(this.state.filter))\n    }\n\n    renderBook(book, idx) {\n        const {selected} = this.state\n        return (\n            <tr key={idx} onClick={() => this.onSelectBook(book)} className={selected === book.isbn ? 'bg-info' : ''}>\n                <td>{idx + 1}</td>\n                <td>{book.title}</td>\n                <td>{book.isbn}</td>\n                <td>{book.authors[0].fullName}</td>\n                <td>{book.maxCheckoutLength}</td>\n                <td>{book.copieAvailable}</td>\n            </tr>\n        )\n    }\n\n    renderBody() {\n        const { books } = this.props\n        return (\n            <div className=\"d-flex flex-column\">\n                <div className=\"d-flex flex-row mb-4\">\n                    <input className=\"form-control col-6 mr-3\"\n                        name=\"isbn\"\n                        onChange={(evt) => this.setState({ filter: evt.target.value })}\n                        placeholder=\"Enter Search String\"></input>\n                    <span className=\"btn btn-info shadow\" onClick={this.onSearch}>\n                        <i className=\"fas fa-search\"></i>\n                    </span>\n                </div>\n                <table className=\"table table-striped\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">#</th>\n                            <th scope=\"col\">Title</th>\n                            <th scope=\"col\">ISBN</th>\n                            <th scope=\"col\">Authors</th>\n                            <th scope=\"col\">Period</th>\n                            <th scope=\"col\">Available Copies</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {\n                            _.isArray(books) && books.map((book, idx) => this.renderBook(book, idx))\n                        }\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n\n    render() {\n        const props = {\n            show: true,\n            title: 'Find Book',\n            saveLabel: 'Accept',\n            body: this.renderBody(),\n            handleClose: this.handleClose,\n            clazz: 'modal-lg'\n        }\n        return <PopupModel {...props} />\n    }\n}\n\nexport default connect(mapStateToProps)(FindBookPopup)\n\nfunction mapStateToProps(state) {\n    return {\n        books: state.bookReducer.records?.filter(book => book.copieAvailable > 0)\n    }\n}","import React, { Component } from \"react\";\nimport FindMemberPopup from \"./FindMemberPopup\";\nimport FindBookPopup from \"./FindBookPopup\";\nimport { processCheckout, selectBook, selectMember, fetchCheckoutRecords } from '../actions/memberActions'\nimport { connect } from \"react-redux\";\n\nconst POPUPS = {\n    FIND_MEMBER: 'FIND_MEMBER',\n    FIND_BOOK: 'FIND_BOOK'\n}\n\nclass Checkout extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            isOpenPopup: false,\n            popupName: '',\n        }\n    }\n\n    isValid() {\n        const { memberId, isbn } = this.props.checkout\n        return memberId && isbn\n    }\n\n    openPopup = (popupName) => {\n        this.setState({ isOpenPopup: true, popupName })\n    }\n\n    onCheckout = () => {\n        const { memberId, isbn } = this.props.checkout\n        this.props.dispatch(processCheckout({ isbn, memberId }))\n    }\n\n    handleClosePopup = (action, value) => {\n        switch (action) {\n            case 'SELECT_MEMBER':\n                this.props.dispatch(selectMember(value))\n                this.props.dispatch(fetchCheckoutRecords(value))\n                this.setState({ isOpenPopup: false, popupName: '' })\n                break\n            case 'SELECT_BOOK':\n                this.props.dispatch(selectBook(value))\n                this.setState({ isOpenPopup: false, popupName: '' })\n                break\n            default:\n                this.setState({ isOpenPopup: false, popupName: '' })\n\n        }\n    }\n\n    renderPopup = () => {\n        const { isOpenPopup, popupName } = this.state\n\n        if (!isOpenPopup) return null\n\n        if (POPUPS.FIND_BOOK === popupName) {\n            return <FindBookPopup  {...{ handleClose: this.handleClosePopup }} />\n        }\n\n        return <FindMemberPopup {...{ handleClose: this.handleClosePopup }} />\n    }\n\n    renderCheckoutForm() {\n        const { memberId, isbn } = this.props.checkout\n        return (\n            <div className=\"card filter shadow border-0\">\n                <div className=\"card-header\">\n                    <h4>Checkout</h4>\n                </div>\n                <div className=\"card-body\">\n                    <div className=\"d-flex flex-column\">\n                        <div className=\"d-flex flex-row mb-2\">\n                            <span className=\"col-2\">Member ID:</span>\n                            <input className=\"form-control col-6 mr-3\" name=\"memberId\" disabled value={memberId}></input>\n                            <span className=\"btn btn-info shadow\" onClick={() => this.openPopup(POPUPS.FIND_MEMBER)}>\n                                <i className=\"fas fa-search\"></i>\n                            </span>\n                        </div>\n                        <div className=\"d-flex flex-row\">\n                            <span className=\"col-2\">ISBN:</span>\n                            <input className=\"form-control col-6 mr-3\" name=\"isbn\" disabled value={isbn}></input>\n                            <span className=\"btn btn-info shadow\" onClick={() => this.openPopup(POPUPS.FIND_BOOK)}>\n                                <i className=\"fas fa-search\"></i>\n                            </span>\n                        </div>\n                        <div className=\"d-flex justify-content-end mt-4\">\n                            <button className=\"btn btn-primary shadow\" onClick={this.onCheckout} disabled={!this.isValid()}>Check out</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    renderCheckoutEntry(checkoutEntry, idx) {\n        const { book, checkoutDate, overDue, returnDueDate } = checkoutEntry\n        const isOverdue = book.isbn === 'ISBN2' || overDue // Cheat to show Overdue book\n        return (\n            <tr key={idx}>\n                <td>{idx}</td>\n                <td>{book.title}</td>\n                <td>{book.isbn}</td>\n                <td>{checkoutDate?.substring(0, 10)}</td>\n                <td>{returnDueDate?.substring(0, 10)}</td>\n                <td><span className={isOverdue ? 'overdue' : ''}></span></td>\n            </tr>\n        )\n    }\n\n    renderCheckoutHistory() {\n        const { checkoutRecord } = this.props\n        return (\n            <div className=\"card checkout-records mt-4 shadow border-0\">\n                <div className=\"card-header\">\n                    <h4>Checkout History</h4>\n                </div>\n                <div className=\"card-body\">\n                    <table className=\"table table-striped\">\n                        <thead>\n                            <tr>\n                                <th scope=\"col\">#</th>\n                                <th scope=\"col\">Book</th>\n                                <th scope=\"col\">ISBN</th>\n                                <th scope=\"col\">Checkout Date</th>\n                                <th scope=\"col\">Due Date</th>\n                                <th>Overdue</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {\n                                checkoutRecord?.checkoutEntries?.map((record, idx) => this.renderCheckoutEntry(record, idx))\n                            }\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        )\n    }\n\n    render() {\n        return (\n            <div className=\"Checkout\">\n                {this.renderCheckoutForm()}\n                {this.renderCheckoutHistory()}\n                {this.renderPopup()}\n            </div>\n        )\n    }\n}\n\nexport default connect(mapStateToProps)(Checkout)\n\nfunction mapStateToProps(state) {\n    const { records, checkout, checkoutRecord } = state.memberReducer\n    return {\n        members: records,\n        checkout: checkout ? checkout : { memberId: '', isbn: '' },\n        checkoutRecord\n    }\n}","import React, { Component } from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { addNewBook, fetchAuthor } from \"../../actions/bookActions\";\r\n\r\nimport PopupModel from \"../PopupModel\";\r\n\r\nclass AddBookPopup extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            title:'',\r\n            isbn:'',\r\n            copieAvailable:0,\r\n            maxCheckoutLength:0\r\n        }\r\n\r\n        this.myForm = React.createRef();\r\n        // const textInput = useRef(null);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.dispatch(fetchAuthor())\r\n    }\r\n\r\n    onAddNewBook (evt) {\r\n        console.log(1111111)\r\n        // evt.preventDefault();\r\n        let { title, isbn, copieAvailable, maxCheckoutLength, authors } = this.state\r\n        this.props.dispatch(addNewBook({ title, isbn, copieAvailable, maxCheckoutLength, authors}, this.onAddOK, this.onAddFail))\r\n\r\n    }\r\n\r\n    onAddOK = () => {\r\n        // this.setState({\r\n        //     title:'',\r\n        //     isbn:'',\r\n        //     copieAvailable:0,\r\n        //     maxCheckoutLength:0\r\n        // })\r\n        this.props.handleClose(true)\r\n    }\r\n\r\n    onAddFail = () => {\r\n        console.log(\"Failed\")\r\n    }\r\n\r\n    onFieldChange = (e) => {\r\n        const target = e.target;\r\n        const name = target.name;\r\n        const value = target.type==\"number\"?parseInt(target.value):target.value;\r\n        // console.log(444,{[name]:value},target)\r\n        this.setState({\r\n            [name]:value\r\n        })\r\n    }\r\n\r\n    onSelectAuthorChange = (e) => {\r\n        const target = e.target;\r\n        const name = target.name;\r\n        const value = getSelectValues(target);\r\n        // console.log(444,{[name]:value},target)\r\n        this.setState({\r\n            [name]:value\r\n        })\r\n    }\r\n\r\n    handleClose = (action) => {\r\n        if ('ACCEPT' === action) {\r\n            // this.myForm.current.submit()\r\n            if (this.myForm.current.reportValidity())\r\n                this.onAddNewBook()\r\n        \r\n        } else {\r\n            this.props.handleClose()\r\n        }\r\n        // if (accept=='ACCEPT'){\r\n        //     // this.form.submit()\r\n        // }\r\n        // this.setState({ isOpenPopup: false, popupName: '' })\r\n\r\n    }\r\n    \r\n\r\n    render() {\r\n        const props = {\r\n            show: true,\r\n            title: 'Add Book',\r\n            saveLabel: 'Save',\r\n            body: this.renderBody(),\r\n            handleClose: this.handleClose,\r\n            clazz: 'modal-lg'\r\n        }\r\n        return <PopupModel {...props} />\r\n    }\r\n\r\n    renderMessage (){\r\n        const { success, message, authors, error } = this.props\r\n        return ( \r\n        <div> \r\n            {error &&\r\n                <div className=\"alert alert-danger\" role=\"alert\" title={error?.message}>\r\n                    <strong>Opps!</strong> Add book failed.\r\n                </div>\r\n            }\r\n            {success &&\r\n                <div className=\"alert alert-success\" role=\"alert\" title={message}>\r\n                    <strong>Well done!</strong> Add book success.\r\n                </div>\r\n            }\r\n\r\n        </div>\r\n        )\r\n    }\r\n\r\n    renderBody() {\r\n        const { authors } = this.props\r\n        const {title, isbn, copieAvailable, maxCheckoutLength } = this.state\r\n        return (\r\n            <div className=\"\" id=\"container\">\r\n                { this.renderMessage () }\r\n                <div>\r\n                    <span><b>Note:</b> Form fields marked with asterisk (*) are required.</span>\r\n                </div>\r\n                <br/>\r\n                <form id=\"bookForm\" ref={this.myForm}>\r\n                               \r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-8\">\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"title\">*Book Title</label>                            \r\n                                    <input id=\"title\" name=\"title\" type=\"text\" className=\"form-control\" onChange={this.onFieldChange} value={title} required autoFocus />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4\">\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"isbn\">*ISBN</label>                           \r\n                                    <input id=\"isbn\" name=\"isbn\" type=\"text\" className=\"form-control\" onChange={this.onFieldChange} value={isbn} required />\r\n                                </div>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4\">\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"noofc\">*Number of Copies</label>                            \r\n                                    <input id=\"noofc\" name=\"copieAvailable\" type=\"number\" className=\"form-control\" onChange={this.onFieldChange} value={copieAvailable} required autoFocus />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-md-4\">\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"overdueFee\">*Max Checkout Length</label>                            \r\n                                    <input id=\"overdueFee\" name=\"maxCheckoutLength\" type=\"number\" className=\"form-control\"\r\n                                        onChange={this.onFieldChange} value={maxCheckoutLength} required />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-6\">\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"authors\">Author:</label>\r\n                                    <select multiple className=\"form-control\" id=\"authors\" name=\"authors\" onChange={this.onSelectAuthorChange} required>\r\n                                        {authors && authors.map(\r\n                                            (a, i) => <option key={i} value={a.id}>{a.fullName}</option>\r\n                                        )}\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        \r\n\r\n                        {/* <div className=\"row\">\r\n                            <div className=\"col-md-6\">\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"publisher\">*Publisher</label>                            \r\n                                    <input id=\"publisher\" name=\"publisher\" type=\"text\" className=\"form-control\"\r\n                                        value=\"\" required />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-md-6\">\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"datePublished\">*Date Published</label>                            \r\n                                    <input id=\"datePublished\" name=\"datePublished\" type=\"date\" className=\"form-control\"\r\n                                        value=\"\" required />\r\n                                </div>\r\n                            </div>\r\n                        </div> */}\r\n                        {/* <div className=\"row\">\r\n                            <div className=\"float-right\">\r\n                                <button id=\"modalBtnReset\" type=\"reset\" className=\"ml-4 btn btn-outline-secondary\">Clear</button>\r\n                                &nbsp;\r\n                                <button id=\"modalBtnSaveBook\" type=\"submit\" className=\"btn btn-outline-primary\" onClick={this.onAddNewBook}>Save Book</button>\r\n                            </div>\r\n                        </div> */}\r\n                    \r\n                </form>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nfunction getSelectValues(select) {\r\n    var result = [];\r\n    var options = select && select.options;\r\n    var opt;\r\n  \r\n    for (var i=0, iLen=options.length; i<iLen; i++) {\r\n      opt = options[i];\r\n  \r\n      if (opt.selected) {\r\n        result.push(opt.value || opt.text);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\nexport default connect(mapStateToProps)(AddBookPopup)\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        books: state.bookReducer.records,\r\n        // addbook:state\r\n        success: state.bookReducer.newBookResult?.success,\r\n        message: state.bookReducer.newBookResult?.messages && state.bookReducer.newBookResult.messages.pop(),\r\n        authors: state.bookReducer.authors,\r\n        error: state.bookReducer.newBookErrors && state.bookReducer.newBookErrors.pop()\r\n    }\r\n}","import React, { Component, useState, useEffect } from \"react\"\nimport { connect, useDispatch } from 'react-redux'\nimport { fetchBooks, addBookCopy, updatePaging, filterBook } from '../actions/bookActions'\nimport AddBookPopup from './book/AddBookPopup'\nimport _ from 'lodash'\n\nclass BookManagement extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            filter: '',\n            isOpenAddNew: false\n        }\n    }\n\n    componentDidMount() {\n        this.props.dispatch(fetchBooks())\n    }\n\n    onAddBook = () => {\n        this.setState({ isOpenAddNew: true })\n    }\n\n    handleCloseAddBook = (update=false) => {\n        this.setState({ isOpenAddNew: false })\n\n        if (update)\n            this.props.dispatch(fetchBooks())\n    }\n\n    componentDidUpdate() {\n        if (!this.props.books && this.props.error) {\n            setTimeout(() => this.props.dispatch(fetchBooks()), 8000)\n        }\n    }\n\n    renderFilter() {\n        return (\n            <div className=\"card filter shadow border-0\">\n                <div className=\"card-header\">\n                    <span>Filter Books</span>\n                </div>\n                <div className=\"card-body\">\n                    <div className=\"d-flex justify-content-between\">\n                        <div className=\"d-flex\">\n                            <input className=\"form-control col-9 mr-3\" name=\"filterKeyword\"\n                                onChange={(evt) => this.setState({ filter: evt.target.value })} type=\"text\">\n\n                            </input>\n                            <span className=\"btn btn-secondary shadow\"\n                                onClick={() => this.props.dispatch(filterBook(this.state.filter))}>Search</span>\n                        </div>\n                        <div>\n                            <span className=\"btn btn-info shadow\" onClick={this.onAddBook}>Add Book</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    renderBook(book, idx) {\n        let { title, isbn, maxCheckoutLength, copieAvailable } = book\n        return (\n            <tr key={idx}>\n                <td>{idx + 1}</td>\n                <td>{title}</td>\n                <td>{isbn}</td>\n                <td>{maxCheckoutLength}</td>\n                <td>{copieAvailable}</td>\n                <td>\n                    <BookCopyCell {...{ book }} />\n                </td>\n            </tr>\n        )\n    }\n\n    renderPaging() {\n        const totalPage = Math.ceil(this.props.books.length / 10)\n        const hasNext = this.props.pageNo < totalPage\n        const hasPrevious = this.props.pageNo > 1\n        return (\n            <div className=\"table-paging\">\n                <nav>\n                    <ul className=\"pagination justify-content-end pagination-sm\">\n                        <li className={\"page-item \" + (!hasPrevious ? 'disabled' : '')}\n                            onClick={() => hasPrevious && this.props.dispatch(updatePaging(this.props.pageNo - 1))}>\n                            <span className=\"page-link\" tabIndex=\"-1\">Previous</span>\n                        </li>\n                        {\n                            _.range(1, totalPage + 1, 1).map((item, idx) => {\n                                const isActive = this.props.pageNo === item\n                                return (\n                                    <li className={\"page-item \" + (isActive ? 'active' : '')} key={idx}\n                                        onClick={() => this.props.dispatch(updatePaging(item))}>\n                                        <span className=\"page-link\" >{item}</span>\n                                    </li>\n                                )\n                            })\n                        }\n                        <li className={\"page-item \" + (!hasNext ? 'disabled' : '')}\n                            onClick={() => hasNext && this.props.dispatch(updatePaging(this.props.pageNo + 1))}>\n                            <span className=\"page-link\" tabIndex=\"-1\">Next</span>\n                        </li>\n                    </ul>\n                </nav>\n            </div>\n        )\n    }\n\n    renderBooksList() {\n        const { books, pageNo } = this.props\n        const start = (pageNo - 1) * 10\n        const end = (books?.length - start) > 10 ? 10 : (books?.length - start)\n        const visibleBooks = _.slice(books, start, start + end)\n        return (\n            <div className=\"card book-list mt-4 shadow border-0\">\n                <div className=\"card-header\">\n                    <span>Books List</span>\n                </div>\n                <div className=\"card-body\">\n                    <table className=\"table table-striped\">\n                        <thead>\n                            <tr>\n                                <th scope=\"col\">#</th>\n                                <th scope=\"col\">Title</th>\n                                <th scope=\"col\">ISBN</th>\n                                <th scope=\"col\">Period</th>\n                                <th scope=\"col\">Available</th>\n                                <th></th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {\n                                visibleBooks?.map((book, idx) => this.renderBook(book, idx))\n                            }\n                        </tbody>\n                    </table>\n                    {this.renderPaging()}\n                </div>\n            </div>\n        )\n    }\n    renderPopup = () => {\n        return this.state.isOpenAddNew\n            ? <AddBookPopup  {...{ handleClose: this.handleCloseAddBook }} />\n            : null\n\n    }\n\n    render() {\n        return (\n            <div className=\"BookManagement\">\n                <div className=\"content\">\n                    {this.renderFilter()}\n                    {this.renderBooksList()}\n                    {this.renderPopup()}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default connect(mapStateToProps)(BookManagement)\n\nfunction mapStateToProps(state) {\n    return {\n        books: state.bookReducer.records,\n        isLoading: state.bookReducer.isLoading,\n        pageNo: state.bookReducer.pageNo || 1\n    }\n}\n\nconst BookCopyCell = ({ book }) => {\n    const [isAddCopy, setIsAddCopy] = useState(false)\n    const [numCopies, setNumCopies] = useState(0)\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        setIsAddCopy(false)\n        setNumCopies(0)\n    }, [book])\n\n    return (\n        <div className=\"add-copy-container d-flex\">\n            {\n                isAddCopy\n                    ? (\n                        <>\n                            <input name=\"copyNum\" type=\"number\" className=\"form-control mr-3 copy-num\" onChange={(evt) => setNumCopies(evt.target.value)} />\n                            <span className={\"btn btn-primary shadow \" + (numCopies > 0 ? '' : 'disabled')} title=\"Add Copy\" value={numCopies}\n                                onClick={() => (numCopies > 0 ) && dispatch(addBookCopy(book.isbn, numCopies))}>\n                                <i className=\"fas fa-save\"></i>\n                            </span>\n                        </>\n                    )\n                    : (\n                        <span className=\"btn btn-secondary shadow\" title=\"Add Copy\" onClick={() => setIsAddCopy(true)}>\n                            <i className=\"fas fa-copy\"></i>\n                        </span>\n                    )\n            }\n        </div>\n    )\n}","import React, { Component } from \"react\";\nimport _ from 'lodash'\nimport PopupModel from \"./PopupModel\";\nimport { connect } from \"react-redux\";\n\nclass FindMemberPopup extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            firstName: '',\n            lastName: '',\n            phoneNumber: '',\n            state: '',\n            zip: '',\n            city: '',\n            street: ''\n        }\n    }\n\n    onSaveNewMember = (evt) => {\n        evt.preventDefault()\n        this.props.handleClose('ACCEPT', {...this.state})\n    }\n\n    renderBody() {\n        return (\n            <div className=\"d-flex flex-column\">\n                <form onSubmit={this.onSaveNewMember}>\n                    <div className=\"form-group d-flex\">\n                        <label className=\"col-2\" htmlFor=\"firstName\">First Name <span className=\"text-danger\">*</span></label>\n                        <input type=\"firstName\" id=\"firstName\" className=\"form-control col-10\"\n                            onChange={(evt) => this.setState({ firstName: evt.target.value })}\n                            placeholder=\"Enter First Name\" required />\n                    </div>\n                    <div className=\"form-group d-flex\">\n                        <label className=\"col-2\" htmlFor=\"lastName\">Last Name <span className=\"text-danger\">*</span></label>\n                        <input className=\"form-control col-10\" id=\"lastName\" placeholder=\"Enter Last Name\"\n                            onChange={(evt) => this.setState({ lastName: evt.target.value })} required />\n                    </div>\n                    <div className=\"form-group d-flex\">\n                        <label className=\"col-2\" htmlFor=\"phone\">Phone <span className=\"text-danger\">*</span></label>\n                        <input className=\"form-control col-10\" id=\"phone\" placeholder=\"Enter Phone Number\" minLength=\"10\"\n                            onChange={(evt) => this.setState({ phoneNumber: evt.target.value })} required />\n                    </div>\n                    <div className=\"form-group d-flex\">\n                        <label className=\"col-2\" htmlFor=\"street\">Street <span className=\"text-danger\">*</span></label>\n                        <input className=\"form-control col-10\" id=\"street\" placeholder=\"Enter Street\"\n                            onChange={(evt) => this.setState({ street: evt.target.value })} />\n                    </div>\n                    <div className=\"form-group d-flex align-items-center\">\n                        <label className=\"col-2\" htmlFor=\"city\">City <span className=\"text-danger\">*</span></label>\n                        <input className=\"form-control col-4\" id=\"city\" placeholder=\"Enter City\"\n                            onChange={(evt) => this.setState({ city: evt.target.value })} required />\n                        <label className=\"col-2 text-right\" htmlFor=\"state\">State <span className=\"text-danger\">*</span></label>\n                        <input className=\"form-control col-4\" id=\"state\" placeholder=\"Enter State\"\n                            onChange={(evt) => this.setState({ state: evt.target.value })} required />\n                    </div>\n                    <div className=\"form-group d-flex mb-4\">\n                        <label className=\"col-2\" htmlFor=\"zipcode\">Zipcode <span className=\"text-danger\">*</span></label>\n                        <input className=\"form-control col-8\" id=\"zipcode\" type=\"number\" placeholder=\"Enter Zipcode\" \n                        onChange={(evt) => this.setState({zip: evt.target.value})} required />\n                    </div>\n                    <hr></hr>\n                    <div className=\"d-flex justify-content-end\">\n                        <button className=\"btn btn-primary mr-2\" type=\"submit\">Submit</button>\n                        <button className=\"btn btn-secondary\" onClick={this.props.handleClose}>Close</button>\n                    </div>\n                </form>\n            </div>\n        )\n    }\n\n    render() {\n        const props = {\n            ...this.props,\n            body: this.renderBody(),\n            clazz: 'modal-lg',\n            noFooter: true\n        }\n        return <PopupModel {...props} />\n    }\n}\n\nexport default connect(mapStateToProps)(FindMemberPopup)\n\nfunction mapStateToProps(state) {\n    return {\n        member: state.memberReducer.newMember\n    }\n}","import React, { Component } from \"react\";\nimport { connect } from 'react-redux'\nimport { fetchMembers, filterMember, updatePaging, addNewMember, openAddNewPopup, closeAddNewPopup } from '../actions/memberActions'\nimport _ from 'lodash'\nimport AddMemberPopup from \"./AddMemberPopup\";\n\nclass MemberManagement extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            filter: ''\n        }\n    }\n\n    componentDidMount() {\n        this.props.dispatch(fetchMembers())\n    }\n\n    componentDidUpdate() {\n        if (!this.props.memners && this.props.error) {\n            setTimeout(() => this.props.dispatch(fetchMembers()), 8000)\n        }\n    }\n\n    onFilterMember = () => {\n        this.props.dispatch(filterMember(this.state.filter))\n    }\n\n    onAddNewMember = () => {\n        this.props.dispatch(openAddNewPopup())\n    }\n\n    handleCloseAddNewMember = (action, data) => {\n        if ('ACCEPT' === action) {\n            this.props.dispatch(addNewMember(data))\n        } else {\n            this.props.dispatch(closeAddNewPopup())\n        }\n    }\n\n    renderFilter() {\n        return (\n            <div className=\"card filter shadow border-0\">\n                <div className=\"card-header\">\n                    <span>Filter Members</span>\n                </div>\n                <div className=\"card-body\">\n                    <div className=\"d-flex justify-content-between\">\n                        <div className=\"d-flex\">\n                            <input className=\"form-control col-9 mr-3\" name=\"filterKeyword\" onChange={(evt) => this.setState({ filter: evt.target.value })}></input>\n                            <span className=\"btn btn-secondary shadow\" onClick={this.onFilterMember}>Search</span>\n                        </div>\n                        <div>\n                            <span className=\"btn btn-info shadow\" onClick={this.onAddNewMember}>Add Member</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    renderMember(member, idx) {\n        return (\n            <tr key={idx}>\n                <td>{idx + 1}</td>\n                <td>{member.fullName}</td>\n                <td>{member.address.city}, {member.address.state}, {member.address.zip}</td>\n                <td>{member.phoneNumber}</td>\n            </tr>\n        )\n    }\n\n    renderPaging() {\n        const totalPage = Math.ceil(this.props.members.length / 10)\n        const hasNext = this.props.pageNo < totalPage\n        const hasPrevious = this.props.pageNo > 1\n        return (\n            <div className=\"table-paging\">\n                <nav>\n                    <ul className=\"pagination justify-content-end pagination-sm\">\n                        <li className={\"page-item \" + (!hasPrevious ? 'disabled' : '')}\n                            onClick={() => hasPrevious && this.props.dispatch(updatePaging(this.props.pageNo - 1))}>\n                            <span className=\"page-link\" tabIndex=\"-1\">Previous</span>\n                        </li>\n                        {\n                            _.range(1, totalPage + 1, 1).map((item, idx) => {\n                                const isActive = this.props.pageNo === item\n                                return (\n                                    <li className={\"page-item \" + (isActive ? 'active' : '')} key={idx}\n                                        onClick={() => this.props.dispatch(updatePaging(item))}>\n                                        <span className=\"page-link\" >{item}</span>\n                                    </li>\n                                )\n                            })\n                        }\n                        <li className={\"page-item \" + (!hasNext ? 'disabled' : '')}\n                            onClick={() => hasNext && this.props.dispatch(updatePaging(this.props.pageNo + 1))}>\n                            <span className=\"page-link\" tabIndex=\"-1\">Next</span>\n                        </li>\n                    </ul>\n                </nav>\n            </div>\n        )\n    }\n\n    renderMembersList() {\n        const { members, pageNo } = this.props\n        const start = (pageNo - 1) * 10\n        const end = (members?.length - start) > 10 ? 10 : (members?.length - start)\n        const visibleMembers = _.slice(members, start, start + end)\n        return (\n            <div className=\"card book-list mt-4 shadow border-0\">\n                <div className=\"card-header\">\n                    <span>Members List</span>\n                </div>\n                <div className=\"card-body\">\n                    <table className=\"table table-striped\">\n                        <thead>\n                            <tr>\n                                <th scope=\"col\">#</th>\n                                <th scope=\"col\">Name</th>\n                                <th scope=\"col\">Address</th>\n                                <th scope=\"col\">Phone</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {\n                                visibleMembers?.map((member, idx) => this.renderMember(member, idx))\n                            }\n                        </tbody>\n                    </table>\n                    {this.renderPaging()}\n                </div>\n            </div>\n        )\n    }\n\n    renderPopup = () => {\n        const { openAddNewPopup } = this.props\n\n        if (!openAddNewPopup) return null\n\n        const props = {\n            show: openAddNewPopup,\n            title: 'Add New Member',\n            handleClose: this.handleCloseAddNewMember\n        }\n\n        return (\n            <AddMemberPopup {...props} />\n        )\n    }\n\n    render() {\n        return (\n            <div className=\"MemberManagement\">\n                {this.renderFilter()}\n                {this.renderMembersList()}\n                {this.renderPopup()}\n            </div>\n        )\n    }\n}\n\nexport default connect(mapStateToProps)(MemberManagement)\n\nfunction mapStateToProps(state) {\n    return {\n        members: state.memberReducer.records,\n        error: state.memberReducer.error,\n        pageNo: state.memberReducer.pageNo || 1,\n        openAddNewPopup: state.memberReducer.openAddNewPopup\n    }\n}","import React, { Component } from \"react\";\nimport { connect } from 'react-redux'\nimport { withRouter } from \"react-router-dom\";\nimport { login } from '../actions/memberActions'\nimport _ from 'lodash'\nimport { Carousel } from 'react-bootstrap'\n\nclass Home extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            userName: '',\n            password: '',\n            images: [\n                'https://library.miu.edu/wp-content/uploads/sites/12/2019/11/IMG_0230-860x500.jpg',\n                'https://library.miu.edu/wp-content/uploads/sites/12/2019/05/PicsArt_05-15-08.09.41-860x500.jpg',\n                'https://library.miu.edu/wp-content/uploads/sites/12/2019/11/IMG_0241-860x500.jpg',\n                'https://library.miu.edu/wp-content/uploads/sites/12/2019/11/IMG_0248-860x500.jpg'\n            ]\n        }\n    }\n\n    onLogin = (evt) => {\n        evt.preventDefault()\n        const { userName, password } = this.state\n        this.props.dispatch(login({ userName, password }))\n    }\n\n    renderCarousel() {\n        return (\n            <Carousel>\n                {\n                    _.map(this.state.images, (img, idx) => {\n                        return (\n                            <Carousel.Item key={idx}>\n                                <img src={img} className=\"d-block\" alt=\"\"/>\n                                <Carousel.Caption>\n                                    <h5 className=\"text-info\">Image from https://library.miu.edu/</h5>\n                                </Carousel.Caption>\n                            </Carousel.Item>\n                        )\n                    })\n                }\n            </Carousel>\n        )\n    }\n\n    renderHome() {\n        return (\n            <div className=\"mt-5 text-info\">\n                <h4>Welcome to Maharishi International University Library System</h4>\n                <div className=\"mt-3\">\n                    {this.renderCarousel()}\n                </div>\n            </div>\n        )\n    }\n\n    renderLoginForm() {\n        return (\n            <div className=\"login-form d-flex flex-column col-6\">\n                <form onSubmit={this.onLogin}>\n                    <div className=\"text-center mb-4\">\n                        <h1>Login</h1>\n                    </div>\n                    <div className=\"form-group d-flex align-items-center\">\n                        <label htmlFor=\"userName\">Username</label>\n                        <input className=\"form-control ml-3\"\n                            id=\"userName\" placeholder=\"Enter username\" required\n                            onChange={(evt) => this.setState({ userName: evt.target.value })} />\n                    </div>\n                    <div className=\"form-group d-flex align-items-center\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input type=\"password\" className=\"form-control ml-3\"\n                            id=\"password\" placeholder=\"Password\" required\n                            onChange={(evt) => this.setState({ password: evt.target.value })} />\n                    </div>\n                    <div className=\"d-flex justify-content-end\">\n                        <button className=\"btn btn-primary\" type=\"submit\">Login</button>\n                    </div>\n                </form>\n                <div className=\"d-flex flex-column mt-5 bg-light\">\n                    <h4>Test users</h4>\n                    <span>admin/12345</span>\n                    <span>superadmin/12345</span>\n                    <span>librarian/12345</span>\n                </div>\n            </div>\n        )\n    }\n\n    render() {\n        return (\n            <div className=\"Home d-flex justify-content-center text-center\">\n                {this.props.isAuthenticated ? this.renderHome() : this.renderLoginForm()}\n            </div>\n        )\n    }\n}\n\nexport default connect(mapStateToProps)(withRouter(Home))\n\nfunction mapStateToProps(state) {\n    return state\n} ","import _ from 'lodash'\n\nexport const URL_WITH_PERMISSONS = {\n    BOOK_MANAGEMENT: ['ADD_BOOK'],\n    MEMBER_MANAGEMENT: ['UPDATE_MEMBER', 'DELETE_MEMBER', 'ADD_MEMBER'],\n    CHECK_OUT: ['CHECKOUT_BOOK'],\n    LOGOUT: ['UPDATE_MEMBER', 'ADD_BOOK', 'CHECKOUT_BOOK']\n}\n\nexport const URLS = {\n    BOOK_MANAGEMENT: 'BOOK_MANAGEMENT',\n    MEMBER_MANAGEMENT: 'MEMBER_MANAGEMENT',\n    CHECK_OUT: 'CHECK_OUT',\n    LOGOUT: 'LOGOUT'\n}\n\nconst availableItems = [\n    { id: 1, link: '/', label: 'Home', icon: 'fa-home'},\n    { id: 2, link: '/member-management', label: 'Member Management', type: URLS.MEMBER_MANAGEMENT, icon: 'fa-user-friends' },\n    { id: 3, link: '/book-management', label: 'Book Management', type: URLS.BOOK_MANAGEMENT, icon: 'fa-book' },\n    { id: 4, link: '/checkout', label: 'Checkout', type: URLS.CHECK_OUT, icon: 'fa-receipt' },\n    { link: 'logout', label: 'Logout', type: URLS.LOGOUT, icon: 'fa-sign-out-alt' }\n]\n\nexport function isAllowToAccessPath(pathname, userPermissions) {\n    const items = extractItemFromPathname(pathname)\n    return items.filter(item => isAllow({type: item.type, userPermissions})).length > 0\n}\n\nexport function getAvailableURLs(userPermissions) {\n    return availableItems.filter(item => isAllow({type: item.type, userPermissions}))\n}\n\nfunction extractItemFromPathname(pathname) {\n    return availableItems.filter(item => item.link === pathname)\n}\n\nfunction isAllow({ type, userPermissions}) {\n    if (_.isEmpty(type))\n        return true\n\n    if (_.isEmpty(userPermissions))\n        return false\n\n    const requiredPermissions = URL_WITH_PERMISSONS[type]\n\n    const results = userPermissions.filter(up => _.findIndex(requiredPermissions, rp => rp === up) > -1)\n\n    return !_.isEmpty(results)\n}","import React, { Component } from \"react\";\nimport '../scss/side-bar.scss'\nimport { withRouter } from 'react-router-dom'\nimport { logout } from '../actions/memberActions'\nimport * as urlConfig from '../config/urlConfig'\n\nclass SideBar extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            items: []\n        }\n    }\n\n    isActive = (item) => {\n        const { history: { location: { pathname } } } = this.props\n        return item.link === pathname\n    }\n\n    onClickLink = (item) => {\n        if (item.link === 'logout') {\n            this.props.dispatch(logout())\n        } else {\n            this.props.history.push(item.link)\n        }\n    }\n\n    renderNav() {\n        return (\n            <div className=\"nav d-sm-none d-md-block d-lg-none\">\n                <nav className=\"navbar navbar-expand-lg\">\n                    <span className=\"navbar-brand\">Library Management</span>\n                </nav>\n            </div>\n        )\n    }\n\n    renderMenus() {\n        const items = urlConfig.getAvailableURLs(this.props.permissions)\n\n        return (\n            items.map((item, idx) => {\n                const isActive = this.isActive(item)\n                return (\n                    <li className={\"nav-item \" + (isActive ? 'active' : '')} key={idx} onClick={() => this.onClickLink(item)}>\n                        <span className={\"nav-link \" + (isActive ? 'active' : '')}>\n                            <i className={\"mr-1 col-2 fas \" + item.icon}></i>{item.label}\n                        </span>\n                    </li>\n                )\n            })\n        )\n\n    }\n\n    render() {\n        return (\n            <div className=\"side-bar d-none d-lg-block\" id=\"sidebar-wrapper\">\n                <nav className=\"\">\n                    <div className=\"sidebar-heading\"></div>\n                    <ul className=\"nav flex-column flex-nowrap\">\n                        {this.renderMenus()}\n                    </ul>\n                </nav>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(SideBar)","import React, { Component } from \"react\";\n\nexport default class LoadingComponent extends Component {\n    render() {\n        return (\n            <div className=\"loading-layout\" id=\"loadingLayout\">\n                <div className=\"loading-overlay\"></div>\n                <div className=\"loading-spinner d-flex justify-content-center\">\n                    <div className=\"spinner-grow text-success\" role=\"status\">\n                        <span className=\"sr-only\">Loading...</span>\n                    </div>\n                    <div className=\"spinner-grow text-success\" role=\"status\">\n                        <span className=\"sr-only\">Loading...</span>\n                    </div>\n                    <div className=\"spinner-grow text-success\" role=\"status\">\n                        <span className=\"sr-only\">Loading...</span>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}","import React, { Component } from \"react\";\nimport { Redirect, withRouter } from \"react-router-dom\";\nimport * as urlConfig from '../config/urlConfig'\n\nclass AuthenComponent extends Component {\n    render() {\n        if (!this.props.isAuthenticated \n            || !urlConfig.isAllowToAccessPath(this.props.history.location.pathname, this.props.permissions)) {\n            return <Redirect to=\"/\" />\n        }\n        return null\n    }\n}\n\nexport default withRouter(AuthenComponent)","export const ACTIONS = {\n    ADD_TOAST: 'ADD_TOAST',\n    REMOVE_TOAST: 'REMOVE_TOAST'\n}\n\nexport const TOAST_TYPE = {\n    ERROR: 'bg-danger',\n    WARNING: 'bg-warning',\n    INFO: 'bg-info',\n    SUCCESS: 'bg-success',\n}\n\nlet count = 0\nfunction uniqueId() {\n    return count++\n}\n\nexport function addToast({title, message, toastType, errors}) {\n    return {\n        type: ACTIONS.ADD_TOAST,\n        payload: {\n            item: {\n                title,\n                message,\n                id: uniqueId(),\n                tClass: toastType,\n                errors\n            }\n        }\n    }\n}\n\nexport function removeToast(id) {\n    return {\n        type: ACTIONS.REMOVE_TOAST,\n        payload: {\n            id\n        }\n    }\n}","import React, { useEffect, useRef } from 'react';\nimport _ from 'lodash'\n\nfunction ToastMessage({ item, remove }) {\n    const removeRef = useRef()\n    removeRef.current = remove\n\n    useEffect(() => {\n        const id = setTimeout(() => removeRef.current(item), 5000);\n        return () => clearTimeout(id);\n    }, [item])\n\n    return (\n        <div className=\"toast show border-0\">\n            <div className={\"toast-header border-0 \" + item.tClass}>\n                <strong className=\"mr-auto\">{item.title}</strong>\n                {/* <small className=\"text-muted\">just now</small> */}\n                <span type=\"button\" className=\"ml-2 mb-1 close\" onClick={() => remove(item)}>\n                    <span aria-hidden=\"true\">&times;</span>\n                </span>\n            </div>\n            <div className=\"toast-body\">\n                {item.message}\n                <div className=\"d-flex flex-column border-info\">\n                    {\n                        _.map(item.errors, (error, idx) =>{\n                            return <span key={idx}>{_.isObject(error) ? error.message : error}</span>\n                        })\n                    }\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ToastMessage;","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport _ from 'lodash'\nimport { removeToast } from '../actions/toastActions'\nimport ToastMessage from './ToastMessage'\n\nclass ToastComponent extends Component {\n\n    onTimeOut = (item) => {\n        setTimeout(() => this.props.dispatch(removeToast(item.id)), 5000)\n    }\n\n    onClickRemove = (item) => {\n        this.props.dispatch(removeToast(item.id))\n    }\n\n    renderItems() {\n        const { items } = this.props\n        return (\n            <div className=\"toasts\">\n                {\n                    _.map(items, (item, idx) => {\n                        return <ToastMessage {...{item, remove: this.onClickRemove}} key={idx}/>\n                    })\n                }\n            </div>\n        )\n    }\n\n    render() {\n        return (\n            <div className=\"toast-container\">\n                {this.renderItems()}\n            </div>\n        )\n    }\n}\n\nexport default connect(mapStateToProps)(ToastComponent)\n\nfunction mapStateToProps(state) {\n    return {\n        items: state.toastReducer.items\n    }\n}","import React, { Component } from 'react';\nimport Nav from './components/Nav';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Checkout from './components/Checkout';\nimport BookManagement from './components/BookManagement';\nimport MemberManagement from './components/MemberManagement';\nimport Home from './components/Home';\nimport SideBar from './components/SideBar';\nimport LoadingComponent from './components/Loading';\nimport {connect} from 'react-redux'\nimport AuthenComponent from './components/AuthenComponent';\nimport ToastComponent from './components/ToastComponent';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      isOpenSideBar: true\n    }\n  }\n\n  toggleSideBar = () => {\n    this.setState({ isOpenSideBar: !this.state.isOpenSideBar })\n  }\n\n  render() {\n    return (\n      <Router basename={process.env.NODE_ENV=='development'?'/':'/probuild'}>\n        <div className={\"App d-flex \" + (this.state.isOpenSideBar ? '' : 'togged')} id=\"wrapper\">\n          <ToastComponent/>\n          <AuthenComponent {...this.props}/>\n          <LoadingComponent/>\n          <SideBar {...this.props}></SideBar>\n          <div className=\"page-content-wrapper\">\n            <Nav toggleSideBar={this.toggleSideBar} {...this.props}></Nav>\n            <div className=\"container-fluid\">\n              <Switch>\n                <Route exact path=\"/\">\n                  <Home {...this.props}/>\n                </Route>\n                <Route path=\"/checkout\">\n                  <Checkout />\n                </Route>\n                <Route path=\"/book-management\">\n                  <BookManagement />\n                </Route>\n                <Route path=\"/member-management\">\n                  <MemberManagement />\n                </Route>\n              </Switch>\n            </div>\n          </div>\n        </div>\n      </Router>\n    )\n  }\n}\n\nexport default connect(mapStateToProps)(App)\n\nfunction mapStateToProps(state) {\n  return {\n      isAuthenticated: state.authReducer.isAuthenticated,\n      permissions: state.authReducer.permissions,\n      fullName: state.authReducer.fullName\n  }\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ACTIONS } from '../actions/bookActions'\n\nconst initState = {\n    records: [],\n    isLoading: true\n}\n\nexport default function books(state = initState, action) {\n    const { payload, type } = action\n    switch (type) {\n        case ACTIONS.FETCH_BOOKS:\n            return {\n                ...state\n            }\n        case ACTIONS.FETCH_BOOKS_SUCCEEDED:\n            return {\n                records: payload && payload.data,\n                succeed: payload && payload.success,\n                messages: payload && (payload.messages || [payload.message])\n            }\n\n        case ACTIONS.FETCH_BOOKS_FAILED:\n            return {\n                ...state,\n                error: payload\n            }\n\n        case ACTIONS.FILTER_BOOK_SUCCEEDED:\n            return {\n                records: payload.data\n            }\n        // add book\n        case ACTIONS.ADD_NEW_BOOK_SUCCEEDED:\n            return {\n                ...state,\n                records: state.records.concat(action.payload),\n                newBookResult: payload\n            }\n\n        case ACTIONS.ADD_NEW_BOOK_FAILED:\n            return {\n                ...state,\n                newBookErrors: payload.errors\n            }\n        // get authors\n        case ACTIONS.FETCH_AUTHORS_SUCCEEDED:\n            return {\n                ...state,\n                authors: payload.data\n            }\n\n        case ACTIONS.ADD_BOOK_COPY_FAILED:\n            return {\n                ...state,\n                keepEditCopy: true\n            }\n        case ACTIONS.UPDATE_BOOK_PAGING:\n            return {\n                ...state,\n                pageNo: payload\n            }\n\n        default:\n            return state\n    }\n}","import { ACTIONS } from '../actions/memberActions'\n\nconst initState = {\n    records: [],\n    checkout: {\n        isbn: '',\n        memberId: ''\n    },\n    checkoutRecord: ''\n}\n\nexport default function members(state = initState, action) {\n    const { type, payload } = action\n    switch (type) {\n        case ACTIONS.FETCH_MEMBERS_SUCCEEDED:\n            return {\n                ...state,\n                records: payload.data,\n                pageNo: 1\n            }\n\n        case ACTIONS.FILTER_MEMBER_SUCCEEDED:\n            return {\n                ...state,\n                records: payload.data,\n                pageNo: 1\n            }\n\n        case ACTIONS.FETCH_MEMBERS_FAILED:\n            return {\n                ...state,\n                error: payload\n            }\n\n        case ACTIONS.CHECKOUT_SUCCEEDED:\n            return {\n                ...state,\n                checkout: {\n                    memberId: state.checkout.memberId,\n                    isbn: ''\n                }\n            }\n\n        case ACTIONS.SELECT_BOOK:\n            return {\n                ...state,\n                checkout: {\n                    ...state.checkout,\n                    isbn: payload\n                }\n            }\n\n        case ACTIONS.SELECT_MEMBER:\n            return {\n                ...state,\n                checkout: {\n                    ...state.checkout,\n                    memberId: payload\n                }\n            }\n\n        case ACTIONS.FETCH_CHECKOUT_RECORDS_SUCCEEDED:\n            return {\n                ...state,\n                checkoutRecord: payload?.data?.checkoutRecord\n            }\n\n        case ACTIONS.UPDATE_PAGING:\n            return {\n                ...state,\n                pageNo: payload\n            }\n\n        case ACTIONS.OPEN_ADD_NEW_POPUP: {\n            return {\n                ...state,\n                openAddNewPopup: true\n            }\n        }\n\n        case ACTIONS.CLOSE_ADD_NEW_POPUP: {\n            return {\n                ...state,\n                openAddNewPopup: false\n            }\n        }\n\n        default:\n            return state\n    }\n}","import { ACTIONS } from '../actions/memberActions'\n\nexport const USER_INFO = {\n    ID: 'USER_ID',\n    PERMISSIONS: 'PERMISSIONS',\n    NAME: 'USER_NAME'\n}\n\nexport const authenticationMiddlewear = store => next => action => {\n    switch (action.type) {\n        case ACTIONS.LOGIN_SUCCEEDED:\n            const userData = action.payload?.data?.systemUser\n            localStorage.setItem(USER_INFO.ID, userData.userName)\n            localStorage.setItem(USER_INFO.PERMISSIONS, JSON.stringify(userData.permissionsGranted))\n            localStorage.setItem(USER_INFO.NAME, userData.fullName)\n\n            return next(action)\n\n        case ACTIONS.LOGOUT:\n            localStorage.removeItem(USER_INFO.ID)\n            localStorage.removeItem(USER_INFO.PERMISSIONS)\n            localStorage.removeItem(USER_INFO.NAME)\n            return next(action)\n\n        default:\n            return next(action)\n    }\n}","import {USER_INFO} from '../middleware/authentication'\nimport _ from 'lodash'\n\nfunction authReducer(state = {isAuthenticated: false}, action) {\n    return {\n        ...state,\n        ...initUserData()\n    }\n}\n\nfunction initMockData() {\n    return {\n        isAuthenticated: true,\n        permissions: ['ADD_BOOK', 'CHECKOUT_BOOK', 'ADD_MEMBER']\n    }\n}\n\nfunction initUserData() {\n    return {\n        isAuthenticated: !_.isEmpty(localStorage.getItem(USER_INFO.ID)),\n        permissions: localStorage.getItem(USER_INFO.PERMISSIONS) ? JSON.parse(localStorage.getItem(USER_INFO.PERMISSIONS)) : [],\n        fullName: localStorage.getItem(USER_INFO.NAME)\n    }\n}\n\nexport default authReducer;","import {ACTIONS} from '../actions/toastActions'\n\nconst initData = {\n    items: []\n}\n\nfunction toasts(state = initData, action) {\n    const { type, payload } = action\n    switch (type) {\n        case ACTIONS.ADD_TOAST:\n            return {\n                items: state.items.concat(payload.item)\n            }\n\n        case ACTIONS.REMOVE_TOAST:\n            return {\n                items: state.items.filter(item => item.id !== payload.id)\n            }\n        default:\n            return state\n    }\n}\n\nexport default toasts","import {combineReducers} from 'redux'\nimport bookReducer from './BooksReducer'\nimport memberReducer from './MemberReducer'\nimport authReducer from './AuthenticationReducer'\nimport toastReducer from './ToastReducer'\n\nexport default combineReducers({memberReducer, bookReducer, authReducer, toastReducer});\n","import $ from 'jquery'\n\nconst loadingMiddleware = store => next => action => {\n    if (action && action.isLoading) {\n        $('#loadingLayout').addClass('show')\n    } else {\n        $('#loadingLayout').removeClass('show')\n    }\n    return next(action)\n}\n\nexport default loadingMiddleware","import { addToast, TOAST_TYPE } from \"../actions/toastActions\"\nimport * as memberActions from '../actions/memberActions'\nimport * as bookActions from '../actions/bookActions'\n\nexport const toastMiddleware = store => next => action => {\n    const { type } = action\n\n    switch (type) {\n        case memberActions.ACTIONS.FETCH_MEMBERS_FAILED:\n            store.dispatch(\n                addToast(\n                    buildToastMessage('Error', 'Unable to fetch the Members', TOAST_TYPE.ERROR)\n                )\n            )\n            return next(action)\n\n        case bookActions.ACTIONS.FETCH_BOOKS_FAILED:\n            store.dispatch(\n                addToast(\n                    buildToastMessage('Error', 'Unable to fetch the Books', TOAST_TYPE.ERROR)\n                )\n            )\n            return next(action)\n\n\n        case bookActions.ACTIONS.ADD_NEW_BOOK_SUCCEEDED:\n            store.dispatch(\n                addToast(\n                    buildToastMessage('Info', 'Add the book successfully', TOAST_TYPE.SUCCESS)\n                )\n            )\n            return next(action)\n\n        case memberActions.ACTIONS.CHECKOUT_SUCCEEDED:\n            store.dispatch(\n                addToast(\n                    buildToastMessage('Info', 'Checkout book successfully', TOAST_TYPE.SUCCESS)\n                )\n            )\n            store.dispatch(\n                memberActions.fetchCheckoutRecords(store.getState().memberReducer.checkout.memberId)\n            )\n            return next(action)\n\n        case memberActions.ACTIONS.CHECKOUT_FAILED:\n            const { response: { data: { errors } } } = action.payload\n            store.dispatch(\n                addToast(\n                    buildToastMessage('Unable to Checkout the book', 'Info: ', TOAST_TYPE.WARNING, errors)\n                )\n            )\n            return next(action)\n\n        case memberActions.ACTIONS.LOGIN_FAILED:\n            store.dispatch(\n                addToast(\n                    buildToastMessage('Login Fail', 'Details: ', TOAST_TYPE.WARNING, action.payload?.response?.data?.errors)\n                )\n            )\n            return next(action)\n\n        case bookActions.ACTIONS.ADD_BOOK_COPY_SUCCEEDED:\n            store.dispatch(\n                addToast(\n                    buildToastMessage('Book Copy Added', 'Book Copy added successfully ', TOAST_TYPE.SUCCESS)\n                )\n            )\n            store.dispatch(bookActions.fetchBooks(''))\n            return next(action)\n\n        case bookActions.ACTIONS.ADD_BOOK_COPY_FAILED:\n            store.dispatch(\n                addToast(\n                    buildToastMessage('Error', 'Unable to add book copy', TOAST_TYPE.ERROR)\n                )\n            )\n            return next(action)\n\n        case memberActions.ACTIONS.ADD_MEMBER_FAILED:\n            store.dispatch(\n                addToast(\n                    buildToastMessage('Error', 'Unable to add New Member', TOAST_TYPE.ERROR, action.payload?.response?.data?.errors)\n                )\n            )\n            return next(action)\n\n        case memberActions.ACTIONS.ADD_MEMBER_SUCCEEDED:\n            store.dispatch(\n                addToast(\n                    buildToastMessage('Success', 'Add New Member successfully', TOAST_TYPE.SUCCESS)\n                )\n            )\n            store.dispatch(memberActions.fetchMembers())\n            store.dispatch(memberActions.closeAddNewPopup())\n            return next(action)\n\n        default:\n            return next(action)\n    }\n}\n\nfunction buildToastMessage(title, message, toastType, errors) {\n    return { title, message, toastType, errors }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './scss/main.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport reducers from './reducers'\nimport thunkMiddleWare from 'redux-thunk'\nimport apiMiddleware from './middleware/api'\nimport loadingMiddleware from './middleware/loading'\nimport { authenticationMiddlewear } from './middleware/authentication';\nimport { toastMiddleware } from './middleware/toastMiddlewear';\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nconst store = createStore(\n  reducers,\n  composeWithDevTools(applyMiddleware(// allow dispatch function instead of plain object. Acts like Java Filter\n    thunkMiddleWare,\n    apiMiddleware,\n    toastMiddleware,\n    authenticationMiddlewear,\n    loadingMiddleware\n  ))\n)\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}