(this["webpackJsonpproject-client"]=this["webpackJsonpproject-client"]||[]).push([[0],{66:function(e,t,a){e.exports=a(97)},71:function(e,t,a){},72:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),o=a.n(l),c=(a(71),a(5)),s=a(6),i=a(8),m=a(7),u=(a(72),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light border-bottom justify-content-between mb-3 border-0"},r.a.createElement("div",{className:"d-flex justify-content-start"},r.a.createElement("span",{className:"btn btn-secondary toggle-button",id:"menu-toggle",onClick:this.props.toggleSideBar},r.a.createElement("i",{className:"fas fa-bars"})),r.a.createElement("span",{className:"navbar-brand ml-3"},"Library Management")),r.a.createElement("div",{className:"d-flex justify-content-end"},this.props.fullName?r.a.createElement("h5",{className:"text-info"},"Welcome, ",this.props.fullName):null))}}]),a}(n.Component)),d=a(29),p=a(25),h=a(9),E=a.n(h),b=a(99);function f(e){var t=e.show,a=e.handleClose,n=e.title,l=e.body,o=e.saveLabel,c=e.cancelLabel,s=e.clazz,i=e.children,m=e.noFooter;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{show:t,onHide:a,dialogClassName:s},r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,null,n)),r.a.createElement(b.a.Body,null,i,l),m?null:r.a.createElement(b.a.Footer,null,r.a.createElement("span",{className:"btn btn-primary shadow",onClick:function(){return a("ACCEPT")}},o||"Save Changes"),r.a.createElement("span",{className:"btn btn-secondary shadow",onClick:function(){return a("CANCEL")}},c||"Close"))))}var v=a(10),N=a(12),g=a(32),y=a(60),k=a.n(y),O="CALL_API",C="POST",j="GET";var S=function(e){return function(e){return function(t){var a=t[O];if(void 0===typeof a||void 0===a)return e(t);var n=Object(g.a)(a.types,4),r=n[0],l=n[1],o=n[2],c=n[3];return e({type:r,isLoading:c}),function(e){var t=e.endpoint,a=e.method,n=void 0===a?"GET":a,r=e.body,l={url:"".concat("http://192.168.0.147:8080/api").concat(t),method:n,data:r,header:{"Content-Type":"application/json"}};return k()(l)}({endpoint:a.endpoint,method:a.method,body:a.body}).then((function(t){var n;return console.log("Success:"+t),(null===(n=a.next)||void 0===n?void 0:n.ok)&&a.next.ok(),e({type:l,payload:t.data})})).catch((function(t){var n,r;return console.log("ERROR:"+t),(null===(n=a.next)||void 0===n?void 0:n.fail)&&a.next.fail(),e({type:o,payload:null===(r=t.response)||void 0===r?void 0:r.data})}))}}},A="FETCH_MEMBERS",w="FETCH_MEMBERS_SUCCEEDED",B="FETCH_MEMBERS_FAILED",x="FILTER_MEMBER",M="FILTER_MEMBER_SUCCEEDED",_="FILTER_MEMBER_FAILED",D="CHECKOUT",R="CHECKOUT_SUCCEEDED",I="CHECKOUT_FAILED",L="SELECT_BOOK",F="SELECT_MEMBER",T="FETCH_CHECKOUT_RECORDS",P="FETCH_CHECKOUT_RECORDS_SUCCEEDED",U="FETCH_CHECKOUT_RECORDS_FAILED",K="LOGIN",H="LOGIN_SUCCEEDED",G="LOGIN_FAILED",z="LOGOUT",W="UPDATE_PAGING";function q(e){return Object(N.a)({},O,{types:[x,M,_],endpoint:"/member/search?searchString=".concat(e),method:j})}function J(){return Object(N.a)({},O,{types:[A,w,B,!0],endpoint:"/member/list",method:j})}function V(e){return Object(N.a)({},O,{types:[T,P,U],endpoint:"/member?memberId=".concat(e),method:j})}function Y(e){return{type:W,payload:e}}var Z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleClose=function(e){"ACCEPT"===e?n.props.handleClose("SELECT_MEMBER",n.state.selected):n.props.handleClose()},n.onSelectMember=function(e){n.setState({selected:e.memberId})},n.onSearch=function(){n.props.dispatch(q(n.state.filter))},n.state={filter:"",selected:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(J())}},{key:"renderMember",value:function(e,t){var a=this,n=this.state.selected;return r.a.createElement("tr",{key:t,onClick:function(){return a.onSelectMember(e)},className:n===e.memberId?"bg-info":""},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.fullName),r.a.createElement("td",null,e.address.city,", ",e.address.state,", ",e.address.zip),r.a.createElement("td",null,e.phoneNumber))}},{key:"renderBody",value:function(){var e=this,t=this.props.members;return r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("div",{className:"d-flex flex-row mb-4"},r.a.createElement("input",{className:"form-control col-6 mr-3",name:"memberId",onChange:function(t){return e.setState({filter:t.target.value})},placeholder:"Enter Search String"}),r.a.createElement("span",{className:"btn btn-info shadow",onClick:this.onSearch},r.a.createElement("i",{className:"fas fa-search"}))),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Address"),r.a.createElement("th",{scope:"col"},"Phone"))),r.a.createElement("tbody",null,E.a.isArray(t)&&t.map((function(t,a){return e.renderMember(t,a)})))))}},{key:"render",value:function(){var e={show:!0,title:"Find Member",saveLabel:"Accept",body:this.renderBody(),handleClose:this.handleClose,clazz:"modal-lg"};return r.a.createElement(f,e)}}]),a}(n.Component),$=Object(v.b)((function(e){return{members:e.memberReducer.records}}))(Z);var Q="FETCH_BOOKS",X="FETCH_BOOKS_SUCCEEDED",ee="FETCH_BOOKS_FAILED",te="ADD_BOOK_COPY",ae="ADD_BOOK_COPY_SUCCEEDED",ne="ADD_BOOK_COPY_FAILED",re="ADD_NEW_BOOK",le="ADD_NEW_BOOK_FAILED",oe="ADD_NEW_BOOK_SUCCEEDED",ce="FILTER_BOOK",se="FILTER_BOOK_SUCCEEDED",ie="FETCH_AUTHORS",me="FETCH_AUTHORS_SUCCEEDED",ue="UPDATE_BOOK_PAGING";function de(){return Object(N.a)({},O,{types:[Q,X,ee,!0],endpoint:"/book/list",method:j})}function pe(e){return Object(N.a)({},O,{types:[ce,se,se,!0],endpoint:"/book/search?searchString=".concat(e),method:j})}function he(e){return{type:ue,payload:e}}var Ee=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleClose=function(e){"ACCEPT"===e?n.props.handleClose("SELECT_BOOK",n.state.selected):n.props.handleClose()},n.onSelectBook=function(e){n.setState({selected:e.isbn})},n.onSearch=function(){n.props.dispatch(pe(n.state.filter))},n.state={filter:"",selected:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(de())}},{key:"renderBook",value:function(e,t){var a=this,n=this.state.selected;return r.a.createElement("tr",{key:t,onClick:function(){return a.onSelectBook(e)},className:n===e.isbn?"bg-info":""},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.isbn),r.a.createElement("td",null,e.authors[0].fullName),r.a.createElement("td",null,e.maxCheckoutLength),r.a.createElement("td",null,e.copieAvailable))}},{key:"renderBody",value:function(){var e=this,t=this.props.books;return r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("div",{className:"d-flex flex-row mb-4"},r.a.createElement("input",{className:"form-control col-6 mr-3",name:"isbn",onChange:function(t){return e.setState({filter:t.target.value})},placeholder:"Enter Search String"}),r.a.createElement("span",{className:"btn btn-info shadow",onClick:this.onSearch},r.a.createElement("i",{className:"fas fa-search"}))),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"ISBN"),r.a.createElement("th",{scope:"col"},"Authors"),r.a.createElement("th",{scope:"col"},"Period"),r.a.createElement("th",{scope:"col"},"Available Copies"))),r.a.createElement("tbody",null,E.a.isArray(t)&&t.map((function(t,a){return e.renderBook(t,a)})))))}},{key:"render",value:function(){var e={show:!0,title:"Find Book",saveLabel:"Accept",body:this.renderBody(),handleClose:this.handleClose,clazz:"modal-lg"};return r.a.createElement(f,e)}}]),a}(n.Component),be=Object(v.b)((function(e){var t;return{books:null===(t=e.bookReducer.records)||void 0===t?void 0:t.filter((function(e){return e.copieAvailable>0}))}}))(Ee);var fe="FIND_MEMBER",ve="FIND_BOOK",Ne=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).openPopup=function(e){n.setState({isOpenPopup:!0,popupName:e})},n.onCheckout=function(){var e=n.props.checkout,t=e.memberId,a=e.isbn;n.props.dispatch(function(e){var t=e.memberId,a=e.isbn;return Object(N.a)({},O,{types:[D,R,I,!0],endpoint:"/checkout/book/".concat(a,"/member/").concat(t),method:C})}({isbn:a,memberId:t}))},n.handleClosePopup=function(e,t){switch(e){case"SELECT_MEMBER":n.props.dispatch({type:F,payload:t}),n.props.dispatch(V(t)),n.setState({isOpenPopup:!1,popupName:""});break;case"SELECT_BOOK":n.props.dispatch({type:L,payload:t}),n.setState({isOpenPopup:!1,popupName:""});break;default:n.setState({isOpenPopup:!1,popupName:""})}},n.renderPopup=function(){var e=n.state,t=e.isOpenPopup,a=e.popupName;return t?ve===a?r.a.createElement(be,{handleClose:n.handleClosePopup}):r.a.createElement($,{handleClose:n.handleClosePopup}):null},n.state={isOpenPopup:!1,popupName:""},n}return Object(s.a)(a,[{key:"isValid",value:function(){var e=this.props.checkout,t=e.memberId,a=e.isbn;return t&&a}},{key:"renderCheckoutForm",value:function(){var e=this,t=this.props.checkout,a=t.memberId,n=t.isbn;return r.a.createElement("div",{className:"card filter shadow border-0"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",null,"Checkout")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("div",{className:"d-flex flex-row mb-2"},r.a.createElement("span",{className:"col-2"},"Member ID:"),r.a.createElement("input",{className:"form-control col-6 mr-3",name:"memberId",disabled:!0,value:a}),r.a.createElement("span",{className:"btn btn-info shadow",onClick:function(){return e.openPopup(fe)}},r.a.createElement("i",{className:"fas fa-search"}))),r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement("span",{className:"col-2"},"ISBN:"),r.a.createElement("input",{className:"form-control col-6 mr-3",name:"isbn",disabled:!0,value:n}),r.a.createElement("span",{className:"btn btn-info shadow",onClick:function(){return e.openPopup(ve)}},r.a.createElement("i",{className:"fas fa-search"}))),r.a.createElement("div",{className:"d-flex justify-content-end mt-4"},r.a.createElement("button",{className:"btn btn-primary shadow",onClick:this.onCheckout,disabled:!this.isValid()},"Check out")))))}},{key:"renderCheckoutEntry",value:function(e,t){var a=e.book,n=e.checkoutDate,l=e.overDue,o=e.returnDueDate,c="ISBN2"===a.isbn||l;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),r.a.createElement("td",null,a.title),r.a.createElement("td",null,a.isbn),r.a.createElement("td",null,null===n||void 0===n?void 0:n.substring(0,10)),r.a.createElement("td",null,null===o||void 0===o?void 0:o.substring(0,10)),r.a.createElement("td",null,r.a.createElement("span",{className:c?"overdue":""})))}},{key:"renderCheckoutHistory",value:function(){var e,t=this,a=this.props.checkoutRecord;return r.a.createElement("div",{className:"card checkout-records mt-4 shadow border-0"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",null,"Checkout History")),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Book"),r.a.createElement("th",{scope:"col"},"ISBN"),r.a.createElement("th",{scope:"col"},"Checkout Date"),r.a.createElement("th",{scope:"col"},"Due Date"),r.a.createElement("th",null,"Overdue"))),r.a.createElement("tbody",null,null===a||void 0===a||null===(e=a.checkoutEntries)||void 0===e?void 0:e.map((function(e,a){return t.renderCheckoutEntry(e,a)}))))))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Checkout"},this.renderCheckoutForm(),this.renderCheckoutHistory(),this.renderPopup())}}]),a}(n.Component),ge=Object(v.b)((function(e){var t=e.memberReducer,a=t.records,n=t.checkout,r=t.checkoutRecord;return{members:a,checkout:n||{memberId:"",isbn:""},checkoutRecord:r}}))(Ne);var ye=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onAddOK=function(){n.props.handleClose(!0)},n.onAddFail=function(){console.log("Failed")},n.onFieldChange=function(e){var t=e.target,a=t.name,r="number"==t.type?parseInt(t.value):t.value;n.setState(Object(N.a)({},a,r))},n.onSelectAuthorChange=function(e){var t=e.target,a=t.name,r=function(e){for(var t,a=[],n=e&&e.options,r=0,l=n.length;r<l;r++)(t=n[r]).selected&&a.push(t.value||t.text);return a}(t);n.setState(Object(N.a)({},a,r))},n.handleClose=function(e){"ACCEPT"===e?n.myForm.current.reportValidity()&&n.onAddNewBook():n.props.handleClose()},n.state={title:"",isbn:"",copieAvailable:0,maxCheckoutLength:0},n.myForm=r.a.createRef(),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(N.a)({},O,{types:[ie,me,!0],endpoint:"/author/list",method:j}))}},{key:"onAddNewBook",value:function(e){console.log(1111111);var t=this.state,a=t.title,n=t.isbn,r=t.copieAvailable,l=t.maxCheckoutLength,o=t.authors;this.props.dispatch(function(e,t,a){var n=e.title,r=e.isbn,l=e.copieAvailable,o=e.maxCheckoutLength,c=e.authors;return Object(N.a)({},O,{types:[re,oe,le,!0],endpoint:"/book/add",method:C,body:{title:n,isbn:r,nbrOfCopies:l,maxCheckoutLength:o,authors:c},next:{ok:t,fail:a}})}({title:a,isbn:n,copieAvailable:r,maxCheckoutLength:l,authors:o},this.onAddOK,this.onAddFail))}},{key:"render",value:function(){var e={show:!0,title:"Add Book",saveLabel:"Save",body:this.renderBody(),handleClose:this.handleClose,clazz:"modal-lg"};return r.a.createElement(f,e)}},{key:"renderMessage",value:function(){var e=this.props,t=e.success,a=e.message,n=(e.authors,e.error);return r.a.createElement("div",null,n&&r.a.createElement("div",{className:"alert alert-danger",role:"alert",title:null===n||void 0===n?void 0:n.message},r.a.createElement("strong",null,"Opps!")," Add book failed."),t&&r.a.createElement("div",{className:"alert alert-success",role:"alert",title:a},r.a.createElement("strong",null,"Well done!")," Add book success."))}},{key:"renderBody",value:function(){var e=this.props.authors,t=this.state,a=t.title,n=t.isbn,l=t.copieAvailable,o=t.maxCheckoutLength;return r.a.createElement("div",{className:"",id:"container"},this.renderMessage(),r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("b",null,"Note:")," Form fields marked with asterisk (*) are required.")),r.a.createElement("br",null),r.a.createElement("form",{id:"bookForm",ref:this.myForm},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"*Book Title"),r.a.createElement("input",{id:"title",name:"title",type:"text",className:"form-control",onChange:this.onFieldChange,value:a,required:!0,autoFocus:!0})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"isbn"},"*ISBN"),r.a.createElement("input",{id:"isbn",name:"isbn",type:"text",className:"form-control",onChange:this.onFieldChange,value:n,required:!0})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"noofc"},"*Number of Copies"),r.a.createElement("input",{id:"noofc",name:"copieAvailable",type:"number",className:"form-control",onChange:this.onFieldChange,value:l,required:!0,autoFocus:!0}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"overdueFee"},"*Max Checkout Length"),r.a.createElement("input",{id:"overdueFee",name:"maxCheckoutLength",type:"number",className:"form-control",onChange:this.onFieldChange,value:o,required:!0})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"authors"},"Author:"),r.a.createElement("select",{multiple:!0,className:"form-control",id:"authors",name:"authors",onChange:this.onSelectAuthorChange,required:!0},e&&e.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.fullName)}))))))))}}]),a}(n.Component);var ke=Object(v.b)((function(e){var t,a;return{books:e.bookReducer.records,success:null===(t=e.bookReducer.newBookResult)||void 0===t?void 0:t.success,message:(null===(a=e.bookReducer.newBookResult)||void 0===a?void 0:a.messages)&&e.bookReducer.newBookResult.messages.pop(),authors:e.bookReducer.authors,error:e.bookReducer.newBookErrors&&e.bookReducer.newBookErrors.pop()}}))(ye);var Oe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onAddBook=function(){n.setState({isOpenAddNew:!0})},n.handleCloseAddBook=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setState({isOpenAddNew:!1}),e&&n.props.dispatch(de())},n.renderPopup=function(){return n.state.isOpenAddNew?r.a.createElement(ke,{handleClose:n.handleCloseAddBook}):null},n.state={filter:"",isOpenAddNew:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(de())}},{key:"componentDidUpdate",value:function(){var e=this;!this.props.books&&this.props.error&&setTimeout((function(){return e.props.dispatch(de())}),8e3)}},{key:"renderFilter",value:function(){var e=this;return r.a.createElement("div",{className:"card filter shadow border-0"},r.a.createElement("div",{className:"card-header"},r.a.createElement("span",null,"Filter Books")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("input",{className:"form-control col-9 mr-3",name:"filterKeyword",onChange:function(t){return e.setState({filter:t.target.value})},type:"text"}),r.a.createElement("span",{className:"btn btn-secondary shadow",onClick:function(){return e.props.dispatch(pe(e.state.filter))}},"Search")),r.a.createElement("div",null,r.a.createElement("span",{className:"btn btn-info shadow",onClick:this.onAddBook},"Add Book")))))}},{key:"renderBook",value:function(e,t){var a=e.title,n=e.isbn,l=e.maxCheckoutLength,o=e.copieAvailable;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,o),r.a.createElement("td",null,r.a.createElement(je,{book:e})))}},{key:"renderPaging",value:function(){var e=this,t=Math.ceil(this.props.books.length/10),a=this.props.pageNo<t,n=this.props.pageNo>1;return r.a.createElement("div",{className:"table-paging"},r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination justify-content-end pagination-sm"},r.a.createElement("li",{className:"page-item "+(n?"":"disabled"),onClick:function(){return n&&e.props.dispatch(he(e.props.pageNo-1))}},r.a.createElement("span",{className:"page-link",tabIndex:"-1"},"Previous")),E.a.range(1,t+1,1).map((function(t,a){var n=e.props.pageNo===t;return r.a.createElement("li",{className:"page-item "+(n?"active":""),key:a,onClick:function(){return e.props.dispatch(he(t))}},r.a.createElement("span",{className:"page-link"},t))})),r.a.createElement("li",{className:"page-item "+(a?"":"disabled"),onClick:function(){return a&&e.props.dispatch(he(e.props.pageNo+1))}},r.a.createElement("span",{className:"page-link",tabIndex:"-1"},"Next")))))}},{key:"renderBooksList",value:function(){var e=this,t=this.props,a=t.books,n=10*(t.pageNo-1),l=(null===a||void 0===a?void 0:a.length)-n>10?10:(null===a||void 0===a?void 0:a.length)-n,o=E.a.slice(a,n,n+l);return r.a.createElement("div",{className:"card book-list mt-4 shadow border-0"},r.a.createElement("div",{className:"card-header"},r.a.createElement("span",null,"Books List")),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"ISBN"),r.a.createElement("th",{scope:"col"},"Period"),r.a.createElement("th",{scope:"col"},"Available"),r.a.createElement("th",null))),r.a.createElement("tbody",null,null===o||void 0===o?void 0:o.map((function(t,a){return e.renderBook(t,a)})))),this.renderPaging()))}},{key:"render",value:function(){return r.a.createElement("div",{className:"BookManagement"},r.a.createElement("div",{className:"content"},this.renderFilter(),this.renderBooksList(),this.renderPopup()))}}]),a}(n.Component),Ce=Object(v.b)((function(e){return{books:e.bookReducer.records,isLoading:e.bookReducer.isLoading,pageNo:e.bookReducer.pageNo||1}}))(Oe);var je=function(e){var t=e.book,a=Object(n.useState)(!1),l=Object(g.a)(a,2),o=l[0],c=l[1],s=Object(n.useState)(0),i=Object(g.a)(s,2),m=i[0],u=i[1],d=Object(v.c)();return Object(n.useEffect)((function(){c(!1),u(0)}),[t]),r.a.createElement("div",{className:"add-copy-container d-flex"},o?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{name:"copyNum",type:"number",className:"form-control mr-3 copy-num",onChange:function(e){return E.a.isSafeInteger(e.target.value)&&u(e.target.value)}}),r.a.createElement("span",{className:"btn btn-primary shadow "+(m>0?"":"disabled"),title:"Add Copy",value:m,onClick:function(){return m>0&&d((e=t.isbn,a=m,Object(N.a)({},O,{types:[te,ae,ne,!0],endpoint:"/book/addcopy/isbn/".concat(e,"/nbrcopy/").concat(a),method:C})));var e,a}},r.a.createElement("i",{className:"fas fa-save"}))):r.a.createElement("span",{className:"btn btn-secondary shadow",title:"Add Copy",onClick:function(){return c(!0)}},r.a.createElement("i",{className:"fas fa-copy"})))},Se=a(2),Ae=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"renderBody",value:function(){return r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group d-flex"},r.a.createElement("label",{className:"col-2",for:"firstName"},"First Name ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{type:"firstName",id:"firstName",className:"form-control col-10",placeholder:"Enter First Name"})),r.a.createElement("div",{className:"form-group d-flex"},r.a.createElement("label",{className:"col-2",for:"lastName"},"Last Name ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control col-10",id:"lastName",placeholder:"Enter Last Name"})),r.a.createElement("div",{className:"form-group d-flex"},r.a.createElement("label",{className:"col-2",for:"phone"},"Phone ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control col-10",id:"phone",placeholder:"Enter Phone Number"})),r.a.createElement("div",{className:"form-group d-flex"},r.a.createElement("label",{className:"col-2",for:"street"},"Street ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control col-10",id:"street",placeholder:"Enter Street"})),r.a.createElement("div",{className:"form-group d-flex align-items-center"},r.a.createElement("label",{className:"col-2",for:"city"},"City ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control col-4",id:"city",placeholder:"Enter City"}),r.a.createElement("label",{className:"col-2 text-right",for:"state"},"State ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control col-4",id:"state",placeholder:"Enter State"})),r.a.createElement("div",{className:"form-group d-flex mb-4"},r.a.createElement("label",{className:"col-2",for:"zipcode"},"Zipcode ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement("input",{className:"form-control col-8",id:"zipcode",placeholder:"Enter Zipcode"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("button",{className:"btn btn-primary mr-2"},"Submit"),r.a.createElement("button",{className:"btn btn-secondary"},"Close"))))}},{key:"render",value:function(){var e=Object(Se.a)(Object(Se.a)({},this.props),{},{body:this.renderBody(),clazz:"modal-lg",noFooter:!0});return r.a.createElement(f,e)}}]),a}(n.Component),we=Object(v.b)((function(e){return{member:e.memberReducer.newMember}}))(Ae);var Be=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onFilterMember=function(){n.props.dispatch(q(n.state.filter))},n.onAddNewMember=function(){n.setState({isOpenAddNew:!0})},n.handleCloseAddNewMember=function(){n.setState({isOpenAddNew:!1})},n.renderPopup=function(){var e=n.state.isOpenAddNew;if(!e)return null;var t={show:e,title:"Add New Member",handleClose:n.handleCloseAddNewMember};return r.a.createElement(we,t)},n.state={filter:"",isOpenAddNew:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(J())}},{key:"componentDidUpdate",value:function(){var e=this;!this.props.memners&&this.props.error&&setTimeout((function(){return e.props.dispatch(J())}),8e3)}},{key:"renderFilter",value:function(){var e=this;return r.a.createElement("div",{className:"card filter shadow border-0"},r.a.createElement("div",{className:"card-header"},r.a.createElement("span",null,"Filter Members")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("input",{className:"form-control col-9 mr-3",name:"filterKeyword",onChange:function(t){return e.setState({filter:t.target.value})}}),r.a.createElement("span",{className:"btn btn-secondary shadow",onClick:this.onFilterMember},"Search")),r.a.createElement("div",null,r.a.createElement("span",{className:"btn btn-info shadow",onClick:this.onAddNewMember},"Add Member")))))}},{key:"renderMember",value:function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.fullName),r.a.createElement("td",null,e.address.city,", ",e.address.state,", ",e.address.zip),r.a.createElement("td",null,e.phoneNumber))}},{key:"renderPaging",value:function(){var e=this,t=Math.ceil(this.props.members.length/10),a=this.props.pageNo<t,n=this.props.pageNo>1;return r.a.createElement("div",{className:"table-paging"},r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination justify-content-end pagination-sm"},r.a.createElement("li",{className:"page-item "+(n?"":"disabled"),onClick:function(){return n&&e.props.dispatch(Y(e.props.pageNo-1))}},r.a.createElement("span",{className:"page-link",tabIndex:"-1"},"Previous")),E.a.range(1,t+1,1).map((function(t,a){var n=e.props.pageNo===t;return r.a.createElement("li",{className:"page-item "+(n?"active":""),key:a,onClick:function(){return e.props.dispatch(Y(t))}},r.a.createElement("span",{className:"page-link"},t))})),r.a.createElement("li",{className:"page-item "+(a?"":"disabled"),onClick:function(){return a&&e.props.dispatch(Y(e.props.pageNo+1))}},r.a.createElement("span",{className:"page-link",tabIndex:"-1"},"Next")))))}},{key:"renderMembersList",value:function(){var e=this,t=this.props,a=t.members,n=10*(t.pageNo-1),l=(null===a||void 0===a?void 0:a.length)-n>10?10:(null===a||void 0===a?void 0:a.length)-n,o=E.a.slice(a,n,n+l);return r.a.createElement("div",{className:"card book-list mt-4 shadow border-0"},r.a.createElement("div",{className:"card-header"},r.a.createElement("span",null,"Members List")),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Address"),r.a.createElement("th",{scope:"col"},"Phone"))),r.a.createElement("tbody",null,null===o||void 0===o?void 0:o.map((function(t,a){return e.renderMember(t,a)})))),this.renderPaging()))}},{key:"render",value:function(){return r.a.createElement("div",{className:"MemberManagement"},this.renderFilter(),this.renderMembersList(),this.renderPopup())}}]),a}(n.Component),xe=Object(v.b)((function(e){return{members:e.memberReducer.records,error:e.memberReducer.error,pageNo:e.memberReducer.pageNo||1}}))(Be);var Me=a(100),_e=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onLogin=function(e){e.preventDefault();var t,a=n.state,r=a.userName,l=a.password;n.props.dispatch((t={userName:r,password:l},Object(N.a)({},O,{types:[K,H,G,!0],endpoint:"/auth/login",method:C,body:t})))},n.state={userName:"",password:"",images:["https://library.miu.edu/wp-content/uploads/sites/12/2019/11/IMG_0230-860x500.jpg","https://library.miu.edu/wp-content/uploads/sites/12/2019/05/PicsArt_05-15-08.09.41-860x500.jpg","https://library.miu.edu/wp-content/uploads/sites/12/2019/11/IMG_0241-860x500.jpg","https://library.miu.edu/wp-content/uploads/sites/12/2019/11/IMG_0248-860x500.jpg"]},n}return Object(s.a)(a,[{key:"renderCarousel",value:function(){return r.a.createElement(Me.a,null,E.a.map(this.state.images,(function(e,t){return r.a.createElement(Me.a.Item,{key:t},r.a.createElement("img",{src:e,className:"d-block",alt:""}),r.a.createElement(Me.a.Caption,null,r.a.createElement("h5",{className:"text-info"},"Image from https://library.miu.edu/")))})))}},{key:"renderHome",value:function(){return r.a.createElement("div",{className:"mt-5 text-info"},r.a.createElement("h4",null,"Welcome to Maharishi International University Library System"),r.a.createElement("div",{className:"mt-3"},this.renderCarousel()))}},{key:"renderLoginForm",value:function(){var e=this;return r.a.createElement("div",{className:"login-form d-flex flex-column col-6"},r.a.createElement("form",{onSubmit:this.onLogin},r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",null,"Login")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"userName"},"Username"),r.a.createElement("input",{className:"form-control",id:"userName",placeholder:"Enter username",required:!0,onChange:function(t){return e.setState({userName:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",required:!0,onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Login"))),r.a.createElement("div",{className:"d-flex flex-column mt-5 bg-light"},r.a.createElement("h4",null,"Test users"),r.a.createElement("span",null,"admin/12345"),r.a.createElement("span",null,"superadmin/12345"),r.a.createElement("span",null,"librarian/12345")))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Home d-flex justify-content-center text-center"},this.props.isAuthenticated?this.renderHome():this.renderLoginForm())}}]),a}(n.Component),De=Object(v.b)((function(e){return e}))(Object(p.g)(_e));a(96);var Re={BOOK_MANAGEMENT:["ADD_BOOK"],MEMBER_MANAGEMENT:["UPDATE_MEMBER","DELETE_MEMBER","ADD_MEMBER"],CHECK_OUT:["CHECKOUT_BOOK"],LOGOUT:["UPDATE_MEMBER","ADD_BOOK","CHECKOUT_BOOK"]},Ie=[{id:1,link:"/",label:"Home",icon:"fa-home"},{id:2,link:"/member-management",label:"Member Management",type:"MEMBER_MANAGEMENT",icon:"fa-user-friends"},{id:3,link:"/book-management",label:"Book Management",type:"BOOK_MANAGEMENT",icon:"fa-book"},{id:4,link:"/checkout",label:"Checkout",type:"CHECK_OUT",icon:"fa-receipt"},{link:"logout",label:"Logout",type:"LOGOUT",icon:"fa-sign-out-alt"}];function Le(e,t){return function(e){return Ie.filter((function(t){return t.link===e}))}(e).filter((function(e){return Fe({type:e.type,userPermissions:t})})).length>0}function Fe(e){var t=e.type,a=e.userPermissions;if(E.a.isEmpty(t))return!0;if(E.a.isEmpty(a))return!1;var n=Re[t],r=a.filter((function(e){return E.a.findIndex(n,(function(t){return t===e}))>-1}));return!E.a.isEmpty(r)}var Te=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).isActive=function(e){var t=n.props.history.location.pathname;return e.link===t},n.onClickLink=function(e){"logout"===e.link?n.props.dispatch({type:z}):n.props.history.push(e.link)},n.state={items:[]},n}return Object(s.a)(a,[{key:"renderNav",value:function(){return r.a.createElement("div",{className:"nav d-sm-none d-md-block d-lg-none"},r.a.createElement("nav",{className:"navbar navbar-expand-lg"},r.a.createElement("span",{className:"navbar-brand"},"Library Management")))}},{key:"renderMenus",value:function(){var e,t=this;return(e=this.props.permissions,Ie.filter((function(t){return Fe({type:t.type,userPermissions:e})}))).map((function(e,a){var n=t.isActive(e);return r.a.createElement("li",{className:"nav-item "+(n?"active":""),key:a,onClick:function(){return t.onClickLink(e)}},r.a.createElement("span",{className:"nav-link "+(n?"active":"")},r.a.createElement("i",{className:"mr-1 col-2 fas "+e.icon}),e.label))}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"side-bar d-none d-lg-block",id:"sidebar-wrapper"},r.a.createElement("nav",{className:""},r.a.createElement("div",{className:"sidebar-heading"}),r.a.createElement("ul",{className:"nav flex-column flex-nowrap"},this.renderMenus())))}}]),a}(n.Component),Pe=Object(p.g)(Te),Ue=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"loading-layout",id:"loadingLayout"},r.a.createElement("div",{className:"loading-overlay"}),r.a.createElement("div",{className:"loading-spinner d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-grow text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),r.a.createElement("div",{className:"spinner-grow text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),r.a.createElement("div",{className:"spinner-grow text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))))}}]),a}(n.Component),Ke=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return this.props.isAuthenticated&&Le(this.props.history.location.pathname,this.props.permissions)?null:r.a.createElement(p.a,{to:"/"})}}]),a}(n.Component),He=Object(p.g)(Ke),Ge="ADD_TOAST",ze="REMOVE_TOAST",We="bg-danger",qe="bg-warning",Je="bg-success",Ve=0;function Ye(e){var t=e.title,a=e.message,n=e.toastType,r=e.errors;return{type:Ge,payload:{item:{title:t,message:a,id:Ve++,tClass:n,errors:r}}}}function Ze(e){return{type:ze,payload:{id:e}}}var $e=function(e){var t=e.item,a=e.remove,l=Object(n.useRef)();return l.current=a,Object(n.useEffect)((function(){var e=setTimeout((function(){return l.current(t)}),5e3);return function(){return clearTimeout(e)}}),[t]),r.a.createElement("div",{className:"toast show border-0"},r.a.createElement("div",{className:"toast-header border-0 "+t.tClass},r.a.createElement("strong",{className:"mr-auto"},t.title),r.a.createElement("span",{type:"button",className:"ml-2 mb-1 close",onClick:function(){return a(t)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"toast-body"},t.message,r.a.createElement("div",{className:"d-flex flex-column border-info"},E.a.map(t.errors,(function(e,t){return r.a.createElement("span",{key:t},E.a.isObject(e)?e.message:e)})))))},Qe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).onTimeOut=function(t){setTimeout((function(){return e.props.dispatch(Ze(t.id))}),5e3)},e.onClickRemove=function(t){e.props.dispatch(Ze(t.id))},e}return Object(s.a)(a,[{key:"renderItems",value:function(){var e=this,t=this.props.items;return r.a.createElement("div",{className:"toasts"},E.a.map(t,(function(t,a){return r.a.createElement($e,Object.assign({item:t,remove:e.onClickRemove},{key:a}))})))}},{key:"render",value:function(){return r.a.createElement("div",{className:"toast-container"},this.renderItems())}}]),a}(n.Component),Xe=Object(v.b)((function(e){return{items:e.toastReducer.items}}))(Qe);var et=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).toggleSideBar=function(){n.setState({isOpenSideBar:!n.state.isOpenSideBar})},n.state={isOpenSideBar:!0},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,{basename:"/probuild"},r.a.createElement("div",{className:"App d-flex "+(this.state.isOpenSideBar?"":"togged"),id:"wrapper"},r.a.createElement(Xe,null),r.a.createElement(He,this.props),r.a.createElement(Ue,null),r.a.createElement(Pe,this.props),r.a.createElement("div",{className:"page-content-wrapper"},r.a.createElement(u,Object.assign({toggleSideBar:this.toggleSideBar},this.props)),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(De,this.props)),r.a.createElement(p.b,{path:"/checkout"},r.a.createElement(ge,null)),r.a.createElement(p.b,{path:"/book-management"},r.a.createElement(Ce,null)),r.a.createElement(p.b,{path:"/member-management"},r.a.createElement(xe,null)))))))}}]),a}(n.Component),tt=Object(v.b)((function(e){return{isAuthenticated:e.authReducer.isAuthenticated,permissions:e.authReducer.permissions,fullName:e.authReducer.fullName}}))(et);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var at=a(24),nt={records:[],isLoading:!0};var rt={records:[],checkout:{isbn:"",memberId:""},checkoutRecord:""};var lt="USER_ID",ot="PERMISSIONS",ct="USER_NAME";function st(){return{isAuthenticated:!E.a.isEmpty(localStorage.getItem(lt)),permissions:localStorage.getItem(ot)?JSON.parse(localStorage.getItem(ot)):[],fullName:localStorage.getItem(ct)}}var it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isAuthenticated:!1};return arguments.length>1&&arguments[1],Object(Se.a)(Object(Se.a)({},e),st())},mt={items:[]};var ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Ge:return{items:e.items.concat(n.item)};case ze:return{items:e.items.filter((function(e){return e.id!==n.id}))};default:return e}},dt=Object(at.combineReducers)({memberReducer:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,a=arguments.length>1?arguments[1]:void 0,n=a.type,r=a.payload;switch(n){case w:case M:return Object(Se.a)(Object(Se.a)({},t),{},{records:r.data,pageNo:1});case B:return Object(Se.a)(Object(Se.a)({},t),{},{error:r});case R:return Object(Se.a)(Object(Se.a)({},t),{},{checkout:{memberId:t.checkout.memberId,isbn:""}});case L:return Object(Se.a)(Object(Se.a)({},t),{},{checkout:Object(Se.a)(Object(Se.a)({},t.checkout),{},{isbn:r})});case F:return Object(Se.a)(Object(Se.a)({},t),{},{checkout:Object(Se.a)(Object(Se.a)({},t.checkout),{},{memberId:r})});case P:return Object(Se.a)(Object(Se.a)({},t),{},{checkoutRecord:null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.checkoutRecord});case W:return Object(Se.a)(Object(Se.a)({},t),{},{pageNo:r});default:return t}},bookReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0,a=t.payload,n=t.type;switch(n){case Q:return Object(Se.a)({},e);case X:return{records:a&&a.data,succeed:a&&a.success,messages:a&&(a.messages||[a.message])};case ee:return Object(Se.a)(Object(Se.a)({},e),{},{error:a});case se:return{records:a.data};case oe:return Object(Se.a)(Object(Se.a)({},e),{},{records:e.records.concat(t.payload),newBookResult:a});case le:return Object(Se.a)(Object(Se.a)({},e),{},{newBookErrors:a.errors});case me:return Object(Se.a)(Object(Se.a)({},e),{},{authors:a.data});case ne:return Object(Se.a)(Object(Se.a)({},e),{},{keepEditCopy:!0});case ue:return Object(Se.a)(Object(Se.a)({},e),{},{pageNo:a});default:return e}},authReducer:it,toastReducer:ut}),pt=a(62),ht=a(46),Et=a.n(ht),bt=function(e){return function(e){return function(t){return t&&t.isLoading?Et()("#loadingLayout").addClass("show"):Et()("#loadingLayout").removeClass("show"),e(t)}}};function ft(e,t,a,n){return{title:e,message:t,toastType:a,errors:n}}var vt=a(63),Nt=Object(at.createStore)(dt,Object(vt.composeWithDevTools)(Object(at.applyMiddleware)(pt.a,S,(function(e){return function(t){return function(a){var n,r,l;switch(a.type){case B:return e.dispatch(Ye(ft("Error","Unable to fetch the Members",We))),t(a);case ee:return e.dispatch(Ye(ft("Error","Unable to fetch the Books",We))),t(a);case oe:return e.dispatch(Ye(ft("Info","Add the book successfully",Je))),t(a);case R:return e.dispatch(Ye(ft("Info","Checkout book successfully",Je))),e.dispatch(V(e.getState().memberReducer.checkout.memberId)),t(a);case I:var o=a.payload.response.data.errors;return e.dispatch(Ye(ft("Unable to Checkout the book","Info: ",qe,o))),t(a);case G:return e.dispatch(Ye(ft("Login Fail","Details: ",qe,null===(n=a.payload)||void 0===n||null===(r=n.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.errors))),t(a);case ae:return e.dispatch(Ye(ft("Book Copy Added","Book Copy added successfully ",Je))),e.dispatch(de()),t(a);case ne:return e.dispatch(Ye(ft("Error","Unable to add book copy",We))),t(a);default:return t(a)}}}}),(function(e){return function(e){return function(t){var a,n;switch(t.type){case H:var r=null===(a=t.payload)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.systemUser;return localStorage.setItem(lt,r.userName),localStorage.setItem(ot,JSON.stringify(r.permissionsGranted)),localStorage.setItem(ct,r.fullName),e(t);case z:return localStorage.removeItem(lt),localStorage.removeItem(ot),localStorage.removeItem(ct),e(t);default:return e(t)}}}}),bt)));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v.a,{store:Nt},r.a.createElement(tt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[66,1,2]]]);
//# sourceMappingURL=main.87743d25.chunk.js.map